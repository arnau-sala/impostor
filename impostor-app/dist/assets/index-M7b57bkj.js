(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function wy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vf={exports:{}},qs={};var bg;function hb(){if(bg)return qs;bg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:a,type:r,key:h,ref:u!==void 0?u:null,props:f}}return qs.Fragment=n,qs.jsx=l,qs.jsxs=l,qs}var Sg;function mb(){return Sg||(Sg=1,vf.exports=hb()),vf.exports}var g=mb(),bf={exports:{}},he={};var Cg;function pb(){if(Cg)return he;Cg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function Q(E){return E===null||typeof E!="object"?null:(E=T&&E[T]||E["@@iterator"],typeof E=="function"?E:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,De={};function we(E,H,Z){this.props=E,this.context=H,this.refs=De,this.updater=Z||q}we.prototype.isReactComponent={},we.prototype.setState=function(E,H){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,H,"setState")},we.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function $e(){}$e.prototype=we.prototype;function Oe(E,H,Z){this.props=E,this.context=H,this.refs=De,this.updater=Z||q}var dt=Oe.prototype=new $e;dt.constructor=Oe,ie(dt,we.prototype),dt.isPureReactComponent=!0;var Tt=Array.isArray;function xt(){}var ce={H:null,A:null,T:null,S:null},At=Object.prototype.hasOwnProperty;function Xt(E,H,Z){var $=Z.ref;return{$$typeof:a,type:E,key:H,ref:$!==void 0?$:null,props:Z}}function Yn(E,H){return Xt(E.type,H,E.props)}function Kt(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function Nt(E){var H={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Z){return H[Z]})}var et=/\/+/g;function Pt(E,H){return typeof E=="object"&&E!==null&&E.key!=null?Nt(""+E.key):H.toString(36)}function zt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(xt,xt):(E.status="pending",E.then(function(H){E.status==="pending"&&(E.status="fulfilled",E.value=H)},function(H){E.status==="pending"&&(E.status="rejected",E.reason=H)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function I(E,H,Z,$,fe){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var Ae=!1;if(E===null)Ae=!0;else switch(ge){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(E.$$typeof){case a:case n:Ae=!0;break;case x:return Ae=E._init,I(Ae(E._payload),H,Z,$,fe)}}if(Ae)return fe=fe(E),Ae=$===""?"."+Pt(E,0):$,Tt(fe)?(Z="",Ae!=null&&(Z=Ae.replace(et,"$&/")+"/"),I(fe,H,Z,"",function(bt){return bt})):fe!=null&&(Kt(fe)&&(fe=Yn(fe,Z+(fe.key==null||E&&E.key===fe.key?"":(""+fe.key).replace(et,"$&/")+"/")+Ae)),H.push(fe)),1;Ae=0;var jt=$===""?".":$+":";if(Tt(E))for(var lt=0;lt<E.length;lt++)$=E[lt],ge=jt+Pt($,lt),Ae+=I($,H,Z,ge,fe);else if(lt=Q(E),typeof lt=="function")for(E=lt.call(E),lt=0;!($=E.next()).done;)$=$.value,ge=jt+Pt($,lt++),Ae+=I($,H,Z,ge,fe);else if(ge==="object"){if(typeof E.then=="function")return I(zt(E),H,Z,$,fe);throw H=String(E),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(E,H,Z){if(E==null)return E;var $=[],fe=0;return I(E,$,"","",function(ge){return H.call(Z,ge,fe++)}),$}function ae(E){if(E._status===-1){var H=E._result;H=H(),H.then(function(Z){(E._status===0||E._status===-1)&&(E._status=1,E._result=Z)},function(Z){(E._status===0||E._status===-1)&&(E._status=2,E._result=Z)}),E._status===-1&&(E._status=0,E._result=H)}if(E._status===1)return E._result.default;throw E._result}var xe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Be={map:K,forEach:function(E,H,Z){K(E,function(){H.apply(this,arguments)},Z)},count:function(E){var H=0;return K(E,function(){H++}),H},toArray:function(E){return K(E,function(H){return H})||[]},only:function(E){if(!Kt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return he.Activity=S,he.Children=Be,he.Component=we,he.Fragment=l,he.Profiler=u,he.PureComponent=Oe,he.StrictMode=r,he.Suspense=_,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,he.__COMPILER_RUNTIME={__proto__:null,c:function(E){return ce.H.useMemoCache(E)}},he.cache=function(E){return function(){return E.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(E,H,Z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var $=ie({},E.props),fe=E.key;if(H!=null)for(ge in H.key!==void 0&&(fe=""+H.key),H)!At.call(H,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&H.ref===void 0||($[ge]=H[ge]);var ge=arguments.length-2;if(ge===1)$.children=Z;else if(1<ge){for(var Ae=Array(ge),jt=0;jt<ge;jt++)Ae[jt]=arguments[jt+2];$.children=Ae}return Xt(E.type,fe,$)},he.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},he.createElement=function(E,H,Z){var $,fe={},ge=null;if(H!=null)for($ in H.key!==void 0&&(ge=""+H.key),H)At.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(fe[$]=H[$]);var Ae=arguments.length-2;if(Ae===1)fe.children=Z;else if(1<Ae){for(var jt=Array(Ae),lt=0;lt<Ae;lt++)jt[lt]=arguments[lt+2];fe.children=jt}if(E&&E.defaultProps)for($ in Ae=E.defaultProps,Ae)fe[$]===void 0&&(fe[$]=Ae[$]);return Xt(E,ge,fe)},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:p,render:E}},he.isValidElement=Kt,he.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:ae}},he.memo=function(E,H){return{$$typeof:d,type:E,compare:H===void 0?null:H}},he.startTransition=function(E){var H=ce.T,Z={};ce.T=Z;try{var $=E(),fe=ce.S;fe!==null&&fe(Z,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xt,xe)}catch(ge){xe(ge)}finally{H!==null&&Z.types!==null&&(H.types=Z.types),ce.T=H}},he.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},he.use=function(E){return ce.H.use(E)},he.useActionState=function(E,H,Z){return ce.H.useActionState(E,H,Z)},he.useCallback=function(E,H){return ce.H.useCallback(E,H)},he.useContext=function(E){return ce.H.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E,H){return ce.H.useDeferredValue(E,H)},he.useEffect=function(E,H){return ce.H.useEffect(E,H)},he.useEffectEvent=function(E){return ce.H.useEffectEvent(E)},he.useId=function(){return ce.H.useId()},he.useImperativeHandle=function(E,H,Z){return ce.H.useImperativeHandle(E,H,Z)},he.useInsertionEffect=function(E,H){return ce.H.useInsertionEffect(E,H)},he.useLayoutEffect=function(E,H){return ce.H.useLayoutEffect(E,H)},he.useMemo=function(E,H){return ce.H.useMemo(E,H)},he.useOptimistic=function(E,H){return ce.H.useOptimistic(E,H)},he.useReducer=function(E,H,Z){return ce.H.useReducer(E,H,Z)},he.useRef=function(E){return ce.H.useRef(E)},he.useState=function(E){return ce.H.useState(E)},he.useSyncExternalStore=function(E,H,Z){return ce.H.useSyncExternalStore(E,H,Z)},he.useTransition=function(){return ce.H.useTransition()},he.version="19.2.0",he}var Eg;function rd(){return Eg||(Eg=1,bf.exports=pb()),bf.exports}var J=rd();const gb=wy(J);var Sf={exports:{}},Gs={},Cf={exports:{}},Ef={};var Tg;function yb(){return Tg||(Tg=1,(function(a){function n(I,K){var ae=I.length;I.push(K);e:for(;0<ae;){var xe=ae-1>>>1,Be=I[xe];if(0<u(Be,K))I[xe]=K,I[ae]=Be,ae=xe;else break e}}function l(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var K=I[0],ae=I.pop();if(ae!==K){I[0]=ae;e:for(var xe=0,Be=I.length,E=Be>>>1;xe<E;){var H=2*(xe+1)-1,Z=I[H],$=H+1,fe=I[$];if(0>u(Z,ae))$<Be&&0>u(fe,Z)?(I[xe]=fe,I[$]=ae,xe=$):(I[xe]=Z,I[H]=ae,xe=H);else if($<Be&&0>u(fe,ae))I[xe]=fe,I[$]=ae,xe=$;else break e}}return K}function u(I,K){var ae=I.sortIndex-K.sortIndex;return ae!==0?ae:I.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();a.unstable_now=function(){return h.now()-p}}var _=[],d=[],x=1,S=null,T=3,Q=!1,q=!1,ie=!1,De=!1,we=typeof setTimeout=="function"?setTimeout:null,$e=typeof clearTimeout=="function"?clearTimeout:null,Oe=typeof setImmediate<"u"?setImmediate:null;function dt(I){for(var K=l(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=I)r(d),K.sortIndex=K.expirationTime,n(_,K);else break;K=l(d)}}function Tt(I){if(ie=!1,dt(I),!q)if(l(_)!==null)q=!0,xt||(xt=!0,Nt());else{var K=l(d);K!==null&&zt(Tt,K.startTime-I)}}var xt=!1,ce=-1,At=5,Xt=-1;function Yn(){return De?!0:!(a.unstable_now()-Xt<At)}function Kt(){if(De=!1,xt){var I=a.unstable_now();Xt=I;var K=!0;try{e:{q=!1,ie&&(ie=!1,$e(ce),ce=-1),Q=!0;var ae=T;try{t:{for(dt(I),S=l(_);S!==null&&!(S.expirationTime>I&&Yn());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,T=S.priorityLevel;var Be=xe(S.expirationTime<=I);if(I=a.unstable_now(),typeof Be=="function"){S.callback=Be,dt(I),K=!0;break t}S===l(_)&&r(_),dt(I)}else r(_);S=l(_)}if(S!==null)K=!0;else{var E=l(d);E!==null&&zt(Tt,E.startTime-I),K=!1}}break e}finally{S=null,T=ae,Q=!1}K=void 0}}finally{K?Nt():xt=!1}}}var Nt;if(typeof Oe=="function")Nt=function(){Oe(Kt)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Pt=et.port2;et.port1.onmessage=Kt,Nt=function(){Pt.postMessage(null)}}else Nt=function(){we(Kt,0)};function zt(I,K){ce=we(function(){I(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(I){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var ae=T;T=K;try{return I()}finally{T=ae}},a.unstable_requestPaint=function(){De=!0},a.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ae=T;T=I;try{return K()}finally{T=ae}},a.unstable_scheduleCallback=function(I,K,ae){var xe=a.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,I){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ae+Be,I={id:x++,callback:K,priorityLevel:I,startTime:ae,expirationTime:Be,sortIndex:-1},ae>xe?(I.sortIndex=ae,n(d,I),l(_)===null&&I===l(d)&&(ie?($e(ce),ce=-1):ie=!0,zt(Tt,ae-xe))):(I.sortIndex=Be,n(_,I),q||Q||(q=!0,xt||(xt=!0,Nt()))),I},a.unstable_shouldYield=Yn,a.unstable_wrapCallback=function(I){var K=T;return function(){var ae=T;T=K;try{return I.apply(this,arguments)}finally{T=ae}}}})(Ef)),Ef}var xg;function _b(){return xg||(xg=1,Cf.exports=yb()),Cf.exports}var Tf={exports:{}},Qt={};var Ag;function vb(){if(Ag)return Qt;Ag=1;var a=rd();function n(_){var d="https://react.dev/errors/"+_;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+_+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,d,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:_,containerInfo:d,implementation:x}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,d){if(_==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(_,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return f(_,d,null,x)},Qt.flushSync=function(_){var d=h.T,x=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=d,r.p=x,r.d.f()}},Qt.preconnect=function(_,d){typeof _=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(_,d))},Qt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Qt.preinit=function(_,d){if(typeof _=="string"&&d&&typeof d.as=="string"){var x=d.as,S=p(x,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,Q=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;x==="style"?r.d.S(_,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:Q}):x==="script"&&r.d.X(_,{crossOrigin:S,integrity:T,fetchPriority:Q,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qt.preinitModule=function(_,d){if(typeof _=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var x=p(d.as,d.crossOrigin);r.d.M(_,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(_)},Qt.preload=function(_,d){if(typeof _=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var x=d.as,S=p(x,d.crossOrigin);r.d.L(_,x,{crossOrigin:S,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qt.preloadModule=function(_,d){if(typeof _=="string")if(d){var x=p(d.as,d.crossOrigin);r.d.m(_,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(_)},Qt.requestFormReset=function(_){r.d.r(_)},Qt.unstable_batchedUpdates=function(_,d){return _(d)},Qt.useFormState=function(_,d,x){return h.H.useFormState(_,d,x)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.2.0",Qt}var Ng;function bb(){if(Ng)return Tf.exports;Ng=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Tf.exports=vb(),Tf.exports}var Rg;function Sb(){if(Rg)return Gs;Rg=1;var a=_b(),n=rd(),l=bb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return _(o),e;if(c===s)return _(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=c;else{for(var m=!1,y=o.child;y;){if(y===i){m=!0,i=o,s=c;break}if(y===s){m=!0,s=o,i=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===i){m=!0,i=c,s=o;break}if(y===s){m=!0,s=c,i=o;break}y=y.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),De=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),$e=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Xt=Symbol.for("react.activity"),Yn=Symbol.for("react.memo_cache_sentinel"),Kt=Symbol.iterator;function Nt(e){return e===null||typeof e!="object"?null:(e=Kt&&e[Kt]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case we:return"Profiler";case De:return"StrictMode";case Tt:return"Suspense";case xt:return"SuspenseList";case Xt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Oe:return e.displayName||"Context";case $e:return(e._context.displayName||"Context")+".Consumer";case dt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:Pt(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return Pt(e(t))}catch{}}return null}var zt=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],Be=-1;function E(e){return{current:e}}function H(e){0>Be||(e.current=xe[Be],xe[Be]=null,Be--)}function Z(e,t){Be++,xe[Be]=e.current,e.current=t}var $=E(null),fe=E(null),ge=E(null),Ae=E(null);function jt(e,t){switch(Z(ge,t),Z(fe,e),Z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gp(t),e=Yp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H($),Z($,e)}function lt(){H($),H(fe),H(ge)}function bt(e){e.memoizedState!==null&&Z(Ae,e);var t=$.current,i=Yp(t,e.type);t!==i&&(Z(fe,e),Z($,i))}function cl(e){fe.current===e&&(H($),H(fe)),Ae.current===e&&(H(Ae),Bs._currentValue=ae)}var fl,Xl;function Sn(e){if(fl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);fl=t&&t[1]||"",Xl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fl+e+Xl}var dl=!1;function Wt(e,t){if(!e||dl)return"";dl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(z){var w=z}Reflect.construct(e,[],V)}else{try{V.call()}catch(z){w=z}e.call(V.prototype)}}else{try{throw Error()}catch(z){w=z}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(z){if(z&&w&&typeof z.stack=="string")return[z.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),m=c[0],y=c[1];if(m&&y){var v=m.split(`
`),D=y.split(`
`);for(o=s=0;s<v.length&&!v[s].includes("DetermineComponentFrameRoot");)s++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(s===v.length||o===D.length)for(s=v.length-1,o=D.length-1;1<=s&&0<=o&&v[s]!==D[o];)o--;for(;1<=s&&0<=o;s--,o--)if(v[s]!==D[o]){if(s!==1||o!==1)do if(s--,o--,0>o||v[s]!==D[o]){var L=`
`+v[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=o);break}}}finally{dl=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Sn(i):""}function yr(e,t){switch(e.tag){case 26:case 27:case 5:return Sn(e.type);case 16:return Sn("Lazy");case 13:return e.child!==t&&t!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Wt(e.type,!1);case 11:return Wt(e.type.render,!1);case 1:return Wt(e.type,!0);case 31:return Sn("Activity");default:return""}}function hl(e){try{var t="",i=null;do t+=yr(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Jn=Object.prototype.hasOwnProperty,Kl=a.unstable_scheduleCallback,Ni=a.unstable_cancelCallback,_r=a.unstable_shouldYield,Zl=a.unstable_requestPaint,Rt=a.unstable_now,Pa=a.unstable_getCurrentPriorityLevel,Pl=a.unstable_ImmediatePriority,$n=a.unstable_UserBlockingPriority,ml=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,un=a.unstable_IdlePriority,Wl=a.log,Cn=a.unstable_setDisableYieldValue,wn=null,It=null;function On(e){if(typeof Wl=="function"&&Cn(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(wn,e)}catch{}}var Gt=Math.clz32?Math.clz32:cn,Jl=Math.log,$l=Math.LN2;function cn(e){return e>>>=0,e===0?32:31-(Jl(e)/$l|0)|0}var ea=256,zn=262144,Yt=4194304;function jn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qn(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~c,s!==0?o=jn(s):(m&=y,m!==0?o=jn(m):i||(i=y&~e,i!==0&&(o=jn(i))))):(y=s&~c,y!==0?o=jn(y):m!==0?o=jn(m):i||(i=s&~e,i!==0&&(o=jn(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Lt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wa(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var e=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),e}function Di(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function In(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ve(e,t,i,s,o,c){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,v=e.expirationTimes,D=e.hiddenUpdates;for(i=m&~i;0<i;){var L=31-Gt(i),V=1<<L;y[L]=0,v[L]=-1;var w=D[L];if(w!==null)for(D[L]=null,L=0;L<w.length;L++){var z=w[L];z!==null&&(z.lane&=-536870913)}i&=~V}s!==0&&fn(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function fn(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function br(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Gt(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function Sr(e,t){var i=t&-t;return i=(i&42)!==0?1:Mi(i),(i&(e.suspendedLanes|t))!==0?0:i}function Mi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $a(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:hg(e.type))}function es(e,t){var i=K.p;try{return K.p=e,t()}finally{K.p=i}}var Fn=Math.random().toString(36).slice(2),st="__reactFiber$"+Fn,Ut="__reactProps$"+Fn,ei="__reactContainer$"+Fn,ta="__reactEvents$"+Fn,Cr="__reactListeners$"+Fn,na="__reactHandles$"+Fn,pl="__reactResources$"+Fn,wi="__reactMarker$"+Fn;function ts(e){delete e[st],delete e[Ut],delete e[ta],delete e[Cr],delete e[na]}function ti(e){var t=e[st];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ei]||i[st]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Wp(e);e!==null;){if(i=e[st])return i;e=Wp(e)}return t}e=i,i=e.parentNode}return null}function Oi(e){if(e=e[st]||e[ei]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function zi(e){var t=e[pl];return t||(t=e[pl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[wi]=!0}var Er=new Set,Tr={};function ni(e,t){ji(e,t),ji(e+"Capture",t)}function ji(e,t){for(Tr[e]=t,e=0;e<t.length;e++)Er.add(t[e])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xr={},Ar={};function yu(e){return Jn.call(Ar,e)?!0:Jn.call(xr,e)?!1:gu.test(e)?Ar[e]=!0:(xr[e]=!0,!1)}function ia(e,t,i){if(yu(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function la(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Ln(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ii(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){i=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function M(e){if(!e._valueTracker){var t=ii(e)?"checked":"value";e._valueTracker=b(e,t,""+e[t])}}function N(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=ii(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function O(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var U=/[\n"\\]/g;function k(e){return e.replace(U,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ee(e,t,i,s,o,c,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dn(t)):e.value!==""+dn(t)&&(e.value=""+dn(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?G(e,m,dn(t)):i!=null?G(e,m,dn(i)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+dn(y):e.removeAttribute("name")}function Y(e,t,i,s,o,c,m,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){M(e);return}i=i!=null?""+dn(i):"",t=t!=null?""+dn(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),M(e)}function G(e,t,i){t==="number"&&O(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function j(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+dn(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function W(e,t,i){if(t!=null&&(t=""+dn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+dn(i):""}function P(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(zt(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=dn(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),M(e)}function F(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var se=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ye(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||se.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function me(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&ye(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&ye(e,c,t[c])}function ze(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),de=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fe(e){return de.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function He(){}var le=null;function Xe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ke=null,St=null;function hn(e){var t=Oi(e);if(t&&(e=t.stateNode)){var i=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(ee(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+k(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[Ut]||null;if(!o)throw Error(r(90));ee(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&N(s)}break e;case"textarea":W(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&j(e,!!i.multiple,t,!1)}}}var Xn=!1;function pt(e,t,i){if(Xn)return e(t,i);Xn=!0;try{var s=e(t);return s}finally{if(Xn=!1,(Ke!==null||St!==null)&&(mo(),Ke&&(t=Ke,e=St,St=Ke=null,hn(t),e)))for(t=0;t<e.length;t++)hn(e[t])}}function li(e,t){var i=e.stateNode;if(i===null)return null;var s=i[Ut]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(ai)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){_u=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{_u=!1}var Ii=null,vu=null,Nr=null;function Yd(){if(Nr)return Nr;var e,t=vu,i=t.length,s,o="value"in Ii?Ii.value:Ii.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===o[c-s];s++);return Nr=o.slice(e,1<s?1-s:void 0)}function Rr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dr(){return!0}function Qd(){return!1}function Jt(e){function t(i,s,o,c,m){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Dr:Qd,this.isPropagationStopped=Qd,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),t}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Jt(yl),is=S({},yl,{view:0,detail:0}),fv=Jt(is),bu,Su,ls,wr=S({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(bu=e.screenX-ls.screenX,Su=e.screenY-ls.screenY):Su=bu=0,ls=e),bu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),Fd=Jt(wr),dv=S({},wr,{dataTransfer:0}),hv=Jt(dv),mv=S({},is,{relatedTarget:0}),Cu=Jt(mv),pv=S({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),gv=Jt(pv),yv=S({},yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_v=Jt(yv),vv=S({},yl,{data:0}),Xd=Jt(vv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cv[e])?!!t[e]:!1}function Eu(){return Ev}var Tv=S({},is,{key:function(e){if(e.key){var t=bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xv=Jt(Tv),Av=S({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=Jt(Av),Nv=S({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Rv=Jt(Nv),Dv=S({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=Jt(Dv),wv=S({},wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ov=Jt(wv),zv=S({},yl,{newState:0,oldState:0}),jv=Jt(zv),Iv=[9,13,27,32],Tu=ai&&"CompositionEvent"in window,as=null;ai&&"documentMode"in document&&(as=document.documentMode);var Lv=ai&&"TextEvent"in window&&!as,Zd=ai&&(!Tu||as&&8<as&&11>=as),Pd=" ",Wd=!1;function Jd(e,t){switch(e){case"keyup":return Iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function Uv(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(Wd=!0,Pd);case"textInput":return e=t.data,e===Pd&&Wd?null:e;default:return null}}function Bv(e,t){if(aa)return e==="compositionend"||!Tu&&Jd(e,t)?(e=Yd(),Nr=vu=Ii=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zd&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function th(e,t,i,s){Ke?St?St.push(s):St=[s]:Ke=s,t=So(t,"onChange"),0<t.length&&(i=new Mr("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var ss=null,rs=null;function kv(e){Up(e,0)}function Or(e){var t=gl(e);if(N(t))return e}function nh(e,t){if(e==="change")return t}var ih=!1;if(ai){var xu;if(ai){var Au="oninput"in document;if(!Au){var lh=document.createElement("div");lh.setAttribute("oninput","return;"),Au=typeof lh.oninput=="function"}xu=Au}else xu=!1;ih=xu&&(!document.documentMode||9<document.documentMode)}function ah(){ss&&(ss.detachEvent("onpropertychange",sh),rs=ss=null)}function sh(e){if(e.propertyName==="value"&&Or(rs)){var t=[];th(t,rs,e,Xe(e)),pt(kv,t)}}function Vv(e,t,i){e==="focusin"?(ah(),ss=t,rs=i,ss.attachEvent("onpropertychange",sh)):e==="focusout"&&ah()}function qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Or(rs)}function Gv(e,t){if(e==="click")return Or(t)}function Yv(e,t){if(e==="input"||e==="change")return Or(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:Qv;function os(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!Jn.call(t,o)||!mn(e[o],t[o]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,t){var i=rh(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rh(i)}}function uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ch(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=O(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=O(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fv=ai&&"documentMode"in document&&11>=document.documentMode,sa=null,Ru=null,us=null,Du=!1;function fh(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Du||sa==null||sa!==O(s)||(s=sa,"selectionStart"in s&&Nu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),us&&os(us,s)||(us=s,s=So(Ru,"onSelect"),0<s.length&&(t=new Mr("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=sa)))}function _l(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ra={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},Mu={},dh={};ai&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function vl(e){if(Mu[e])return Mu[e];if(!ra[e])return e;var t=ra[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in dh)return Mu[e]=t[i];return e}var hh=vl("animationend"),mh=vl("animationiteration"),ph=vl("animationstart"),Xv=vl("transitionrun"),Kv=vl("transitionstart"),Zv=vl("transitioncancel"),gh=vl("transitionend"),yh=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function Un(e,t){yh.set(e,t),ni(t,[e])}var zr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},En=[],oa=0,Ou=0;function jr(){for(var e=oa,t=Ou=oa=0;t<e;){var i=En[t];En[t++]=null;var s=En[t];En[t++]=null;var o=En[t];En[t++]=null;var c=En[t];if(En[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}c!==0&&_h(i,o,c)}}function Ir(e,t,i,s){En[oa++]=e,En[oa++]=t,En[oa++]=i,En[oa++]=s,Ou|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function zu(e,t,i,s){return Ir(e,t,i,s),Lr(e)}function bl(e,t){return Ir(e,null,null,t),Lr(e)}function _h(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Gt(i),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),c):null}function Lr(e){if(50<ws)throw ws=0,qc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ua={};function Pv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,i,s){return new Pv(e,t,i,s)}function ju(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,t){var i=e.alternate;return i===null?(i=pn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function vh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,i,s,o,c){var m=0;if(s=e,typeof e=="function")ju(e)&&(m=1);else if(typeof e=="string")m=tb(e,i,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Xt:return e=pn(31,i,t,o),e.elementType=Xt,e.lanes=c,e;case ie:return Sl(i.children,o,c,t);case De:m=8,o|=24;break;case we:return e=pn(12,i,t,o|2),e.elementType=we,e.lanes=c,e;case Tt:return e=pn(13,i,t,o),e.elementType=Tt,e.lanes=c,e;case xt:return e=pn(19,i,t,o),e.elementType=xt,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:m=10;break e;case $e:m=9;break e;case dt:m=11;break e;case ce:m=14;break e;case At:m=16,s=null;break e}m=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=pn(m,i,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function Sl(e,t,i,s){return e=pn(7,e,s,t),e.lanes=i,e}function Iu(e,t,i){return e=pn(6,e,null,t),e.lanes=i,e}function bh(e){var t=pn(18,null,null,0);return t.stateNode=e,t}function Lu(e,t,i){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sh=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var i=Sh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:hl(t)},Sh.set(e,t),t)}return{value:e,source:t,stack:hl(t)}}var ca=[],fa=0,Br=null,cs=0,xn=[],An=0,Li=null,Kn=1,Zn="";function ri(e,t){ca[fa++]=cs,ca[fa++]=Br,Br=e,cs=t}function Ch(e,t,i){xn[An++]=Kn,xn[An++]=Zn,xn[An++]=Li,Li=e;var s=Kn;e=Zn;var o=32-Gt(s)-1;s&=~(1<<o),i+=1;var c=32-Gt(t)+o;if(30<c){var m=o-o%5;c=(s&(1<<m)-1).toString(32),s>>=m,o-=m,Kn=1<<32-Gt(t)+o|i<<o|s,Zn=c+e}else Kn=1<<c|i<<o|s,Zn=e}function Uu(e){e.return!==null&&(ri(e,1),Ch(e,1,0))}function Bu(e){for(;e===Br;)Br=ca[--fa],ca[fa]=null,cs=ca[--fa],ca[fa]=null;for(;e===Li;)Li=xn[--An],xn[An]=null,Zn=xn[--An],xn[An]=null,Kn=xn[--An],xn[An]=null}function Eh(e,t){xn[An++]=Kn,xn[An++]=Zn,xn[An++]=Li,Kn=t.id,Zn=t.overflow,Li=e}var Bt=null,tt=null,Me=!1,Ui=null,Nn=!1,Hu=Error(r(519));function Bi(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fs(Tn(t,e)),Hu}function Th(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[st]=e,t[Ut]=s,i){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(i=0;i<zs.length;i++)Ee(zs[i],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Y(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),P(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Vp(t.textContent,i)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=He),t=!0):t=!1,t||Bi(e,!0)}function xh(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Bt=Bt.return}}function da(e){if(e!==Bt)return!1;if(!Me)return xh(e),Me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||lf(e.type,e.memoizedProps)),i=!i),i&&tt&&Bi(e),xh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));tt=Pp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));tt=Pp(e)}else t===27?(t=tt,Ji(e.type)?(e=uf,uf=null,tt=e):tt=t):tt=Bt?Dn(e.stateNode.nextSibling):null;return!0}function Cl(){tt=Bt=null,Me=!1}function ku(){var e=Ui;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),Ui=null),e}function fs(e){Ui===null?Ui=[e]:Ui.push(e)}var Vu=E(null),El=null,oi=null;function Hi(e,t,i){Z(Vu,t._currentValue),t._currentValue=i}function ui(e){e._currentValue=Vu.current,H(Vu)}function qu(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Gu(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var v=0;v<t.length;v++)if(y.context===t[v]){c.lanes|=i,y=c.alternate,y!==null&&(y.lanes|=i),qu(c.return,i,e),s||(m=null);break e}c=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=i,c=m.alternate,c!==null&&(c.lanes|=i),qu(m,i,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function ha(e,t,i,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=o.type;mn(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===Ae.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}o=o.return}e!==null&&Gu(t,e,i,s),t.flags|=262144}function Hr(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tl(e){El=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Ah(El,e)}function kr(e,t){return El===null&&Tl(e),Ah(e,t)}function Ah(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},oi===null){if(e===null)throw Error(r(308));oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oi=oi.next=t;return i}var Wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Jv=a.unstable_scheduleCallback,$v=a.unstable_NormalPriority,gt={$$typeof:Oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yu(){return{controller:new Wv,data:new Map,refCount:0}}function ds(e){e.refCount--,e.refCount===0&&Jv($v,function(){e.controller.abort()})}var hs=null,Qu=0,ma=0,pa=null;function e0(e,t){if(hs===null){var i=hs=[];Qu=0,ma=Kc(),pa={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Qu++,t.then(Nh,Nh),t}function Nh(){if(--Qu===0&&hs!==null){pa!==null&&(pa.status="fulfilled");var e=hs;hs=null,ma=0,pa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function t0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var Rh=I.S;I.S=function(e,t){fp=Rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&e0(e,t),Rh!==null&&Rh(e,t)};var xl=E(null);function Fu(){var e=xl.current;return e!==null?e:Ze.pooledCache}function Vr(e,t){t===null?Z(xl,xl.current):Z(xl,t.pool)}function Dh(){var e=Fu();return e===null?null:{parent:gt._currentValue,pool:e}}var ga=Error(r(460)),Xu=Error(r(474)),qr=Error(r(542)),Gr={then:function(){}};function Mh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(He,He),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zh(e),e;default:if(typeof t.status=="string")t.then(He,He);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zh(e),e}throw Nl=t,ga}}function Al(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Nl=i,ga):i}}var Nl=null;function Oh(){if(Nl===null)throw Error(r(459));var e=Nl;return Nl=null,e}function zh(e){if(e===ga||e===qr)throw Error(r(483))}var ya=null,ms=0;function Yr(e){var t=ms;return ms+=1,ya===null&&(ya=[]),wh(ya,e,t)}function ps(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qr(e,t){throw t.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jh(e){function t(A,C){if(e){var R=A.deletions;R===null?(A.deletions=[C],A.flags|=16):R.push(C)}}function i(A,C){if(!e)return null;for(;C!==null;)t(A,C),C=C.sibling;return null}function s(A){for(var C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function o(A,C){return A=si(A,C),A.index=0,A.sibling=null,A}function c(A,C,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<C?(A.flags|=67108866,C):R):(A.flags|=67108866,C)):(A.flags|=1048576,C)}function m(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function y(A,C,R,B){return C===null||C.tag!==6?(C=Iu(R,A.mode,B),C.return=A,C):(C=o(C,R),C.return=A,C)}function v(A,C,R,B){var re=R.type;return re===ie?L(A,C,R.props.children,B,R.key):C!==null&&(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===At&&Al(re)===C.type)?(C=o(C,R.props),ps(C,R),C.return=A,C):(C=Ur(R.type,R.key,R.props,null,A.mode,B),ps(C,R),C.return=A,C)}function D(A,C,R,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Lu(R,A.mode,B),C.return=A,C):(C=o(C,R.children||[]),C.return=A,C)}function L(A,C,R,B,re){return C===null||C.tag!==7?(C=Sl(R,A.mode,B,re),C.return=A,C):(C=o(C,R),C.return=A,C)}function V(A,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Iu(""+C,A.mode,R),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Q:return R=Ur(C.type,C.key,C.props,null,A.mode,R),ps(R,C),R.return=A,R;case q:return C=Lu(C,A.mode,R),C.return=A,C;case At:return C=Al(C),V(A,C,R)}if(zt(C)||Nt(C))return C=Sl(C,A.mode,R,null),C.return=A,C;if(typeof C.then=="function")return V(A,Yr(C),R);if(C.$$typeof===Oe)return V(A,kr(A,C),R);Qr(A,C)}return null}function w(A,C,R,B){var re=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return re!==null?null:y(A,C,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:return R.key===re?v(A,C,R,B):null;case q:return R.key===re?D(A,C,R,B):null;case At:return R=Al(R),w(A,C,R,B)}if(zt(R)||Nt(R))return re!==null?null:L(A,C,R,B,null);if(typeof R.then=="function")return w(A,C,Yr(R),B);if(R.$$typeof===Oe)return w(A,C,kr(A,R),B);Qr(A,R)}return null}function z(A,C,R,B,re){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return A=A.get(R)||null,y(C,A,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return A=A.get(B.key===null?R:B.key)||null,v(C,A,B,re);case q:return A=A.get(B.key===null?R:B.key)||null,D(C,A,B,re);case At:return B=Al(B),z(A,C,R,B,re)}if(zt(B)||Nt(B))return A=A.get(R)||null,L(C,A,B,re,null);if(typeof B.then=="function")return z(A,C,R,Yr(B),re);if(B.$$typeof===Oe)return z(A,C,R,kr(C,B),re);Qr(C,B)}return null}function te(A,C,R,B){for(var re=null,je=null,ne=C,_e=C=0,Re=null;ne!==null&&_e<R.length;_e++){ne.index>_e?(Re=ne,ne=null):Re=ne.sibling;var Ie=w(A,ne,R[_e],B);if(Ie===null){ne===null&&(ne=Re);break}e&&ne&&Ie.alternate===null&&t(A,ne),C=c(Ie,C,_e),je===null?re=Ie:je.sibling=Ie,je=Ie,ne=Re}if(_e===R.length)return i(A,ne),Me&&ri(A,_e),re;if(ne===null){for(;_e<R.length;_e++)ne=V(A,R[_e],B),ne!==null&&(C=c(ne,C,_e),je===null?re=ne:je.sibling=ne,je=ne);return Me&&ri(A,_e),re}for(ne=s(ne);_e<R.length;_e++)Re=z(ne,A,_e,R[_e],B),Re!==null&&(e&&Re.alternate!==null&&ne.delete(Re.key===null?_e:Re.key),C=c(Re,C,_e),je===null?re=Re:je.sibling=Re,je=Re);return e&&ne.forEach(function(il){return t(A,il)}),Me&&ri(A,_e),re}function oe(A,C,R,B){if(R==null)throw Error(r(151));for(var re=null,je=null,ne=C,_e=C=0,Re=null,Ie=R.next();ne!==null&&!Ie.done;_e++,Ie=R.next()){ne.index>_e?(Re=ne,ne=null):Re=ne.sibling;var il=w(A,ne,Ie.value,B);if(il===null){ne===null&&(ne=Re);break}e&&ne&&il.alternate===null&&t(A,ne),C=c(il,C,_e),je===null?re=il:je.sibling=il,je=il,ne=Re}if(Ie.done)return i(A,ne),Me&&ri(A,_e),re;if(ne===null){for(;!Ie.done;_e++,Ie=R.next())Ie=V(A,Ie.value,B),Ie!==null&&(C=c(Ie,C,_e),je===null?re=Ie:je.sibling=Ie,je=Ie);return Me&&ri(A,_e),re}for(ne=s(ne);!Ie.done;_e++,Ie=R.next())Ie=z(ne,A,_e,Ie.value,B),Ie!==null&&(e&&Ie.alternate!==null&&ne.delete(Ie.key===null?_e:Ie.key),C=c(Ie,C,_e),je===null?re=Ie:je.sibling=Ie,je=Ie);return e&&ne.forEach(function(db){return t(A,db)}),Me&&ri(A,_e),re}function Qe(A,C,R,B){if(typeof R=="object"&&R!==null&&R.type===ie&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:e:{for(var re=R.key;C!==null;){if(C.key===re){if(re=R.type,re===ie){if(C.tag===7){i(A,C.sibling),B=o(C,R.props.children),B.return=A,A=B;break e}}else if(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===At&&Al(re)===C.type){i(A,C.sibling),B=o(C,R.props),ps(B,R),B.return=A,A=B;break e}i(A,C);break}else t(A,C);C=C.sibling}R.type===ie?(B=Sl(R.props.children,A.mode,B,R.key),B.return=A,A=B):(B=Ur(R.type,R.key,R.props,null,A.mode,B),ps(B,R),B.return=A,A=B)}return m(A);case q:e:{for(re=R.key;C!==null;){if(C.key===re)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){i(A,C.sibling),B=o(C,R.children||[]),B.return=A,A=B;break e}else{i(A,C);break}else t(A,C);C=C.sibling}B=Lu(R,A.mode,B),B.return=A,A=B}return m(A);case At:return R=Al(R),Qe(A,C,R,B)}if(zt(R))return te(A,C,R,B);if(Nt(R)){if(re=Nt(R),typeof re!="function")throw Error(r(150));return R=re.call(R),oe(A,C,R,B)}if(typeof R.then=="function")return Qe(A,C,Yr(R),B);if(R.$$typeof===Oe)return Qe(A,C,kr(A,R),B);Qr(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(i(A,C.sibling),B=o(C,R),B.return=A,A=B):(i(A,C),B=Iu(R,A.mode,B),B.return=A,A=B),m(A)):i(A,C)}return function(A,C,R,B){try{ms=0;var re=Qe(A,C,R,B);return ya=null,re}catch(ne){if(ne===ga||ne===qr)throw ne;var je=pn(29,ne,null,A.mode);return je.lanes=B,je.return=A,je}finally{}}}var Rl=jh(!0),Ih=jh(!1),ki=!1;function Ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Le&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Lr(e),_h(e,null,i),t}return Ir(e,s,t,i),Lr(e)}function gs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,br(e,i)}}function Pu(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Wu=!1;function ys(){if(Wu){var e=pa;if(e!==null)throw e}}function _s(e,t,i,s){Wu=!1;var o=e.updateQueue;ki=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var v=y,D=v.next;v.next=null,m===null?c=D:m.next=D,m=v;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==m&&(y===null?L.firstBaseUpdate=D:y.next=D,L.lastBaseUpdate=v))}if(c!==null){var V=o.baseState;m=0,L=D=v=null,y=c;do{var w=y.lane&-536870913,z=w!==y.lane;if(z?(Ne&w)===w:(s&w)===w){w!==0&&w===ma&&(Wu=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var te=e,oe=y;w=t;var Qe=i;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){V=te.call(Qe,V,w);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,w=typeof te=="function"?te.call(Qe,V,w):te,w==null)break e;V=S({},V,w);break e;case 2:ki=!0}}w=y.callback,w!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[w]:z.push(w))}else z={lane:w,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(D=L=z,v=V):L=L.next=z,m|=w;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;z=y,y=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);L===null&&(v=V),o.baseState=v,o.firstBaseUpdate=D,o.lastBaseUpdate=L,c===null&&(o.shared.lanes=0),Xi|=m,e.lanes=m,e.memoizedState=V}}function Lh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Uh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Lh(i[e],t)}var _a=E(null),Fr=E(0);function Bh(e,t){e=_i,Z(Fr,e),Z(_a,t),_i=e|t.baseLanes}function Ju(){Z(Fr,_i),Z(_a,_a.current)}function $u(){_i=Fr.current,H(_a),H(Fr)}var gn=E(null),Rn=null;function Gi(e){var t=e.alternate;Z(ct,ct.current&1),Z(gn,e),Rn===null&&(t===null||_a.current!==null||t.memoizedState!==null)&&(Rn=e)}function ec(e){Z(ct,ct.current),Z(gn,e),Rn===null&&(Rn=e)}function Hh(e){e.tag===22?(Z(ct,ct.current),Z(gn,e),Rn===null&&(Rn=e)):Yi()}function Yi(){Z(ct,ct.current),Z(gn,gn.current)}function yn(e){H(gn),Rn===e&&(Rn=null),H(ct)}var ct=E(0);function Xr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||rf(i)||of(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=0,pe=null,Ge=null,yt=null,Kr=!1,va=!1,Dl=!1,Zr=0,vs=0,ba=null,n0=0;function rt(){throw Error(r(321))}function tc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!mn(e[i],t[i]))return!1;return!0}function nc(e,t,i,s,o,c){return ci=c,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Cm:yc,Dl=!1,c=i(s,o),Dl=!1,va&&(c=Vh(t,i,s,o)),kh(e),c}function kh(e){I.H=Cs;var t=Ge!==null&&Ge.next!==null;if(ci=0,yt=Ge=pe=null,Kr=!1,vs=0,ba=null,t)throw Error(r(300));e===null||_t||(e=e.dependencies,e!==null&&Hr(e)&&(_t=!0))}function Vh(e,t,i,s){pe=e;var o=0;do{if(va&&(ba=null),vs=0,va=!1,25<=o)throw Error(r(301));if(o+=1,yt=Ge=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}I.H=Em,c=t(i,s)}while(va);return c}function i0(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?bs(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(pe.flags|=1024),t}function ic(){var e=Zr!==0;return Zr=0,e}function lc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ac(e){if(Kr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Kr=!1}ci=0,yt=Ge=pe=null,va=!1,vs=Zr=0,ba=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?pe.memoizedState=yt=e:yt=yt.next=e,yt}function ft(){if(Ge===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=yt===null?pe.memoizedState:yt.next;if(t!==null)yt=t,Ge=e;else{if(e===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},yt===null?pe.memoizedState=yt=e:yt=yt.next=e}return yt}function Pr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bs(e){var t=vs;return vs+=1,ba===null&&(ba=[]),e=wh(ba,e,t),t=pe,(yt===null?t.memoizedState:yt.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Cm:yc),e}function Wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bs(e);if(e.$$typeof===Oe)return Ht(e)}throw Error(r(438,String(e)))}function sc(e){var t=null,i=pe.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Pr(),pe.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=Yn;return t.index++,i}function fi(e,t){return typeof t=="function"?t(e):t}function Jr(e){var t=ft();return rc(t,Ge,e)}function rc(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=m=null,v=null,D=t,L=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(Ne&V)===V:(ci&V)===V){var w=D.revertLane;if(w===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===ma&&(L=!0);else if((ci&w)===w){D=D.next,w===ma&&(L=!0);continue}else V={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},v===null?(y=v=V,m=c):v=v.next=V,pe.lanes|=w,Xi|=w;V=D.action,Dl&&i(c,V),c=D.hasEagerState?D.eagerState:i(c,V)}else w={lane:V,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},v===null?(y=v=w,m=c):v=v.next=w,pe.lanes|=V,Xi|=V;D=D.next}while(D!==null&&D!==t);if(v===null?m=c:v.next=y,!mn(c,e.memoizedState)&&(_t=!0,L&&(i=pa,i!==null)))throw i;e.memoizedState=c,e.baseState=m,e.baseQueue=v,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function oc(e){var t=ft(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);mn(c,t.memoizedState)||(_t=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function qh(e,t,i){var s=pe,o=ft(),c=Me;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var m=!mn((Ge||o).memoizedState,i);if(m&&(o.memoizedState=i,_t=!0),o=o.queue,fc(Qh.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||yt!==null&&yt.memoizedState.tag&1){if(s.flags|=2048,Sa(9,{destroy:void 0},Yh.bind(null,s,o,i,t),null),Ze===null)throw Error(r(349));c||(ci&127)!==0||Gh(s,t,i)}return i}function Gh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=pe.updateQueue,t===null?(t=Pr(),pe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Yh(e,t,i,s){t.value=i,t.getSnapshot=s,Fh(t)&&Xh(e)}function Qh(e,t,i){return i(function(){Fh(t)&&Xh(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!mn(e,i)}catch{return!0}}function Xh(e){var t=bl(e,2);t!==null&&ln(t,e,2)}function uc(e){var t=Zt();if(typeof e=="function"){var i=e;if(e=i(),Dl){On(!0);try{i()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t}function Kh(e,t,i,s){return e.baseState=i,rc(e,Ge,typeof s=="function"?s:fi)}function l0(e,t,i,s,o){if(to(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};I.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,Zh(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Zh(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=I.T,m={};I.T=m;try{var y=i(o,s),v=I.S;v!==null&&v(m,y),Ph(e,t,y)}catch(D){cc(e,t,D)}finally{c!==null&&m.types!==null&&(c.types=m.types),I.T=c}}else try{c=i(o,s),Ph(e,t,c)}catch(D){cc(e,t,D)}}function Ph(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Wh(e,t,s)},function(s){return cc(e,t,s)}):Wh(e,t,i)}function Wh(e,t,i){t.status="fulfilled",t.value=i,Jh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Zh(e,i)))}function cc(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Jh(t),t=t.next;while(t!==s)}e.action=null}function Jh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $h(e,t){return t}function em(e,t){if(Me){var i=Ze.formState;if(i!==null){e:{var s=pe;if(Me){if(tt){t:{for(var o=tt,c=Nn;o.nodeType!==8;){if(!c){o=null;break t}if(o=Dn(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){tt=Dn(o.nextSibling),s=o.data==="F!";break e}}Bi(s)}s=!1}s&&(t=i[0])}}return i=Zt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:t},i.queue=s,i=vm.bind(null,pe,s),s.dispatch=i,s=uc(!1),c=gc.bind(null,pe,!1,s.queue),s=Zt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=l0.bind(null,pe,o,c,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function tm(e){var t=ft();return nm(t,Ge,e)}function nm(e,t,i){if(t=rc(e,t,$h)[0],e=Jr(fi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=bs(t)}catch(m){throw m===ga?qr:m}else s=t;t=ft();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(pe.flags|=2048,Sa(9,{destroy:void 0},a0.bind(null,o,i),null)),[s,c,e]}function a0(e,t){e.action=t}function im(e){var t=ft(),i=Ge;if(i!==null)return nm(t,i,e);ft(),t=t.memoizedState,i=ft();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Sa(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Pr(),pe.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function lm(){return ft().memoizedState}function $r(e,t,i,s){var o=Zt();pe.flags|=e,o.memoizedState=Sa(1|t,{destroy:void 0},i,s===void 0?null:s)}function eo(e,t,i,s){var o=ft();s=s===void 0?null:s;var c=o.memoizedState.inst;Ge!==null&&s!==null&&tc(s,Ge.memoizedState.deps)?o.memoizedState=Sa(t,c,i,s):(pe.flags|=e,o.memoizedState=Sa(1|t,c,i,s))}function am(e,t){$r(8390656,8,e,t)}function fc(e,t){eo(2048,8,e,t)}function s0(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Pr(),pe.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function sm(e){var t=ft().memoizedState;return s0({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function rm(e,t){return eo(4,2,e,t)}function om(e,t){return eo(4,4,e,t)}function um(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cm(e,t,i){i=i!=null?i.concat([e]):null,eo(4,4,um.bind(null,t,e),i)}function dc(){}function fm(e,t){var i=ft();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&tc(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function dm(e,t){var i=ft();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&tc(t,s[1]))return s[0];if(s=e(),Dl){On(!0);try{e()}finally{On(!1)}}return i.memoizedState=[s,t],s}function hc(e,t,i){return i===void 0||(ci&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=hp(),pe.lanes|=e,Xi|=e,i)}function hm(e,t,i,s){return mn(i,t)?i:_a.current!==null?(e=hc(e,i,s),mn(e,t)||(_t=!0),e):(ci&42)===0||(ci&1073741824)!==0&&(Ne&261930)===0?(_t=!0,e.memoizedState=i):(e=hp(),pe.lanes|=e,Xi|=e,t)}function mm(e,t,i,s,o){var c=K.p;K.p=c!==0&&8>c?c:8;var m=I.T,y={};I.T=y,gc(e,!1,t,i);try{var v=o(),D=I.S;if(D!==null&&D(y,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var L=t0(v,s);Ss(e,t,L,bn(e))}else Ss(e,t,s,bn(e))}catch(V){Ss(e,t,{then:function(){},status:"rejected",reason:V},bn())}finally{K.p=c,m!==null&&y.types!==null&&(m.types=y.types),I.T=m}}function r0(){}function mc(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=pm(e).queue;mm(e,o,t,ae,i===null?r0:function(){return gm(e),i(s)})}function pm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ae},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gm(e){var t=pm(e);t.next===null&&(t=e.alternate.memoizedState),Ss(e,t.next.queue,{},bn())}function pc(){return Ht(Bs)}function ym(){return ft().memoizedState}function _m(){return ft().memoizedState}function o0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=bn();e=Vi(i);var s=qi(t,e,i);s!==null&&(ln(s,t,i),gs(s,t,i)),t={cache:Yu()},e.payload=t;return}t=t.return}}function u0(e,t,i){var s=bn();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},to(e)?bm(t,i):(i=zu(e,t,i,s),i!==null&&(ln(i,e,s),Sm(i,t,s)))}function vm(e,t,i){var s=bn();Ss(e,t,i,s)}function Ss(e,t,i,s){var o={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(to(e))bm(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,y=c(m,i);if(o.hasEagerState=!0,o.eagerState=y,mn(y,m))return Ir(e,t,o,0),Ze===null&&jr(),!1}catch{}finally{}if(i=zu(e,t,o,s),i!==null)return ln(i,e,s),Sm(i,t,s),!0}return!1}function gc(e,t,i,s){if(s={lane:2,revertLane:Kc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},to(e)){if(t)throw Error(r(479))}else t=zu(e,i,s,2),t!==null&&ln(t,e,2)}function to(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function bm(e,t){va=Kr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Sm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,br(e,i)}}var Cs={readContext:Ht,use:Wr,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};Cs.useEffectEvent=rt;var Cm={readContext:Ht,use:Wr,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:am,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,$r(4194308,4,um.bind(null,t,e),i)},useLayoutEffect:function(e,t){return $r(4194308,4,e,t)},useInsertionEffect:function(e,t){$r(4,2,e,t)},useMemo:function(e,t){var i=Zt();t=t===void 0?null:t;var s=e();if(Dl){On(!0);try{e()}finally{On(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Zt();if(i!==void 0){var o=i(t);if(Dl){On(!0);try{i(t)}finally{On(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=u0.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:function(e){e=uc(e);var t=e.queue,i=vm.bind(null,pe,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:dc,useDeferredValue:function(e,t){var i=Zt();return hc(i,e,t)},useTransition:function(){var e=uc(!1);return e=mm.bind(null,pe,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=pe,o=Zt();if(Me){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ze===null)throw Error(r(349));(Ne&127)!==0||Gh(s,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,am(Qh.bind(null,s,c,e),[e]),s.flags|=2048,Sa(9,{destroy:void 0},Yh.bind(null,s,c,i,t),null),i},useId:function(){var e=Zt(),t=Ze.identifierPrefix;if(Me){var i=Zn,s=Kn;i=(s&~(1<<32-Gt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Zr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=n0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pc,useFormState:em,useActionState:em,useOptimistic:function(e){var t=Zt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=gc.bind(null,pe,!0,i),i.dispatch=t,[e,t]},useMemoCache:sc,useCacheRefresh:function(){return Zt().memoizedState=o0.bind(null,pe)},useEffectEvent:function(e){var t=Zt(),i={impl:e};return t.memoizedState=i,function(){if((Le&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},yc={readContext:Ht,use:Wr,useCallback:fm,useContext:Ht,useEffect:fc,useImperativeHandle:cm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:dm,useReducer:Jr,useRef:lm,useState:function(){return Jr(fi)},useDebugValue:dc,useDeferredValue:function(e,t){var i=ft();return hm(i,Ge.memoizedState,e,t)},useTransition:function(){var e=Jr(fi)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:bs(e),t]},useSyncExternalStore:qh,useId:ym,useHostTransitionStatus:pc,useFormState:tm,useActionState:tm,useOptimistic:function(e,t){var i=ft();return Kh(i,Ge,e,t)},useMemoCache:sc,useCacheRefresh:_m};yc.useEffectEvent=sm;var Em={readContext:Ht,use:Wr,useCallback:fm,useContext:Ht,useEffect:fc,useImperativeHandle:cm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:dm,useReducer:oc,useRef:lm,useState:function(){return oc(fi)},useDebugValue:dc,useDeferredValue:function(e,t){var i=ft();return Ge===null?hc(i,e,t):hm(i,Ge.memoizedState,e,t)},useTransition:function(){var e=oc(fi)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:bs(e),t]},useSyncExternalStore:qh,useId:ym,useHostTransitionStatus:pc,useFormState:im,useActionState:im,useOptimistic:function(e,t){var i=ft();return Ge!==null?Kh(i,Ge,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:sc,useCacheRefresh:_m};Em.useEffectEvent=sm;function _c(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var vc={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=bn(),o=Vi(s);o.payload=t,i!=null&&(o.callback=i),t=qi(e,o,s),t!==null&&(ln(t,e,s),gs(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=bn(),o=Vi(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=qi(e,o,s),t!==null&&(ln(t,e,s),gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=bn(),s=Vi(i);s.tag=2,t!=null&&(s.callback=t),t=qi(e,s,i),t!==null&&(ln(t,e,i),gs(t,e,i))}};function Tm(e,t,i,s,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,m):t.prototype&&t.prototype.isPureReactComponent?!os(i,s)||!os(o,c):!0}function xm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function Ml(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Am(e){zr(e)}function Nm(e){console.error(e)}function Rm(e){zr(e)}function no(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Dm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function bc(e,t,i){return i=Vi(i),i.tag=3,i.payload={element:null},i.callback=function(){no(e,t)},i}function Mm(e){return e=Vi(e),e.tag=3,e}function wm(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){Dm(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Dm(t,i,s),typeof o!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function c0(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ha(t,i,o,!0),i=gn.current,i!==null){switch(i.tag){case 31:case 13:return Rn===null?po():i.alternate===null&&ot===0&&(ot=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===Gr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Qc(e,s,o)),!1;case 22:return i.flags|=65536,s===Gr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Qc(e,s,o)),!1}throw Error(r(435,i.tag))}return Qc(e,s,o),po(),!1}if(Me)return t=gn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Hu&&(e=Error(r(422),{cause:s}),fs(Tn(e,i)))):(s!==Hu&&(t=Error(r(423),{cause:s}),fs(Tn(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Tn(s,i),o=bc(e.stateNode,s,o),Pu(e,o),ot!==4&&(ot=2)),!1;var c=Error(r(520),{cause:s});if(c=Tn(c,i),Ms===null?Ms=[c]:Ms.push(c),ot!==4&&(ot=2),t===null)return!0;s=Tn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=bc(i.stateNode,s,e),Pu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ki===null||!Ki.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Mm(o),wm(o,e,i,s),Pu(i,o),!1}i=i.return}while(i!==null);return!1}var Sc=Error(r(461)),_t=!1;function kt(e,t,i,s){t.child=e===null?Ih(t,null,i,s):Rl(t,e.child,i,s)}function Om(e,t,i,s,o){i=i.render;var c=t.ref;if("ref"in s){var m={};for(var y in s)y!=="ref"&&(m[y]=s[y])}else m=s;return Tl(t),s=nc(e,t,i,m,c,o),y=ic(),e!==null&&!_t?(lc(e,t,o),di(e,t,o)):(Me&&y&&Uu(t),t.flags|=1,kt(e,t,s,o),t.child)}function zm(e,t,i,s,o){if(e===null){var c=i.type;return typeof c=="function"&&!ju(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,jm(e,t,c,s,o)):(e=Ur(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Dc(e,o)){var m=c.memoizedProps;if(i=i.compare,i=i!==null?i:os,i(m,s)&&e.ref===t.ref)return di(e,t,o)}return t.flags|=1,e=si(c,s),e.ref=t.ref,e.return=t,t.child=e}function jm(e,t,i,s,o){if(e!==null){var c=e.memoizedProps;if(os(c,s)&&e.ref===t.ref)if(_t=!1,t.pendingProps=s=c,Dc(e,o))(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,di(e,t,o)}return Cc(e,t,i,s,o)}function Im(e,t,i,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return Lm(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vr(t,c!==null?c.cachePool:null),c!==null?Bh(t,c):Ju(),Hh(t);else return s=t.lanes=536870912,Lm(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(Vr(t,c.cachePool),Bh(t,c),Yi(),t.memoizedState=null):(e!==null&&Vr(t,null),Ju(),Yi());return kt(e,t,o,i),t.child}function Es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lm(e,t,i,s,o){var c=Fu();return c=c===null?null:{parent:gt._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Vr(t,null),Ju(),Hh(t),e!==null&&ha(e,t,s,!0),t.childLanes=o,null}function io(e,t){return t=ao({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Um(e,t,i){return Rl(t,e.child,null,i),e=io(t,t.pendingProps),e.flags|=2,yn(t),t.memoizedState=null,e}function f0(e,t,i){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(s.mode==="hidden")return e=io(t,s),t.lanes=536870912,Es(null,e);if(ec(t),(e=tt)?(e=Zp(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Kn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},i=bh(e),i.return=t,t.child=i,Bt=t,tt=null)):e=null,e===null)throw Bi(t);return t.lanes=536870912,null}return io(t,s)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(ec(t),o)if(t.flags&256)t.flags&=-257,t=Um(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(_t||ha(e,t,i,!1),o=(i&e.childLanes)!==0,_t||o){if(s=Ze,s!==null&&(m=Sr(s,i),m!==0&&m!==c.retryLane))throw c.retryLane=m,bl(e,m),ln(s,e,m),Sc;po(),t=Um(e,t,i)}else e=c.treeContext,tt=Dn(m.nextSibling),Bt=t,Me=!0,Ui=null,Nn=!1,e!==null&&Eh(t,e),t=io(t,s),t.flags|=4096;return t}return e=si(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lo(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Cc(e,t,i,s,o){return Tl(t),i=nc(e,t,i,s,void 0,o),s=ic(),e!==null&&!_t?(lc(e,t,o),di(e,t,o)):(Me&&s&&Uu(t),t.flags|=1,kt(e,t,i,o),t.child)}function Bm(e,t,i,s,o,c){return Tl(t),t.updateQueue=null,i=Vh(t,s,i,o),kh(e),s=ic(),e!==null&&!_t?(lc(e,t,c),di(e,t,c)):(Me&&s&&Uu(t),t.flags|=1,kt(e,t,i,c),t.child)}function Hm(e,t,i,s,o){if(Tl(t),t.stateNode===null){var c=ua,m=i.contextType;typeof m=="object"&&m!==null&&(c=Ht(m)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=vc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},Ku(t),m=i.contextType,c.context=typeof m=="object"&&m!==null?Ht(m):ua,c.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(_c(t,i,m,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&vc.enqueueReplaceState(c,c.state,null),_s(t,s,c,o),ys(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,v=Ml(i,y);c.props=v;var D=c.context,L=i.contextType;m=ua,typeof L=="object"&&L!==null&&(m=Ht(L));var V=i.getDerivedStateFromProps;L=typeof V=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,L||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||D!==m)&&xm(t,c,s,m),ki=!1;var w=t.memoizedState;c.state=w,_s(t,s,c,o),ys(),D=t.memoizedState,y||w!==D||ki?(typeof V=="function"&&(_c(t,i,V,s),D=t.memoizedState),(v=ki||Tm(t,i,v,s,w,D,m))?(L||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),c.props=s,c.state=D,c.context=m,s=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,Zu(e,t),m=t.memoizedProps,L=Ml(i,m),c.props=L,V=t.pendingProps,w=c.context,D=i.contextType,v=ua,typeof D=="object"&&D!==null&&(v=Ht(D)),y=i.getDerivedStateFromProps,(D=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==V||w!==v)&&xm(t,c,s,v),ki=!1,w=t.memoizedState,c.state=w,_s(t,s,c,o),ys();var z=t.memoizedState;m!==V||w!==z||ki||e!==null&&e.dependencies!==null&&Hr(e.dependencies)?(typeof y=="function"&&(_c(t,i,y,s),z=t.memoizedState),(L=ki||Tm(t,i,L,s,w,z,v)||e!==null&&e.dependencies!==null&&Hr(e.dependencies))?(D||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,z,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,z,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),c.props=s,c.state=z,c.context=v,s=L):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,lo(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Rl(t,e.child,null,o),t.child=Rl(t,null,i,o)):kt(e,t,i,o),t.memoizedState=c.state,e=t.child):e=di(e,t,o),e}function km(e,t,i,s){return Cl(),t.flags|=256,kt(e,t,i,s),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(e){return{baseLanes:e,cachePool:Dh()}}function xc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=vn),e}function Vm(e,t,i){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(ct.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(o?Gi(t):Yi(),(e=tt)?(e=Zp(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Kn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},i=bh(e),i.return=t,t.child=i,Bt=t,tt=null)):e=null,e===null)throw Bi(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(Yi(),o=t.mode,y=ao({mode:"hidden",children:y},o),s=Sl(s,o,i,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=Tc(i),s.childLanes=xc(e,m,i),t.memoizedState=Ec,Es(null,s)):(Gi(t),Ac(t,y))}var v=e.memoizedState;if(v!==null&&(y=v.dehydrated,y!==null)){if(c)t.flags&256?(Gi(t),t.flags&=-257,t=Nc(e,t,i)):t.memoizedState!==null?(Yi(),t.child=e.child,t.flags|=128,t=null):(Yi(),y=s.fallback,o=t.mode,s=ao({mode:"visible",children:s.children},o),y=Sl(y,o,i,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Rl(t,e.child,null,i),s=t.child,s.memoizedState=Tc(i),s.childLanes=xc(e,m,i),t.memoizedState=Ec,t=Es(null,s));else if(Gi(t),of(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var D=m.dgst;m=D,s=Error(r(419)),s.stack="",s.digest=m,fs({value:s,source:null,stack:null}),t=Nc(e,t,i)}else if(_t||ha(e,t,i,!1),m=(i&e.childLanes)!==0,_t||m){if(m=Ze,m!==null&&(s=Sr(m,i),s!==0&&s!==v.retryLane))throw v.retryLane=s,bl(e,s),ln(m,e,s),Sc;rf(y)||po(),t=Nc(e,t,i)}else rf(y)?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,tt=Dn(y.nextSibling),Bt=t,Me=!0,Ui=null,Nn=!1,e!==null&&Eh(t,e),t=Ac(t,s.children),t.flags|=4096);return t}return o?(Yi(),y=s.fallback,o=t.mode,v=e.child,D=v.sibling,s=si(v,{mode:"hidden",children:s.children}),s.subtreeFlags=v.subtreeFlags&65011712,D!==null?y=si(D,y):(y=Sl(y,o,i,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,Es(null,s),s=t.child,y=e.child.memoizedState,y===null?y=Tc(i):(o=y.cachePool,o!==null?(v=gt._currentValue,o=o.parent!==v?{parent:v,pool:v}:o):o=Dh(),y={baseLanes:y.baseLanes|i,cachePool:o}),s.memoizedState=y,s.childLanes=xc(e,m,i),t.memoizedState=Ec,Es(e.child,s)):(Gi(t),i=e.child,e=i.sibling,i=si(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function Ac(e,t){return t=ao({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ao(e,t){return e=pn(22,e,null,t),e.lanes=0,e}function Nc(e,t,i){return Rl(t,e.child,null,i),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),qu(e.return,t,i)}function Rc(e,t,i,s,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=i,m.tailMode=o,m.treeForkCount=c)}function Gm(e,t,i){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var m=ct.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,Z(ct,m),kt(e,t,s,i),s=Me?cs:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qm(e,i,t);else if(e.tag===19)qm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Xr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Rc(t,!1,o,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Xr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Rc(t,!0,i,null,c,s);break;case"together":Rc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function di(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Xi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ha(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=si(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=si(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Dc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Hr(e)))}function d0(e,t,i){switch(t.tag){case 3:jt(t,t.stateNode.containerInfo),Hi(t,gt,e.memoizedState.cache),Cl();break;case 27:case 5:bt(t);break;case 4:jt(t,t.stateNode.containerInfo);break;case 10:Hi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ec(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Gi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Vm(e,t,i):(Gi(t),e=di(e,t,i),e!==null?e.sibling:null);Gi(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ha(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return Gm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Z(ct,ct.current),s)break;return null;case 22:return t.lanes=0,Im(e,t,i,t.pendingProps);case 24:Hi(t,gt,e.memoizedState.cache)}return di(e,t,i)}function Ym(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)_t=!0;else{if(!Dc(e,i)&&(t.flags&128)===0)return _t=!1,d0(e,t,i);_t=(e.flags&131072)!==0}else _t=!1,Me&&(t.flags&1048576)!==0&&Ch(t,cs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Al(t.elementType),t.type=e,typeof e=="function")ju(e)?(s=Ml(e,s),t.tag=1,t=Hm(null,t,e,s,i)):(t.tag=0,t=Cc(null,t,e,s,i));else{if(e!=null){var o=e.$$typeof;if(o===dt){t.tag=11,t=Om(null,t,e,s,i);break e}else if(o===ce){t.tag=14,t=zm(null,t,e,s,i);break e}}throw t=Pt(e)||e,Error(r(306,t,""))}}return t;case 0:return Cc(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=Ml(s,t.pendingProps),Hm(e,t,s,o,i);case 3:e:{if(jt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,Zu(e,t),_s(t,s,null,i);var m=t.memoizedState;if(s=m.cache,Hi(t,gt,s),s!==c.cache&&Gu(t,[gt],i,!0),ys(),s=m.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=km(e,t,s,i);break e}else if(s!==o){o=Tn(Error(r(424)),t),fs(o),t=km(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=Dn(e.firstChild),Bt=t,Me=!0,Ui=null,Nn=!0,i=Ih(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Cl(),s===o){t=di(e,t,i);break e}kt(e,t,s,i)}t=t.child}return t;case 26:return lo(e,t),e===null?(i=tg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Me||(i=t.type,e=t.pendingProps,s=Co(ge.current).createElement(i),s[st]=t,s[Ut]=e,Vt(s,i,e),ht(s),t.stateNode=s):t.memoizedState=tg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bt(t),e===null&&Me&&(s=t.stateNode=Jp(t.type,t.pendingProps,ge.current),Bt=t,Nn=!0,o=tt,Ji(t.type)?(uf=o,tt=Dn(s.firstChild)):tt=o),kt(e,t,t.pendingProps.children,i),lo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((o=s=tt)&&(s=q0(s,t.type,t.pendingProps,Nn),s!==null?(t.stateNode=s,Bt=t,tt=Dn(s.firstChild),Nn=!1,o=!0):o=!1),o||Bi(t)),bt(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,s=c.children,lf(o,c)?s=null:m!==null&&lf(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=nc(e,t,i0,null,null,i),Bs._currentValue=o),lo(e,t),kt(e,t,s,i),t.child;case 6:return e===null&&Me&&((e=i=tt)&&(i=G0(i,t.pendingProps,Nn),i!==null?(t.stateNode=i,Bt=t,tt=null,e=!0):e=!1),e||Bi(t)),null;case 13:return Vm(e,t,i);case 4:return jt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rl(t,null,s,i):kt(e,t,s,i),t.child;case 11:return Om(e,t,t.type,t.pendingProps,i);case 7:return kt(e,t,t.pendingProps,i),t.child;case 8:return kt(e,t,t.pendingProps.children,i),t.child;case 12:return kt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Hi(t,t.type,s.value),kt(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Tl(t),o=Ht(o),s=s(o),t.flags|=1,kt(e,t,s,i),t.child;case 14:return zm(e,t,t.type,t.pendingProps,i);case 15:return jm(e,t,t.type,t.pendingProps,i);case 19:return Gm(e,t,i);case 31:return f0(e,t,i);case 22:return Im(e,t,i,t.pendingProps);case 24:return Tl(t),s=Ht(gt),e===null?(o=Fu(),o===null&&(o=Ze,c=Yu(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:s,cache:o},Ku(t),Hi(t,gt,o)):((e.lanes&i)!==0&&(Zu(e,t),_s(t,null,null,i),ys()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Hi(t,gt,s)):(s=c.cache,Hi(t,gt,s),s!==o.cache&&Gu(t,[gt],i,!0))),kt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function hi(e){e.flags|=4}function Mc(e,t,i,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(yp())e.flags|=8192;else throw Nl=Gr,Xu}else e.flags&=-16777217}function Qm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sg(t))if(yp())e.flags|=8192;else throw Nl=Gr,Xu}function so(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vr():536870912,e.lanes|=t,xa|=t)}function Ts(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function h0(e,t,i){var s=t.pendingProps;switch(Bu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ui(gt),lt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(da(t)?hi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ku())),nt(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(hi(t),c!==null?(nt(t),Qm(t,c)):(nt(t),Mc(t,o,null,s,i))):c?c!==e.memoizedState?(hi(t),nt(t),Qm(t,c)):(nt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&hi(t),nt(t),Mc(t,o,e,s,i)),null;case 27:if(cl(t),i=ge.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&hi(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return nt(t),null}e=$.current,da(t)?Th(t):(e=Jp(o,s,i),t.stateNode=e,hi(t))}return nt(t),null;case 5:if(cl(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&hi(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return nt(t),null}if(c=$.current,da(t))Th(t);else{var m=Co(ge.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}c[st]=t,c[Ut]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(Vt(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hi(t)}}return nt(t),Mc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&hi(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=ge.current,da(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=Bt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[st]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Vp(e.nodeValue,i)),e||Bi(t,!0)}else e=Co(e).createTextNode(s),e[st]=t,t.stateNode=e}return nt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=da(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[st]=t}else Cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),e=!1}else i=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(yn(t),t):(yn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return nt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=da(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[st]=t}else Cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),o=!1}else o=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(yn(t),t):(yn(t),null)}return yn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),so(t,t.updateQueue),nt(t),null);case 4:return lt(),e===null&&Jc(t.stateNode.containerInfo),nt(t),null;case 10:return ui(t.type),nt(t),null;case 19:if(H(ct),s=t.memoizedState,s===null)return nt(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)Ts(s,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Xr(e),c!==null){for(t.flags|=128,Ts(s,!1),e=c.updateQueue,t.updateQueue=e,so(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)vh(i,e),i=i.sibling;return Z(ct,ct.current&1|2),Me&&ri(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Rt()>fo&&(t.flags|=128,o=!0,Ts(s,!1),t.lanes=4194304)}else{if(!o)if(e=Xr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,so(t,e),Ts(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Me)return nt(t),null}else 2*Rt()-s.renderingStartTime>fo&&i!==536870912&&(t.flags|=128,o=!0,Ts(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,i=ct.current,Z(ct,o?i&1|2:i&1),Me&&ri(t,s.treeForkCount),e):(nt(t),null);case 22:case 23:return yn(t),$u(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),i=t.updateQueue,i!==null&&so(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&H(xl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ui(gt),nt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function m0(e,t){switch(Bu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(gt),lt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cl(t),null;case 31:if(t.memoizedState!==null){if(yn(t),t.alternate===null)throw Error(r(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(ct),null;case 4:return lt(),null;case 10:return ui(t.type),null;case 22:case 23:return yn(t),$u(),e!==null&&H(xl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ui(gt),null;case 25:return null;default:return null}}function Fm(e,t){switch(Bu(t),t.tag){case 3:ui(gt),lt();break;case 26:case 27:case 5:cl(t);break;case 4:lt();break;case 31:t.memoizedState!==null&&yn(t);break;case 13:yn(t);break;case 19:H(ct);break;case 10:ui(t.type);break;case 22:case 23:yn(t),$u(),e!==null&&H(xl);break;case 24:ui(gt)}}function xs(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var c=i.create,m=i.inst;s=c(),m.destroy=s}i=i.next}while(i!==o)}}catch(y){Ve(t,t.return,y)}}function Qi(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var m=s.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var v=i,D=y;try{D()}catch(L){Ve(o,v,L)}}}s=s.next}while(s!==c)}}catch(L){Ve(t,t.return,L)}}function Xm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Uh(t,i)}catch(s){Ve(e,e.return,s)}}}function Km(e,t,i){i.props=Ml(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ve(e,t,s)}}function As(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){Ve(e,t,o)}}function Pn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){Ve(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ve(e,t,o)}else i.current=null}function Zm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){Ve(e,e.return,o)}}function wc(e,t,i){try{var s=e.stateNode;L0(s,e.type,i,t),s[Ut]=t}catch(o){Ve(e,e.return,o)}}function Pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=He));else if(s!==4&&(s===27&&Ji(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(zc(e,t,i),e=e.sibling;e!==null;)zc(e,t,i),e=e.sibling}function ro(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Ji(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ro(e,t,i),e=e.sibling;e!==null;)ro(e,t,i),e=e.sibling}function Wm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Vt(t,s,i),t[st]=e,t[Ut]=i}catch(c){Ve(e,e.return,c)}}var mi=!1,vt=!1,jc=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function p0(e,t){if(e=e.containerInfo,tf=Do,e=ch(e),Nu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var m=0,y=-1,v=-1,D=0,L=0,V=e,w=null;t:for(;;){for(var z;V!==i||o!==0&&V.nodeType!==3||(y=m+o),V!==c||s!==0&&V.nodeType!==3||(v=m+s),V.nodeType===3&&(m+=V.nodeValue.length),(z=V.firstChild)!==null;)w=V,V=z;for(;;){if(V===e)break t;if(w===i&&++D===o&&(y=m),w===c&&++L===s&&(v=m),(z=V.nextSibling)!==null)break;V=w,w=V.parentNode}V=z}i=y===-1||v===-1?null:{start:y,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(nf={focusedElem:e,selectionRange:i},Do=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){switch(t=Dt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var te=Ml(i.type,o);e=s.getSnapshotBeforeUpdate(te,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ve(i,i.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)sf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function $m(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:gi(e,i),s&4&&xs(5,i);break;case 1:if(gi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Ve(i,i.return,m)}else{var o=Ml(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ve(i,i.return,m)}}s&64&&Xm(i),s&512&&As(i,i.return);break;case 3:if(gi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Uh(e,t)}catch(m){Ve(i,i.return,m)}}break;case 27:t===null&&s&4&&Wm(i);case 26:case 5:gi(e,i),t===null&&s&4&&Zm(i),s&512&&As(i,i.return);break;case 12:gi(e,i);break;case 31:gi(e,i),s&4&&np(e,i);break;case 13:gi(e,i),s&4&&ip(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=T0.bind(null,i),Y0(e,i))));break;case 22:if(s=i.memoizedState!==null||mi,!s){t=t!==null&&t.memoizedState!==null||vt,o=mi;var c=vt;mi=s,(vt=t)&&!c?yi(e,i,(i.subtreeFlags&8772)!==0):gi(e,i),mi=o,vt=c}break;case 30:break;default:gi(e,i)}}function ep(e){var t=e.alternate;t!==null&&(e.alternate=null,ep(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ts(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,$t=!1;function pi(e,t,i){for(i=i.child;i!==null;)tp(e,t,i),i=i.sibling}function tp(e,t,i){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(wn,i)}catch{}switch(i.tag){case 26:vt||Pn(i,t),pi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:vt||Pn(i,t);var s=at,o=$t;Ji(i.type)&&(at=i.stateNode,$t=!1),pi(e,t,i),Is(i.stateNode),at=s,$t=o;break;case 5:vt||Pn(i,t);case 6:if(s=at,o=$t,at=null,pi(e,t,i),at=s,$t=o,at!==null)if($t)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(i.stateNode)}catch(c){Ve(i,t,c)}else try{at.removeChild(i.stateNode)}catch(c){Ve(i,t,c)}break;case 18:at!==null&&($t?(e=at,Xp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),za(e)):Xp(at,i.stateNode));break;case 4:s=at,o=$t,at=i.stateNode.containerInfo,$t=!0,pi(e,t,i),at=s,$t=o;break;case 0:case 11:case 14:case 15:Qi(2,i,t),vt||Qi(4,i,t),pi(e,t,i);break;case 1:vt||(Pn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Km(i,t,s)),pi(e,t,i);break;case 21:pi(e,t,i);break;case 22:vt=(s=vt)||i.memoizedState!==null,pi(e,t,i),vt=s;break;default:pi(e,t,i)}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(i){Ve(t,t.return,i)}}}function ip(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(i){Ve(t,t.return,i)}}function g0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jm),t;default:throw Error(r(435,e.tag))}}function oo(e,t){var i=g0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var o=x0.bind(null,e,s);s.then(o,o)}})}function en(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],c=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Ji(y.type)){at=y.stateNode,$t=!1;break e}break;case 5:at=y.stateNode,$t=!1;break e;case 3:case 4:at=y.stateNode.containerInfo,$t=!0;break e}y=y.return}if(at===null)throw Error(r(160));tp(c,m,o),at=null,$t=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lp(t,e),t=t.sibling}var Bn=null;function lp(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(t,e),tn(e),s&4&&(Qi(3,e,e.return),xs(3,e),Qi(5,e,e.return));break;case 1:en(t,e),tn(e),s&512&&(vt||i===null||Pn(i,i.return)),s&64&&mi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=Bn;if(en(t,e),tn(e),s&512&&(vt||i===null||Pn(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[wi]||c[st]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),Vt(c,s,i),c[st]=e,ht(c),s=c;break e;case"link":var m=lg("link","href",o).get(s+(i.href||""));if(m){for(var y=0;y<m.length;y++)if(c=m[y],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(y,1);break t}}c=o.createElement(s),Vt(c,s,i),o.head.appendChild(c);break;case"meta":if(m=lg("meta","content",o).get(s+(i.content||""))){for(y=0;y<m.length;y++)if(c=m[y],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(y,1);break t}}c=o.createElement(s),Vt(c,s,i),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[st]=e,ht(c),s=c}e.stateNode=s}else ag(o,e.type,e.stateNode);else e.stateNode=ig(o,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?ag(o,e.type,e.stateNode):ig(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&wc(e,e.memoizedProps,i.memoizedProps)}break;case 27:en(t,e),tn(e),s&512&&(vt||i===null||Pn(i,i.return)),i!==null&&s&4&&wc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(en(t,e),tn(e),s&512&&(vt||i===null||Pn(i,i.return)),e.flags&32){o=e.stateNode;try{F(o,"")}catch(te){Ve(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,wc(e,o,i!==null?i.memoizedProps:o)),s&1024&&(jc=!0);break;case 6:if(en(t,e),tn(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(te){Ve(e,e.return,te)}}break;case 3:if(xo=null,o=Bn,Bn=Eo(t.containerInfo),en(t,e),Bn=o,tn(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{za(t.containerInfo)}catch(te){Ve(e,e.return,te)}jc&&(jc=!1,ap(e));break;case 4:s=Bn,Bn=Eo(e.stateNode.containerInfo),en(t,e),tn(e),Bn=s;break;case 12:en(t,e),tn(e);break;case 31:en(t,e),tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,oo(e,s)));break;case 13:en(t,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(co=Rt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,oo(e,s)));break;case 22:o=e.memoizedState!==null;var v=i!==null&&i.memoizedState!==null,D=mi,L=vt;if(mi=D||o,vt=L||v,en(t,e),vt=L,mi=D,tn(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||v||mi||vt||wl(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){v=i=t;try{if(c=v.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=v.stateNode;var V=v.memoizedProps.style,w=V!=null&&V.hasOwnProperty("display")?V.display:null;y.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(te){Ve(v,v.return,te)}}}else if(t.tag===6){if(i===null){v=t;try{v.stateNode.nodeValue=o?"":v.memoizedProps}catch(te){Ve(v,v.return,te)}}}else if(t.tag===18){if(i===null){v=t;try{var z=v.stateNode;o?Kp(z,!0):Kp(v.stateNode,!1)}catch(te){Ve(v,v.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,oo(e,i))));break;case 19:en(t,e),tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,oo(e,s)));break;case 30:break;case 21:break;default:en(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Pm(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=Oc(e);ro(e,c,o);break;case 5:var m=i.stateNode;i.flags&32&&(F(m,""),i.flags&=-33);var y=Oc(e);ro(e,y,m);break;case 3:case 4:var v=i.stateNode.containerInfo,D=Oc(e);zc(e,D,v);break;default:throw Error(r(161))}}catch(L){Ve(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ap(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$m(e,t.alternate,t),t=t.sibling}function wl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qi(4,t,t.return),wl(t);break;case 1:Pn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Km(t,t.return,i),wl(t);break;case 27:Is(t.stateNode);case 26:case 5:Pn(t,t.return),wl(t);break;case 22:t.memoizedState===null&&wl(t);break;case 30:wl(t);break;default:wl(t)}e=e.sibling}}function yi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:yi(o,c,i),xs(4,c);break;case 1:if(yi(o,c,i),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Ve(s,s.return,D)}if(s=c,o=s.updateQueue,o!==null){var y=s.stateNode;try{var v=o.shared.hiddenCallbacks;if(v!==null)for(o.shared.hiddenCallbacks=null,o=0;o<v.length;o++)Lh(v[o],y)}catch(D){Ve(s,s.return,D)}}i&&m&64&&Xm(c),As(c,c.return);break;case 27:Wm(c);case 26:case 5:yi(o,c,i),i&&s===null&&m&4&&Zm(c),As(c,c.return);break;case 12:yi(o,c,i);break;case 31:yi(o,c,i),i&&m&4&&np(o,c);break;case 13:yi(o,c,i),i&&m&4&&ip(o,c);break;case 22:c.memoizedState===null&&yi(o,c,i),As(c,c.return);break;case 30:break;default:yi(o,c,i)}t=t.sibling}}function Ic(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ds(i))}function Lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ds(e))}function Hn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sp(e,t,i,s),t=t.sibling}function sp(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,i,s),o&2048&&xs(9,t);break;case 1:Hn(e,t,i,s);break;case 3:Hn(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ds(e)));break;case 12:if(o&2048){Hn(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,y=c.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ve(t,t.return,v)}}else Hn(e,t,i,s);break;case 31:Hn(e,t,i,s);break;case 13:Hn(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?Hn(e,t,i,s):Ns(e,t):c._visibility&2?Hn(e,t,i,s):(c._visibility|=2,Ca(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Ic(m,t);break;case 24:Hn(e,t,i,s),o&2048&&Lc(t.alternate,t);break;default:Hn(e,t,i,s)}}function Ca(e,t,i,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,y=i,v=s,D=m.flags;switch(m.tag){case 0:case 11:case 15:Ca(c,m,y,v,o),xs(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Ca(c,m,y,v,o):Ns(c,m):(L._visibility|=2,Ca(c,m,y,v,o)),o&&D&2048&&Ic(m.alternate,m);break;case 24:Ca(c,m,y,v,o),o&&D&2048&&Lc(m.alternate,m);break;default:Ca(c,m,y,v,o)}t=t.sibling}}function Ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:Ns(i,s),o&2048&&Ic(s.alternate,s);break;case 24:Ns(i,s),o&2048&&Lc(s.alternate,s);break;default:Ns(i,s)}t=t.sibling}}var Rs=8192;function Ea(e,t,i){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)rp(e,t,i),e=e.sibling}function rp(e,t,i){switch(e.tag){case 26:Ea(e,t,i),e.flags&Rs&&e.memoizedState!==null&&nb(i,Bn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e,t,i);break;case 3:case 4:var s=Bn;Bn=Eo(e.stateNode.containerInfo),Ea(e,t,i),Bn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Rs,Rs=16777216,Ea(e,t,i),Rs=s):Ea(e,t,i));break;default:Ea(e,t,i)}}function op(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Dt=s,cp(s,e)}op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)up(e),e=e.sibling}function up(e){switch(e.tag){case 0:case 11:case 15:Ds(e),e.flags&2048&&Qi(9,e,e.return);break;case 3:Ds(e);break;case 12:Ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,uo(e)):Ds(e);break;default:Ds(e)}}function uo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Dt=s,cp(s,e)}op(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qi(8,t,t.return),uo(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,uo(t));break;default:uo(t)}e=e.sibling}}function cp(e,t){for(;Dt!==null;){var i=Dt;switch(i.tag){case 0:case 11:case 15:Qi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ds(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Dt=s;else e:for(i=e;Dt!==null;){s=Dt;var o=s.sibling,c=s.return;if(ep(s),s===i){Dt=null;break e}if(o!==null){o.return=c,Dt=o;break e}Dt=c}}}var y0={getCacheForType:function(e){var t=Ht(gt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ht(gt).controller.signal}},_0=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ze=null,Ce=null,Ne=0,ke=0,_n=null,Fi=!1,Ta=!1,Uc=!1,_i=0,ot=0,Xi=0,Ol=0,Bc=0,vn=0,xa=0,Ms=null,nn=null,Hc=!1,co=0,fp=0,fo=1/0,ho=null,Ki=null,Ct=0,Zi=null,Aa=null,vi=0,kc=0,Vc=null,dp=null,ws=0,qc=null;function bn(){return(Le&2)!==0&&Ne!==0?Ne&-Ne:I.T!==null?Kc():$a()}function hp(){if(vn===0)if((Ne&536870912)===0||Me){var e=zn;zn<<=1,(zn&3932160)===0&&(zn=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function ln(e,t,i){(e===Ze&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Pi(e,Ne,vn,!1)),In(e,i),((Le&2)===0||e!==Ze)&&(e===Ze&&((Le&2)===0&&(Ol|=i),ot===4&&Pi(e,Ne,vn,!1)),Wn(e))}function mp(e,t,i){if((Le&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Lt(e,t),o=s?S0(e,t):Yc(e,t,!0),c=s;do{if(o===0){Ta&&!s&&Pi(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!v0(i)){o=Yc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=Ms;var v=y.current.memoizedState.isDehydrated;if(v&&(Na(y,m).flags|=256),m=Yc(y,m,!1),m!==2){if(Uc&&!v){y.errorRecoveryDisabledLanes|=c,Ol|=c,o=4;break e}c=nn,nn=o,c!==null&&(nn===null?nn=c:nn.push.apply(nn,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){Na(e,0),Pi(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Pi(s,t,vn,!Fi);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=co+300-Rt(),10<o)){if(Pi(s,t,vn,!Fi),Qn(s,0,!0)!==0)break e;vi=t,s.timeoutHandle=Qp(pp.bind(null,s,i,nn,ho,Hc,t,vn,Ol,xa,Fi,c,"Throttled",-0,0),o);break e}pp(s,i,nn,ho,Hc,t,vn,Ol,xa,Fi,c,null,-0,0)}}break}while(!0);Wn(e)}function pp(e,t,i,s,o,c,m,y,v,D,L,V,w,z){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:He},rp(t,c,V);var te=(c&62914560)===c?co-Rt():(c&4194048)===c?fp-Rt():0;if(te=ib(V,te),te!==null){vi=c,e.cancelPendingCommit=te(Ep.bind(null,e,t,c,i,s,o,m,y,v,L,V,null,w,z)),Pi(e,c,m,!D);return}}Ep(e,t,c,i,s,o,m,y,v)}function v0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],c=o.getSnapshot;o=o.value;try{if(!mn(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pi(e,t,i,s){t&=~Bc,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-Gt(o),m=1<<c;s[c]=-1,o&=~m}i!==0&&fn(e,i,t)}function mo(){return(Le&6)===0?(Os(0),!1):!0}function Gc(){if(Ce!==null){if(ke===0)var e=Ce.return;else e=Ce,oi=El=null,ac(e),ya=null,ms=0,e=Ce;for(;e!==null;)Fm(e.alternate,e),e=e.return;Ce=null}}function Na(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,H0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),vi=0,Gc(),Ze=e,Ce=i=si(e.current,null),Ne=t,ke=0,_n=null,Fi=!1,Ta=Lt(e,t),Uc=!1,xa=vn=Bc=Ol=Xi=ot=0,nn=Ms=null,Hc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Gt(s),c=1<<o;t|=e[o],s&=~c}return _i=t,jr(),i}function gp(e,t){pe=null,I.H=Cs,t===ga||t===qr?(t=Oh(),ke=3):t===Xu?(t=Oh(),ke=4):ke=t===Sc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_n=t,Ce===null&&(ot=1,no(e,Tn(t,e.current)))}function yp(){var e=gn.current;return e===null?!0:(Ne&4194048)===Ne?Rn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Rn:!1}function _p(){var e=I.H;return I.H=Cs,e===null?Cs:e}function vp(){var e=I.A;return I.A=y0,e}function po(){ot=4,Fi||(Ne&4194048)!==Ne&&gn.current!==null||(Ta=!0),(Xi&134217727)===0&&(Ol&134217727)===0||Ze===null||Pi(Ze,Ne,vn,!1)}function Yc(e,t,i){var s=Le;Le|=2;var o=_p(),c=vp();(Ze!==e||Ne!==t)&&(ho=null,Na(e,t)),t=!1;var m=ot;e:do try{if(ke!==0&&Ce!==null){var y=Ce,v=_n;switch(ke){case 8:Gc(),m=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(t=!0);var D=ke;if(ke=0,_n=null,Ra(e,y,v,D),i&&Ta){m=0;break e}break;default:D=ke,ke=0,_n=null,Ra(e,y,v,D)}}b0(),m=ot;break}catch(L){gp(e,L)}while(!0);return t&&e.shellSuspendCounter++,oi=El=null,Le=s,I.H=o,I.A=c,Ce===null&&(Ze=null,Ne=0,jr()),m}function b0(){for(;Ce!==null;)bp(Ce)}function S0(e,t){var i=Le;Le|=2;var s=_p(),o=vp();Ze!==e||Ne!==t?(ho=null,fo=Rt()+500,Na(e,t)):Ta=Lt(e,t);e:do try{if(ke!==0&&Ce!==null){t=Ce;var c=_n;t:switch(ke){case 1:ke=0,_n=null,Ra(e,t,c,1);break;case 2:case 9:if(Mh(c)){ke=0,_n=null,Sp(t);break}t=function(){ke!==2&&ke!==9||Ze!==e||(ke=7),Wn(e)},c.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Mh(c)?(ke=0,_n=null,Sp(t)):(ke=0,_n=null,Ra(e,t,c,7));break;case 5:var m=null;switch(Ce.tag){case 26:m=Ce.memoizedState;case 5:case 27:var y=Ce;if(m?sg(m):y.stateNode.complete){ke=0,_n=null;var v=y.sibling;if(v!==null)Ce=v;else{var D=y.return;D!==null?(Ce=D,go(D)):Ce=null}break t}}ke=0,_n=null,Ra(e,t,c,5);break;case 6:ke=0,_n=null,Ra(e,t,c,6);break;case 8:Gc(),ot=6;break e;default:throw Error(r(462))}}C0();break}catch(L){gp(e,L)}while(!0);return oi=El=null,I.H=s,I.A=o,Le=i,Ce!==null?0:(Ze=null,Ne=0,jr(),ot)}function C0(){for(;Ce!==null&&!_r();)bp(Ce)}function bp(e){var t=Ym(e.alternate,e,_i);e.memoizedProps=e.pendingProps,t===null?go(e):Ce=t}function Sp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Bm(i,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Bm(i,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:ac(t);default:Fm(i,t),t=Ce=vh(t,_i),t=Ym(i,t,_i)}e.memoizedProps=e.pendingProps,t===null?go(e):Ce=t}function Ra(e,t,i,s){oi=El=null,ac(t),ya=null,ms=0;var o=t.return;try{if(c0(e,o,t,i,Ne)){ot=1,no(e,Tn(i,e.current)),Ce=null;return}}catch(c){if(o!==null)throw Ce=o,c;ot=1,no(e,Tn(i,e.current)),Ce=null;return}t.flags&32768?(Me||s===1?e=!0:Ta||(Ne&536870912)!==0?e=!1:(Fi=e=!0,(s===2||s===9||s===3||s===6)&&(s=gn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Cp(t,e)):go(t)}function go(e){var t=e;do{if((t.flags&32768)!==0){Cp(t,Fi);return}e=t.return;var i=h0(t.alternate,t,_i);if(i!==null){Ce=i;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);ot===0&&(ot=5)}function Cp(e,t){do{var i=m0(e.alternate,e);if(i!==null){i.flags&=32767,Ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=i}while(e!==null);ot=6,Ce=null}function Ep(e,t,i,s,o,c,m,y,v){e.cancelPendingCommit=null;do yo();while(Ct!==0);if((Le&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Ou,ve(e,i,c,m,y,v),e===Ze&&(Ce=Ze=null,Ne=0),Aa=t,Zi=e,vi=i,kc=c,Vc=o,dp=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,A0(ml,function(){return Rp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null,o=K.p,K.p=2,m=Le,Le|=4;try{p0(e,t,i)}finally{Le=m,K.p=o,I.T=s}}Ct=1,Tp(),xp(),Ap()}}function Tp(){if(Ct===1){Ct=0;var e=Zi,t=Aa,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var s=K.p;K.p=2;var o=Le;Le|=4;try{lp(t,e);var c=nf,m=ch(e.containerInfo),y=c.focusedElem,v=c.selectionRange;if(m!==y&&y&&y.ownerDocument&&uh(y.ownerDocument.documentElement,y)){if(v!==null&&Nu(y)){var D=v.start,L=v.end;if(L===void 0&&(L=D),"selectionStart"in y)y.selectionStart=D,y.selectionEnd=Math.min(L,y.value.length);else{var V=y.ownerDocument||document,w=V&&V.defaultView||window;if(w.getSelection){var z=w.getSelection(),te=y.textContent.length,oe=Math.min(v.start,te),Qe=v.end===void 0?oe:Math.min(v.end,te);!z.extend&&oe>Qe&&(m=Qe,Qe=oe,oe=m);var A=oh(y,oe),C=oh(y,Qe);if(A&&C&&(z.rangeCount!==1||z.anchorNode!==A.node||z.anchorOffset!==A.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var R=V.createRange();R.setStart(A.node,A.offset),z.removeAllRanges(),oe>Qe?(z.addRange(R),z.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),z.addRange(R))}}}}for(V=[],z=y;z=z.parentNode;)z.nodeType===1&&V.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<V.length;y++){var B=V[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Do=!!tf,nf=tf=null}finally{Le=o,K.p=s,I.T=i}}e.current=t,Ct=2}}function xp(){if(Ct===2){Ct=0;var e=Zi,t=Aa,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var s=K.p;K.p=2;var o=Le;Le|=4;try{$m(e,t.alternate,t)}finally{Le=o,K.p=s,I.T=i}}Ct=3}}function Ap(){if(Ct===4||Ct===3){Ct=0,Zl();var e=Zi,t=Aa,i=vi,s=dp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ct=5:(Ct=0,Aa=Zi=null,Np(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ki=null),Ja(i),t=t.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(wn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=I.T,o=K.p,K.p=2,I.T=null;try{for(var c=e.onRecoverableError,m=0;m<s.length;m++){var y=s[m];c(y.value,{componentStack:y.stack})}}finally{I.T=t,K.p=o}}(vi&3)!==0&&yo(),Wn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===qc?ws++:(ws=0,qc=e):ws=0,Os(0)}}function Np(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ds(t)))}function yo(){return Tp(),xp(),Ap(),Rp()}function Rp(){if(Ct!==5)return!1;var e=Zi,t=kc;kc=0;var i=Ja(vi),s=I.T,o=K.p;try{K.p=32>i?32:i,I.T=null,i=Vc,Vc=null;var c=Zi,m=vi;if(Ct=0,Aa=Zi=null,vi=0,(Le&6)!==0)throw Error(r(331));var y=Le;if(Le|=4,up(c.current),sp(c,c.current,m,i),Le=y,Os(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(wn,c)}catch{}return!0}finally{K.p=o,I.T=s,Np(e,t)}}function Dp(e,t,i){t=Tn(i,t),t=bc(e.stateNode,t,2),e=qi(e,t,2),e!==null&&(In(e,2),Wn(e))}function Ve(e,t,i){if(e.tag===3)Dp(e,e,i);else for(;t!==null;){if(t.tag===3){Dp(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ki===null||!Ki.has(s))){e=Tn(i,e),i=Mm(2),s=qi(t,i,2),s!==null&&(wm(i,s,t,e),In(s,2),Wn(s));break}}t=t.return}}function Qc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new _0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(Uc=!0,o.add(i),e=E0.bind(null,e,t,i),t.then(e,e))}function E0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ze===e&&(Ne&i)===i&&(ot===4||ot===3&&(Ne&62914560)===Ne&&300>Rt()-co?(Le&2)===0&&Na(e,0):Bc|=i,xa===Ne&&(xa=0)),Wn(e)}function Mp(e,t){t===0&&(t=vr()),e=bl(e,t),e!==null&&(In(e,t),Wn(e))}function T0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Mp(e,i)}function x0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Mp(e,i)}function A0(e,t){return Kl(e,t)}var _o=null,Da=null,Fc=!1,vo=!1,Xc=!1,Wi=0;function Wn(e){e!==Da&&e.next===null&&(Da===null?_o=Da=e:Da=Da.next=e),vo=!0,Fc||(Fc=!0,R0())}function Os(e,t){if(!Xc&&vo){Xc=!0;do for(var i=!1,s=_o;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var m=s.suspendedLanes,y=s.pingedLanes;c=(1<<31-Gt(42|e)+1)-1,c&=o&~(m&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,jp(s,c))}else c=Ne,c=Qn(s,s===Ze?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Lt(s,c)||(i=!0,jp(s,c));s=s.next}while(i);Xc=!1}}function N0(){wp()}function wp(){vo=Fc=!1;var e=0;Wi!==0&&B0()&&(e=Wi);for(var t=Rt(),i=null,s=_o;s!==null;){var o=s.next,c=Op(s,t);c===0?(s.next=null,i===null?_o=o:i.next=o,o===null&&(Da=i)):(i=s,(e!==0||(c&3)!==0)&&(vo=!0)),s=o}Ct!==0&&Ct!==5||Os(e),Wi!==0&&(Wi=0)}function Op(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Gt(c),y=1<<m,v=o[m];v===-1?((y&i)===0||(y&s)!==0)&&(o[m]=Wa(y,t)):v<=t&&(e.expiredLanes|=y),c&=~y}if(t=Ze,i=Ne,i=Qn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ni(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Lt(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Ni(s),Ja(i)){case 2:case 8:i=$n;break;case 32:i=ml;break;case 268435456:i=un;break;default:i=ml}return s=zp.bind(null,e),i=Kl(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Ni(s),e.callbackPriority=2,e.callbackNode=null,2}function zp(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(yo()&&e.callbackNode!==i)return null;var s=Ne;return s=Qn(e,e===Ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(mp(e,s,t),Op(e,Rt()),e.callbackNode!=null&&e.callbackNode===i?zp.bind(null,e):null)}function jp(e,t){if(yo())return null;mp(e,t,!0)}function R0(){k0(function(){(Le&6)!==0?Kl(Pl,N0):wp()})}function Kc(){if(Wi===0){var e=ma;e===0&&(e=ea,ea<<=1,(ea&261888)===0&&(ea=256)),Wi=e}return Wi}function Ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fe(""+e)}function Lp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function D0(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var c=Ip((o[Ut]||null).action),m=s.submitter;m&&(t=(t=m[Ut]||null)?Ip(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var y=new Mr("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Wi!==0){var v=m?Lp(o,m):new FormData(o);mc(i,{pending:!0,data:v,method:o.method,action:c},null,v)}}else typeof c=="function"&&(y.preventDefault(),v=m?Lp(o,m):new FormData(o),mc(i,{pending:!0,data:v,method:o.method,action:c},c,v))},currentTarget:o}]})}}for(var Zc=0;Zc<wu.length;Zc++){var Pc=wu[Zc],M0=Pc.toLowerCase(),w0=Pc[0].toUpperCase()+Pc.slice(1);Un(M0,"on"+w0)}Un(hh,"onAnimationEnd"),Un(mh,"onAnimationIteration"),Un(ph,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Xv,"onTransitionRun"),Un(Kv,"onTransitionStart"),Un(Zv,"onTransitionCancel"),Un(gh,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function Up(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],v=y.instance,D=y.currentTarget;if(y=y.listener,v!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=D;try{c(o)}catch(L){zr(L)}o.currentTarget=null,c=v}else for(m=0;m<s.length;m++){if(y=s[m],v=y.instance,D=y.currentTarget,y=y.listener,v!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=D;try{c(o)}catch(L){zr(L)}o.currentTarget=null,c=v}}}}function Ee(e,t){var i=t[ta];i===void 0&&(i=t[ta]=new Set);var s=e+"__bubble";i.has(s)||(Bp(t,e,2,!1),i.add(s))}function Wc(e,t,i){var s=0;t&&(s|=4),Bp(i,e,s,t)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[bo]){e[bo]=!0,Er.forEach(function(i){i!=="selectionchange"&&(O0.has(i)||Wc(i,!1,e),Wc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bo]||(t[bo]=!0,Wc("selectionchange",!1,t))}}function Bp(e,t,i,s){switch(hg(t)){case 2:var o=sb;break;case 8:o=rb;break;default:o=mf}i=o.bind(null,t,i,e),o=void 0,!_u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function $c(e,t,i,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=s.return;m!==null;){var v=m.tag;if((v===3||v===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=ti(y),m===null)return;if(v=m.tag,v===5||v===6||v===26||v===27){s=c=m;continue e}y=y.parentNode}}s=s.return}pt(function(){var D=c,L=Xe(i),V=[];e:{var w=yh.get(e);if(w!==void 0){var z=Mr,te=e;switch(e){case"keypress":if(Rr(i)===0)break e;case"keydown":case"keyup":z=xv;break;case"focusin":te="focus",z=Cu;break;case"focusout":te="blur",z=Cu;break;case"beforeblur":case"afterblur":z=Cu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Rv;break;case hh:case mh:case ph:z=gv;break;case gh:z=Mv;break;case"scroll":case"scrollend":z=fv;break;case"wheel":z=Ov;break;case"copy":case"cut":case"paste":z=_v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Kd;break;case"toggle":case"beforetoggle":z=jv}var oe=(t&4)!==0,Qe=!oe&&(e==="scroll"||e==="scrollend"),A=oe?w!==null?w+"Capture":null:w;oe=[];for(var C=D,R;C!==null;){var B=C;if(R=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||R===null||A===null||(B=li(C,A),B!=null&&oe.push(js(C,B,R))),Qe)break;C=C.return}0<oe.length&&(w=new z(w,te,null,i,L),V.push({event:w,listeners:oe}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",w&&i!==le&&(te=i.relatedTarget||i.fromElement)&&(ti(te)||te[ei]))break e;if((z||w)&&(w=L.window===L?L:(w=L.ownerDocument)?w.defaultView||w.parentWindow:window,z?(te=i.relatedTarget||i.toElement,z=D,te=te?ti(te):null,te!==null&&(Qe=f(te),oe=te.tag,te!==Qe||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(z=null,te=D),z!==te)){if(oe=Fd,B="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Kd,B="onPointerLeave",A="onPointerEnter",C="pointer"),Qe=z==null?w:gl(z),R=te==null?w:gl(te),w=new oe(B,C+"leave",z,i,L),w.target=Qe,w.relatedTarget=R,B=null,ti(L)===D&&(oe=new oe(A,C+"enter",te,i,L),oe.target=R,oe.relatedTarget=Qe,B=oe),Qe=B,z&&te)t:{for(oe=z0,A=z,C=te,R=0,B=A;B;B=oe(B))R++;B=0;for(var re=C;re;re=oe(re))B++;for(;0<R-B;)A=oe(A),R--;for(;0<B-R;)C=oe(C),B--;for(;R--;){if(A===C||C!==null&&A===C.alternate){oe=A;break t}A=oe(A),C=oe(C)}oe=null}else oe=null;z!==null&&Hp(V,w,z,oe,!1),te!==null&&Qe!==null&&Hp(V,Qe,te,oe,!0)}}e:{if(w=D?gl(D):window,z=w.nodeName&&w.nodeName.toLowerCase(),z==="select"||z==="input"&&w.type==="file")var je=nh;else if(eh(w))if(ih)je=Yv;else{je=qv;var ne=Vv}else z=w.nodeName,!z||z.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?D&&ze(D.elementType)&&(je=nh):je=Gv;if(je&&(je=je(e,D))){th(V,je,i,L);break e}ne&&ne(e,w,D),e==="focusout"&&D&&w.type==="number"&&D.memoizedProps.value!=null&&G(w,"number",w.value)}switch(ne=D?gl(D):window,e){case"focusin":(eh(ne)||ne.contentEditable==="true")&&(sa=ne,Ru=D,us=null);break;case"focusout":us=Ru=sa=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,fh(V,i,L);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":fh(V,i,L)}var _e;if(Tu)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else aa?Jd(e,i)&&(Re="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Re="onCompositionStart");Re&&(Zd&&i.locale!=="ko"&&(aa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&aa&&(_e=Yd()):(Ii=L,vu="value"in Ii?Ii.value:Ii.textContent,aa=!0)),ne=So(D,Re),0<ne.length&&(Re=new Xd(Re,e,null,i,L),V.push({event:Re,listeners:ne}),_e?Re.data=_e:(_e=$d(i),_e!==null&&(Re.data=_e)))),(_e=Lv?Uv(e,i):Bv(e,i))&&(Re=So(D,"onBeforeInput"),0<Re.length&&(ne=new Xd("onBeforeInput","beforeinput",null,i,L),V.push({event:ne,listeners:Re}),ne.data=_e)),D0(V,e,D,i,L)}Up(V,t)})}function js(e,t,i){return{instance:e,listener:t,currentTarget:i}}function So(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=li(e,i),o!=null&&s.unshift(js(e,o,c)),o=li(e,t),o!=null&&s.push(js(e,o,c))),e.tag===3)return s;e=e.return}return[]}function z0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hp(e,t,i,s,o){for(var c=t._reactName,m=[];i!==null&&i!==s;){var y=i,v=y.alternate,D=y.stateNode;if(y=y.tag,v!==null&&v===s)break;y!==5&&y!==26&&y!==27||D===null||(v=D,o?(D=li(i,c),D!=null&&m.unshift(js(i,D,v))):o||(D=li(i,c),D!=null&&m.push(js(i,D,v)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var j0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(j0,`
`).replace(I0,"")}function Vp(e,t){return t=kp(t),kp(e)===t}function Ye(e,t,i,s,o,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||F(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&F(e,""+s);break;case"className":la(e,"class",s);break;case"tabIndex":la(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":la(e,i,s);break;case"style":me(e,s,c);break;case"data":if(t!=="object"){la(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Fe(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ye(e,t,"name",o.name,o,null),Ye(e,t,"formEncType",o.formEncType,o,null),Ye(e,t,"formMethod",o.formMethod,o,null),Ye(e,t,"formTarget",o.formTarget,o,null)):(Ye(e,t,"encType",o.encType,o,null),Ye(e,t,"method",o.method,o,null),Ye(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Fe(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=He);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Fe(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),ia(e,"popover",s);break;case"xlinkActuate":Ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ln(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ln(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ln(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ln(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ia(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=mt.get(i)||i,ia(e,i,s))}}function ef(e,t,i,s,o,c){switch(i){case"style":me(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?F(e,s):(typeof s=="number"||typeof s=="bigint")&&F(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=He);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[Ut]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):ia(e,i,s)}}}function Vt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var m=i[c];if(m!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ye(e,t,c,m,i,null)}}o&&Ye(e,t,"srcSet",i.srcSet,i,null),s&&Ye(e,t,"src",i.src,i,null);return;case"input":Ee("invalid",e);var y=c=m=o=null,v=null,D=null;for(s in i)if(i.hasOwnProperty(s)){var L=i[s];if(L!=null)switch(s){case"name":o=L;break;case"type":m=L;break;case"checked":v=L;break;case"defaultChecked":D=L;break;case"value":c=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Ye(e,t,s,L,i,null)}}Y(e,c,y,v,D,m,o,!1);return;case"select":Ee("invalid",e),s=m=c=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":m=y;break;case"multiple":s=y;default:Ye(e,t,o,y,i,null)}t=c,i=m,e.multiple=!!s,t!=null?j(e,!!s,t,!1):i!=null&&j(e,!!s,i,!0);return;case"textarea":Ee("invalid",e),c=o=s=null;for(m in i)if(i.hasOwnProperty(m)&&(y=i[m],y!=null))switch(m){case"value":s=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ye(e,t,m,y,i,null)}P(e,s,o,c);return;case"option":for(v in i)if(i.hasOwnProperty(v)&&(s=i[v],s!=null))switch(v){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ye(e,t,v,s,i,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<zs.length;s++)Ee(zs[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in i)if(i.hasOwnProperty(D)&&(s=i[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ye(e,t,D,s,i,null)}return;default:if(ze(t)){for(L in i)i.hasOwnProperty(L)&&(s=i[L],s!==void 0&&ef(e,t,L,s,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(s=i[y],s!=null&&Ye(e,t,y,s,i,null))}function L0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,y=null,v=null,D=null,L=null;for(z in i){var V=i[z];if(i.hasOwnProperty(z)&&V!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":v=V;default:s.hasOwnProperty(z)||Ye(e,t,z,null,s,V)}}for(var w in s){var z=s[w];if(V=i[w],s.hasOwnProperty(w)&&(z!=null||V!=null))switch(w){case"type":c=z;break;case"name":o=z;break;case"checked":D=z;break;case"defaultChecked":L=z;break;case"value":m=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==V&&Ye(e,t,w,z,s,V)}}ee(e,m,y,v,D,L,c,o);return;case"select":z=m=y=w=null;for(c in i)if(v=i[c],i.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":z=v;default:s.hasOwnProperty(c)||Ye(e,t,c,null,s,v)}for(o in s)if(c=s[o],v=i[o],s.hasOwnProperty(o)&&(c!=null||v!=null))switch(o){case"value":w=c;break;case"defaultValue":y=c;break;case"multiple":m=c;default:c!==v&&Ye(e,t,o,c,s,v)}t=y,i=m,s=z,w!=null?j(e,!!i,w,!1):!!s!=!!i&&(t!=null?j(e,!!i,t,!0):j(e,!!i,i?[]:"",!1));return;case"textarea":z=w=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ye(e,t,y,null,s,o)}for(m in s)if(o=s[m],c=i[m],s.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":w=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Ye(e,t,m,o,s,c)}W(e,w,z);return;case"option":for(var te in i)if(w=i[te],i.hasOwnProperty(te)&&w!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Ye(e,t,te,null,s,w)}for(v in s)if(w=s[v],z=i[v],s.hasOwnProperty(v)&&w!==z&&(w!=null||z!=null))switch(v){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ye(e,t,v,w,s,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in i)w=i[oe],i.hasOwnProperty(oe)&&w!=null&&!s.hasOwnProperty(oe)&&Ye(e,t,oe,null,s,w);for(D in s)if(w=s[D],z=i[D],s.hasOwnProperty(D)&&w!==z&&(w!=null||z!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,t));break;default:Ye(e,t,D,w,s,z)}return;default:if(ze(t)){for(var Qe in i)w=i[Qe],i.hasOwnProperty(Qe)&&w!==void 0&&!s.hasOwnProperty(Qe)&&ef(e,t,Qe,void 0,s,w);for(L in s)w=s[L],z=i[L],!s.hasOwnProperty(L)||w===z||w===void 0&&z===void 0||ef(e,t,L,w,s,z);return}}for(var A in i)w=i[A],i.hasOwnProperty(A)&&w!=null&&!s.hasOwnProperty(A)&&Ye(e,t,A,null,s,w);for(V in s)w=s[V],z=i[V],!s.hasOwnProperty(V)||w===z||w==null&&z==null||Ye(e,t,V,w,s,z)}function qp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var o=i[s],c=o.transferSize,m=o.initiatorType,y=o.duration;if(c&&y&&qp(m)){for(m=0,y=o.responseEnd,s+=1;s<i.length;s++){var v=i[s],D=v.startTime;if(D>y)break;var L=v.transferSize,V=v.initiatorType;L&&qp(V)&&(v=v.responseEnd,m+=L*(v<y?1:(y-D)/(v-D)))}if(--s,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tf=null,nf=null;function Co(e){return e.nodeType===9?e:e.ownerDocument}function Gp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var af=null;function B0(){var e=window.event;return e&&e.type==="popstate"?e===af?!1:(af=e,!0):(af=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(V0)}:Qp;function V0(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function Xp(e,t){var i=t,s=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(o),za(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Is(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Is(i);for(var c=i.firstChild;c;){var m=c.nextSibling,y=c.nodeName;c[wi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=m}}else i==="body"&&Is(e.ownerDocument.body);i=o}while(i);za(t)}function Kp(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function sf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":sf(i),ts(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function q0(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[wi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function G0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Dn(e.nextSibling),e===null))return null;return e}function Zp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function rf(e){return e.data==="$?"||e.data==="$~"}function of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Y0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uf=null;function Pp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Dn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Jp(e,t,i){switch(t=Co(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Is(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ts(e)}var Mn=new Map,$p=new Set;function Eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bi=K.d;K.d={f:Q0,r:F0,D:X0,C:K0,L:Z0,m:P0,X:J0,S:W0,M:$0};function Q0(){var e=bi.f(),t=mo();return e||t}function F0(e){var t=Oi(e);t!==null&&t.tag===5&&t.type==="form"?gm(t):bi.r(e)}var Ma=typeof document>"u"?null:document;function eg(e,t,i){var s=Ma;if(s&&typeof t=="string"&&t){var o=k(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),$p.has(o)||($p.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),Vt(t,"link",e),ht(t),s.head.appendChild(t)))}}function X0(e){bi.D(e),eg("dns-prefetch",e,null)}function K0(e,t){bi.C(e,t),eg("preconnect",e,t)}function Z0(e,t,i){bi.L(e,t,i);var s=Ma;if(s&&e&&t){var o='link[rel="preload"][as="'+k(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+k(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+k(i.imageSizes)+'"]')):o+='[href="'+k(e)+'"]';var c=o;switch(t){case"style":c=wa(e);break;case"script":c=Oa(e)}Mn.has(c)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Mn.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ls(c))||t==="script"&&s.querySelector(Us(c))||(t=s.createElement("link"),Vt(t,"link",e),ht(t),s.head.appendChild(t)))}}function P0(e,t){bi.m(e,t);var i=Ma;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+k(s)+'"][href="'+k(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Oa(e)}if(!Mn.has(c)&&(e=S({rel:"modulepreload",href:e},t),Mn.set(c,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Us(c)))return}s=i.createElement("link"),Vt(s,"link",e),ht(s),i.head.appendChild(s)}}}function W0(e,t,i){bi.S(e,t,i);var s=Ma;if(s&&e){var o=zi(s).hoistableStyles,c=wa(e);t=t||"default";var m=o.get(c);if(!m){var y={loading:0,preload:null};if(m=s.querySelector(Ls(c)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Mn.get(c))&&cf(e,i);var v=m=s.createElement("link");ht(v),Vt(v,"link",e),v._p=new Promise(function(D,L){v.onload=D,v.onerror=L}),v.addEventListener("load",function(){y.loading|=1}),v.addEventListener("error",function(){y.loading|=2}),y.loading|=4,To(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(c,m)}}}function J0(e,t){bi.X(e,t);var i=Ma;if(i&&e){var s=zi(i).hoistableScripts,o=Oa(e),c=s.get(o);c||(c=i.querySelector(Us(o)),c||(e=S({src:e,async:!0},t),(t=Mn.get(o))&&ff(e,t),c=i.createElement("script"),ht(c),Vt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function $0(e,t){bi.M(e,t);var i=Ma;if(i&&e){var s=zi(i).hoistableScripts,o=Oa(e),c=s.get(o);c||(c=i.querySelector(Us(o)),c||(e=S({src:e,async:!0,type:"module"},t),(t=Mn.get(o))&&ff(e,t),c=i.createElement("script"),ht(c),Vt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function tg(e,t,i,s){var o=(o=ge.current)?Eo(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=wa(i.href),i=zi(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=wa(i.href);var c=zi(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(Ls(e)))&&!c._p&&(m.instance=c,m.state.loading=5),Mn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Mn.set(e,i),c||eb(o,e,i,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Oa(i),i=zi(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wa(e){return'href="'+k(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function ng(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function eb(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Vt(t,"link",i),ht(t),e.head.appendChild(t))}function Oa(e){return'[src="'+k(e)+'"]'}function Us(e){return"script[async]"+e}function ig(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+k(i.href)+'"]');if(s)return t.instance=s,ht(s),s;var o=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),Vt(s,"style",o),To(s,i.precedence,e),t.instance=s;case"stylesheet":o=wa(i.href);var c=e.querySelector(Ls(o));if(c)return t.state.loading|=4,t.instance=c,ht(c),c;s=ng(i),(o=Mn.get(o))&&cf(s,o),c=(e.ownerDocument||e).createElement("link"),ht(c);var m=c;return m._p=new Promise(function(y,v){m.onload=y,m.onerror=v}),Vt(c,"link",s),t.state.loading|=4,To(c,i.precedence,e),t.instance=c;case"script":return c=Oa(i.src),(o=e.querySelector(Us(c)))?(t.instance=o,ht(o),o):(s=i,(o=Mn.get(c))&&(s=S({},i),ff(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ht(o),Vt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,To(s,i.precedence,e));return t.instance}function To(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,m=0;m<s.length;m++){var y=s[m];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function cf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ff(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xo=null;function lg(e,t,i){if(xo===null){var s=new Map,o=xo=new Map;o.set(i,s)}else o=xo,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[wi]||c[st]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var y=s.get(m);y?y.push(c):s.set(m,[c])}}return s}function ag(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function tb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nb(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=wa(s.href),c=t.querySelector(Ls(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ao.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,ht(c);return}c=t.ownerDocument||t,s=ng(s),(o=Mn.get(o))&&cf(s,o),c=c.createElement("link"),ht(c);var m=c;m._p=new Promise(function(y,v){m.onload=y,m.onerror=v}),Vt(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ao.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var df=0;function ib(e,t){return e.stylesheets&&e.count===0&&Ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ro(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&df===0&&(df=62500*U0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ro(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>df?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var No=null;function Ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,No=new Map,t.forEach(lb,e),No=null,Ao.call(e))}function lb(e,t){if(!(t.state.loading&4)){var i=No.get(e);if(i)var s=i.get(null);else{i=new Map,No.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),c=i.get(m)||s,c===s&&i.set(null,o),i.set(m,o),this.count++,s=Ao.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:Oe,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function ab(e,t,i,s,o,c,m,y,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function rg(e,t,i,s,o,c,m,y,v,D,L,V){return e=new ab(e,t,i,m,v,D,L,V,y),t=1,c===!0&&(t|=24),c=pn(3,null,null,t),e.current=c,c.stateNode=e,t=Yu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},Ku(c),e}function og(e){return e?(e=ua,e):ua}function ug(e,t,i,s,o,c){o=og(o),s.context===null?s.context=o:s.pendingContext=o,s=Vi(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=qi(e,s,t),i!==null&&(ln(i,e,t),gs(i,e,t))}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function hf(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function fg(e){if(e.tag===13||e.tag===31){var t=bl(e,67108864);t!==null&&ln(t,e,67108864),hf(e,67108864)}}function dg(e){if(e.tag===13||e.tag===31){var t=bn();t=Mi(t);var i=bl(e,t);i!==null&&ln(i,e,t),hf(e,t)}}var Do=!0;function sb(e,t,i,s){var o=I.T;I.T=null;var c=K.p;try{K.p=2,mf(e,t,i,s)}finally{K.p=c,I.T=o}}function rb(e,t,i,s){var o=I.T;I.T=null;var c=K.p;try{K.p=8,mf(e,t,i,s)}finally{K.p=c,I.T=o}}function mf(e,t,i,s){if(Do){var o=pf(s);if(o===null)$c(e,t,s,Mo,i),mg(e,s);else if(ub(o,e,t,i,s))s.stopPropagation();else if(mg(e,s),t&4&&-1<ob.indexOf(e)){for(;o!==null;){var c=Oi(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=jn(c.pendingLanes);if(m!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var v=1<<31-Gt(m);y.entanglements[1]|=v,m&=~v}Wn(c),(Le&6)===0&&(fo=Rt()+500,Os(0))}}break;case 31:case 13:y=bl(c,2),y!==null&&ln(y,c,2),mo(),hf(c,2)}if(c=pf(s),c===null&&$c(e,t,s,Mo,i),c===o)break;o=c}o!==null&&s.stopPropagation()}else $c(e,t,s,null,i)}}function pf(e){return e=Xe(e),gf(e)}var Mo=null;function gf(e){if(Mo=null,e=ti(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mo=e,null}function hg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Pl:return 2;case $n:return 8;case ml:case Ri:return 32;case un:return 268435456;default:return 32}default:return 32}}var yf=!1,$i=null,el=null,tl=null,Hs=new Map,ks=new Map,nl=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mg(e,t){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Vs(e,t,i,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Oi(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ub(e,t,i,s,o){switch(t){case"focusin":return $i=Vs($i,e,t,i,s,o),!0;case"dragenter":return el=Vs(el,e,t,i,s,o),!0;case"mouseover":return tl=Vs(tl,e,t,i,s,o),!0;case"pointerover":var c=o.pointerId;return Hs.set(c,Vs(Hs.get(c)||null,e,t,i,s,o)),!0;case"gotpointercapture":return c=o.pointerId,ks.set(c,Vs(ks.get(c)||null,e,t,i,s,o)),!0}return!1}function pg(e){var t=ti(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,es(e.priority,function(){dg(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,es(e.priority,function(){dg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=pf(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);le=s,i.target.dispatchEvent(s),le=null}else return t=Oi(i),t!==null&&fg(t),e.blockedOn=i,!1;t.shift()}return!0}function gg(e,t,i){wo(e)&&i.delete(t)}function cb(){yf=!1,$i!==null&&wo($i)&&($i=null),el!==null&&wo(el)&&(el=null),tl!==null&&wo(tl)&&(tl=null),Hs.forEach(gg),ks.forEach(gg)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,yf||(yf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,cb)))}var zo=null;function yg(e){zo!==e&&(zo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zo===e&&(zo=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(gf(s||i)===null)continue;break}var c=Oi(i);c!==null&&(e.splice(t,3),t-=3,mc(c,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function za(e){function t(v){return Oo(v,e)}$i!==null&&Oo($i,e),el!==null&&Oo(el,e),tl!==null&&Oo(tl,e),Hs.forEach(t),ks.forEach(t);for(var i=0;i<nl.length;i++){var s=nl[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<nl.length&&(i=nl[0],i.blockedOn===null);)pg(i),i.blockedOn===null&&nl.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=o[Ut]||null;if(typeof c=="function")m||yg(i);else if(m){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[Ut]||null)y=m.formAction;else if(gf(o)!==null)continue}else y=m.action;typeof y=="function"?i[s+1]=y:(i.splice(s,3),s-=3),yg(i)}}}function _g(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function _f(e){this._internalRoot=e}jo.prototype.render=_f.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=bn();ug(i,s,e,t,null,null)},jo.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ug(e.current,2,null,e,null,null),mo(),t[ei]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$a();e={blockedOn:null,target:e,priority:t};for(var i=0;i<nl.length&&t!==0&&t<nl[i].priority;i++);nl.splice(i,0,e),i===0&&pg(e)}};var vg=n.version;if(vg!=="19.2.0")throw Error(r(527,vg,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var fb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{wn=Io.inject(fb),It=Io}catch{}}return Gs.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,s="",o=Am,c=Nm,m=Rm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=rg(e,1,!1,null,null,i,s,null,o,c,m,_g),e[ei]=t.current,Jc(e),new _f(t)},Gs.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var s=!1,o="",c=Am,m=Nm,y=Rm,v=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.formState!==void 0&&(v=i.formState)),t=rg(e,1,!0,t,i??null,s,o,v,c,m,y,_g),t.context=og(null),i=t.current,s=bn(),s=Mi(s),o=Vi(s),o.callback=null,qi(i,o,s),i=s,t.current.lanes=i,In(t,i),Wn(t),e[ei]=t.current,Jc(e),new jo(t)},Gs.version="19.2.0",Gs}var Dg;function Cb(){if(Dg)return Sf.exports;Dg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Sf.exports=Sb(),Sf.exports}var Eb=Cb();const Tb=wy(Eb),xb=()=>{};var Mg={};const Oy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const X=function(a,n){if(!a)throw Qa(n)},Qa=function(a){return new Error("Firebase Database ("+Oy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const zy=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},Ab=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const u=a[l++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[l++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[l++],h=a[l++],p=a[l++],_=((u&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},od={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const f=a[u],h=u+1<a.length,p=h?a[u+1]:0,_=u+2<a.length,d=_?a[u+2]:0,x=f>>2,S=(f&3)<<4|p>>4;let T=(p&15)<<2|d>>6,Q=d&63;_||(Q=64,h||(T=64)),r.push(l[x],l[S],l[T],l[Q])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(zy(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):Ab(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const f=l[a.charAt(u++)],p=u<a.length?l[a.charAt(u)]:0;++u;const d=u<a.length?l[a.charAt(u)]:64;++u;const S=u<a.length?l[a.charAt(u)]:64;if(++u,f==null||p==null||d==null||S==null)throw new Nb;const T=f<<2|p>>4;if(r.push(T),d!==64){const Q=p<<4&240|d>>2;if(r.push(Q),S!==64){const q=d<<6&192|S;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jy=function(a){const n=zy(a);return od.encodeByteArray(n,!0)},ko=function(a){return jy(a).replace(/\./g,"")},Vf=function(a){try{return od.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function Rb(a){return Iy(void 0,a)}function Iy(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!Db(l)||(a[l]=Iy(a[l],n[l]));return a}function Db(a){return a!=="__proto__"}function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wb=()=>Mb().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof Mg>"u")return;const a=Mg.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},zb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&Vf(a[1]);return n&&JSON.parse(n)},Ly=()=>{try{return xb()||wb()||Ob()||zb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},jb=a=>Ly()?.emulatorHosts?.[a],Ib=a=>{const n=jb(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},Uy=()=>Ly()?.config;class au{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}function ud(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lb(a){return(await fetch(a,{credentials:"include"})).ok}function Ub(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[ko(JSON.stringify(l)),ko(JSON.stringify(h)),""].join(".")}const Zs={};function Bb(){const a={prod:[],emulator:[]};for(const n of Object.keys(Zs))Zs[n]?a.emulator.push(n):a.prod.push(n);return a}function Hb(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let wg=!1;function kb(a,n){if(typeof window>"u"||typeof document>"u"||!ud(window.location.host)||Zs[a]===n||Zs[a]||wg)return;Zs[a]=n;function l(T){return`__firebase__banner__${T}`}const r="__firebase__banner",f=Bb().prod.length>0;function h(){const T=document.getElementById(r);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function _(T,Q){T.setAttribute("width","24"),T.setAttribute("id",Q),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{wg=!0,h()},T}function x(T,Q){T.setAttribute("id",Q),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=Hb(r),Q=l("text"),q=document.getElementById(Q)||document.createElement("span"),ie=l("learnmore"),De=document.getElementById(ie)||document.createElement("a"),we=l("preprendIcon"),$e=document.getElementById(we)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Oe=T.element;p(Oe),x(De,ie);const dt=d();_($e,we),Oe.append($e,q,De,dt),document.body.appendChild(Oe)}f?(q.innerText="Preview backend disconnected.",$e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Vb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function By(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vb())}function qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gb(){return Oy.NODE_ADMIN===!0}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Qb(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{l=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(l){n(l)}})}const Fb="FirebaseError";class fr extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=Fb,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hy.prototype.create)}}class Hy{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?Xb(f,r):"Error",p=`${this.serviceName}: ${h} (${u}).`;return new fr(u,p,r)}}function Xb(a,n){return a.replace(Kb,(l,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const Kb=/\{\$([^}]+)}/g;function tr(a){return JSON.parse(a)}function Ot(a){return JSON.stringify(a)}const ky=function(a){let n={},l={},r={},u="";try{const f=a.split(".");n=tr(Vf(f[0])||""),l=tr(Vf(f[1])||""),u=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:u}},Zb=function(a){const n=ky(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},Pb=function(a){const n=ky(a).claims;return typeof n=="object"&&n.admin===!0};function Ai(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Va(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function Og(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function Vo(a,n,l){const r={};for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=n.call(l,a[u],u,a));return r}function qo(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const u of l){if(!r.includes(u))return!1;const f=a[u],h=n[u];if(zg(f)&&zg(h)){if(!qo(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!l.includes(u))return!1;return!0}function zg(a){return a!==null&&typeof a=="object"}function Wb(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}class Jb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let S=0;S<16;S++)r[S]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let S=0;S<16;S++)r[S]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let S=16;S<80;S++){const T=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],_=this.chain_[4],d,x;for(let S=0;S<80;S++){S<40?S<20?(d=p^f&(h^p),x=1518500249):(d=f^h^p,x=1859775393):S<60?(d=f&h|p&(f|h),x=2400959708):(d=f^h^p,x=3395469782);const T=(u<<5|u>>>27)+d+_+x+r[S]&4294967295;_=p,p=h,h=(f<<30|f>>>2)&4294967295,f=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<l;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<l;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<l;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function cd(a,n){return`${a} failed: ${n} argument `}const $b=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,X(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):u<65536?(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},su=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};function Fa(a){return a&&a._delegate?a._delegate:a}class nr{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ul="[DEFAULT]";class e1{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new au;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:l});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(n1(n))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Ul){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ul){return this.instances.has(n)}getOptions(n=Ul){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(u)}return u}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const u of r)try{u(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t1(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ul){return this.component?this.component.multipleInstances?n:Ul:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t1(a){return a===Ul?void 0:a}function n1(a){return a.instantiationMode==="EAGER"}class i1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new e1(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var We;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(We||(We={}));const l1={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},a1=We.INFO,s1={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},r1=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),u=s1[n];if(u)console[u](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Vy{constructor(n){this.name=n,this._logLevel=a1,this._logHandler=r1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in We))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?l1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...n),this._logHandler(this,We.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...n),this._logHandler(this,We.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,We.INFO,...n),this._logHandler(this,We.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,We.WARN,...n),this._logHandler(this,We.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...n),this._logHandler(this,We.ERROR,...n)}}const o1=(a,n)=>n.some(l=>a instanceof l);let jg,Ig;function u1(){return jg||(jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c1(){return Ig||(Ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,qf=new WeakMap,Gy=new WeakMap,xf=new WeakMap,fd=new WeakMap;function f1(a){const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(ll(a.result)),u()},h=()=>{r(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&qy.set(l,a)}).catch(()=>{}),fd.set(n,a),n}function d1(a){if(qf.has(a))return;const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),u()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});qf.set(a,n)}let Gf={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return qf.get(a);if(n==="objectStoreNames")return a.objectStoreNames||Gy.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ll(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function h1(a){Gf=a(Gf)}function m1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(Af(this),n,...l);return Gy.set(r,n.sort?n.sort():[n]),ll(r)}:c1().includes(a)?function(...n){return a.apply(Af(this),n),ll(qy.get(this))}:function(...n){return ll(a.apply(Af(this),n))}}function p1(a){return typeof a=="function"?m1(a):(a instanceof IDBTransaction&&d1(a),o1(a,u1())?new Proxy(a,Gf):a)}function ll(a){if(a instanceof IDBRequest)return f1(a);if(xf.has(a))return xf.get(a);const n=p1(a);return n!==a&&(xf.set(a,n),fd.set(n,a)),n}const Af=a=>fd.get(a);function g1(a,n,{blocked:l,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(a,n),p=ll(h);return r&&h.addEventListener("upgradeneeded",_=>{r(ll(h.result),_.oldVersion,_.newVersion,ll(h.transaction),_)}),l&&h.addEventListener("blocked",_=>l(_.oldVersion,_.newVersion,_)),p.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",d=>u(d.oldVersion,d.newVersion,d))}).catch(()=>{}),p}const y1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Nf=new Map;function Lg(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Nf.get(n))return Nf.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,u=_1.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(u||y1.includes(l)))return;const f=async function(h,...p){const _=this.transaction(h,u?"readwrite":"readonly");let d=_.store;return r&&(d=d.index(p.shift())),(await Promise.all([d[l](...p),u&&_.done]))[0]};return Nf.set(n,f),f}h1(a=>({...a,get:(n,l,r)=>Lg(n,l)||a.get(n,l,r),has:(n,l)=>!!Lg(n,l)||a.has(n,l)}));class v1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(b1(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function b1(a){return a.getComponent()?.type==="VERSION"}const Yf="@firebase/app",Ug="0.14.5";const Ei=new Vy("@firebase/app"),S1="@firebase/app-compat",C1="@firebase/analytics-compat",E1="@firebase/analytics",T1="@firebase/app-check-compat",x1="@firebase/app-check",A1="@firebase/auth",N1="@firebase/auth-compat",R1="@firebase/database",D1="@firebase/data-connect",M1="@firebase/database-compat",w1="@firebase/functions",O1="@firebase/functions-compat",z1="@firebase/installations",j1="@firebase/installations-compat",I1="@firebase/messaging",L1="@firebase/messaging-compat",U1="@firebase/performance",B1="@firebase/performance-compat",H1="@firebase/remote-config",k1="@firebase/remote-config-compat",V1="@firebase/storage",q1="@firebase/storage-compat",G1="@firebase/firestore",Y1="@firebase/ai",Q1="@firebase/firestore-compat",F1="firebase",X1="12.5.0";const Qf="[DEFAULT]",K1={[Yf]:"fire-core",[S1]:"fire-core-compat",[E1]:"fire-analytics",[C1]:"fire-analytics-compat",[x1]:"fire-app-check",[T1]:"fire-app-check-compat",[A1]:"fire-auth",[N1]:"fire-auth-compat",[R1]:"fire-rtdb",[D1]:"fire-data-connect",[M1]:"fire-rtdb-compat",[w1]:"fire-fn",[O1]:"fire-fn-compat",[z1]:"fire-iid",[j1]:"fire-iid-compat",[I1]:"fire-fcm",[L1]:"fire-fcm-compat",[U1]:"fire-perf",[B1]:"fire-perf-compat",[H1]:"fire-rc",[k1]:"fire-rc-compat",[V1]:"fire-gcs",[q1]:"fire-gcs-compat",[G1]:"fire-fst",[Q1]:"fire-fst-compat",[Y1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};const Go=new Map,Z1=new Map,Ff=new Map;function Bg(a,n){try{a.container.addComponent(n)}catch(l){Ei.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function Yo(a){const n=a.name;if(Ff.has(n))return Ei.debug(`There were multiple attempts to register component ${n}.`),!1;Ff.set(n,a);for(const l of Go.values())Bg(l,a);for(const l of Z1.values())Bg(l,a);return!0}function P1(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function W1(a){return a==null?!1:a.settings!==void 0}const J1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new Hy("app","Firebase",J1);class $1{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}const eS=X1;function Yy(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:Qf,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw al.create("bad-app-name",{appName:String(u)});if(l||(l=Uy()),!l)throw al.create("no-options");const f=Go.get(u);if(f){if(qo(l,f.options)&&qo(r,f.config))return f;throw al.create("duplicate-app",{appName:u})}const h=new i1(u);for(const _ of Ff.values())h.addComponent(_);const p=new $1(l,r,h);return Go.set(u,p),p}function tS(a=Qf){const n=Go.get(a);if(!n&&a===Qf&&Uy())return Yy();if(!n)throw al.create("no-app",{appName:a});return n}function Ua(a,n,l){let r=K1[a]??a;l&&(r+=`-${l}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${r}" with version "${n}":`];u&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ei.warn(h.join(" "));return}Yo(new nr(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}const nS="firebase-heartbeat-database",iS=1,ir="firebase-heartbeat-store";let Rf=null;function Qy(){return Rf||(Rf=g1(nS,iS,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(ir)}catch(l){console.warn(l)}}}}).catch(a=>{throw al.create("idb-open",{originalErrorMessage:a.message})})),Rf}async function lS(a){try{const l=(await Qy()).transaction(ir),r=await l.objectStore(ir).get(Fy(a));return await l.done,r}catch(n){if(n instanceof fr)Ei.warn(n.message);else{const l=al.create("idb-get",{originalErrorMessage:n?.message});Ei.warn(l.message)}}}async function Hg(a,n){try{const r=(await Qy()).transaction(ir,"readwrite");await r.objectStore(ir).put(n,Fy(a)),await r.done}catch(l){if(l instanceof fr)Ei.warn(l.message);else{const r=al.create("idb-set",{originalErrorMessage:l?.message});Ei.warn(r.message)}}}function Fy(a){return`${a.name}!${a.options.appId}`}const aS=1024,sS=30;class rS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new uS(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>sS){const u=cS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ei.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kg(),{heartbeatsToSend:l,unsentEntries:r}=oS(this._heartbeatsCache.heartbeats),u=ko(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ei.warn(n),""}}}function kg(){return new Date().toISOString().substring(0,10)}function oS(a,n=aS){const l=[];let r=a.slice();for(const u of a){const f=l.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),Vg(l)>n){f.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),Vg(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class uS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await lS(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Vg(a){return ko(JSON.stringify({version:2,heartbeats:a})).length}function cS(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}function fS(a){Yo(new nr("platform-logger",n=>new v1(n),"PRIVATE")),Yo(new nr("heartbeat",n=>new rS(n),"PRIVATE")),Ua(Yf,Ug,a),Ua(Yf,Ug,"esm2020"),Ua("fire-js","")}fS("");var dS="firebase",hS="12.5.0";Ua(dS,hS,"app");var qg={};const Gg="@firebase/database",Yg="1.1.0";let Xy="";function mS(a){Xy=a}class pS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Ot(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:tr(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class gS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return Ai(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Ky=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new pS(n)}}catch{}return new gS},kl=Ky("localStorage"),yS=Ky("sessionStorage");const Ba=new Vy("@firebase/database"),_S=(function(){let a=1;return function(){return a++}})(),Zy=function(a){const n=$b(a),l=new Jb;l.update(n);const r=l.digest();return od.encodeByteArray(r)},dr=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=dr.apply(null,r):typeof r=="object"?n+=Ot(r):n+=r,n+=" "}return n};let Ps=null,Qg=!0;const vS=function(a,n){X(!0,"Can't turn on custom loggers persistently."),Ba.logLevel=We.VERBOSE,Ps=Ba.log.bind(Ba)},Ft=function(...a){if(Qg===!0&&(Qg=!1,Ps===null&&yS.get("logging_enabled")===!0&&vS()),Ps){const n=dr.apply(null,a);Ps(n)}},hr=function(a){return function(...n){Ft(a,...n)}},Xf=function(...a){const n="FIREBASE INTERNAL ERROR: "+dr(...a);Ba.error(n)},Ti=function(...a){const n=`FIREBASE FATAL ERROR: ${dr(...a)}`;throw Ba.error(n),new Error(n)},rn=function(...a){const n="FIREBASE WARNING: "+dr(...a);Ba.warn(n)},bS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Py=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},SS=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},qa="[MIN_NAME]",ql="[MAX_NAME]",Xa=function(a,n){if(a===n)return 0;if(a===qa||n===ql)return-1;if(n===qa||a===ql)return 1;{const l=Fg(a),r=Fg(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},CS=function(a,n){return a===n?0:a<n?-1:1},Ys=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+Ot(n))},dd=function(a){if(typeof a!="object"||a===null)return Ot(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Ot(n[r]),l+=":",l+=dd(a[n[r]]);return l+="}",l},Wy=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let u=0;u<l;u+=n)u+n>l?r.push(a.substring(u,l)):r.push(a.substring(u,u+n));return r};function on(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Jy=function(a){X(!Py(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let u,f,h,p,_;a===0?(f=0,h=0,u=1/a===-1/0?1:0):(u=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=p+r,h=Math.round(a*Math.pow(2,l-p)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const d=[];for(_=l;_;_-=1)d.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)d.push(f%2?1:0),f=Math.floor(f/2);d.push(u?1:0),d.reverse();const x=d.join("");let S="";for(_=0;_<64;_+=8){let T=parseInt(x.substr(_,8),2).toString(16);T.length===1&&(T="0"+T),S=S+T}return S.toLowerCase()},ES=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xS(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const AS=new RegExp("^-?(0*)\\d{1,10}$"),NS=-2147483648,RS=2147483647,Fg=function(a){if(AS.test(a)){const n=Number(a);if(n>=NS&&n<=RS)return n}return null},Ka=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw rn("Exception was thrown by user callback.",l),n},Math.floor(0))}},DS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ws=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class MS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,W1(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){rn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wS{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rn(n)}}class Ho{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Ho.OWNER="owner";const hd="5",$y="v",e_="s",t_="r",n_="f",i_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,l_="ls",a_="p",Kf="ac",s_="websocket",r_="long_polling";class o_{constructor(n,l,r,u,f=!1,h="",p=!1,_=!1,d=null){this.secure=l,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=_,this.emulatorOptions=d,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&kl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function OS(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function u_(a,n,l){X(typeof n=="string","typeof type must == string"),X(typeof l=="object","typeof params must == object");let r;if(n===s_)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===r_)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);OS(a)&&(l.ns=a.namespace);const u=[];return on(l,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}class zS{constructor(){this.counters_={}}incrementCounter(n,l=1){Ai(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return Rb(this.counters_)}}const Df={},Mf={};function md(a){const n=a.toString();return Df[n]||(Df[n]=new zS),Df[n]}function jS(a,n){const l=a.toString();return Mf[l]||(Mf[l]=n()),Mf[l]}class IS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Ka(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Xg="start",LS="close",US="pLPCommand",BS="pRTLPCB",c_="id",f_="pw",d_="ser",HS="cb",kS="seg",VS="ts",qS="d",GS="dframe",h_=1870,m_=30,YS=h_-m_,QS=25e3,FS=3e4;class La{constructor(n,l,r,u,f,h,p){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hr(n),this.stats_=md(l),this.urlFn=_=>(this.appCheckToken&&(_[Kf]=this.appCheckToken),u_(l,r_,_))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new IS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FS)),SS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pd((...f)=>{const[h,p,_,d,x]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Xg)this.id=p,this.password=_;else if(h===LS)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xg]="t",r[d_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[HS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$y]=hd,this.transportSessionId&&(r[e_]=this.transportSessionId),this.lastSessionId&&(r[l_]=this.lastSessionId),this.applicationId&&(r[a_]=this.applicationId),this.appCheckToken&&(r[Kf]=this.appCheckToken),typeof location<"u"&&location.hostname&&i_.test(location.hostname)&&(r[t_]=n_);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){La.forceAllow_=!0}static forceDisallow(){La.forceDisallow_=!0}static isAvailable(){return La.forceAllow_?!0:!La.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ES()&&!TS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Ot(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=jy(l),u=Wy(r,YS);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[GS]="t",r[c_]=n,r[f_]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Ot(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class pd{constructor(n,l,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_S(),window[US+this.uniqueCallbackIdentifier]=n,window[BS+this.uniqueCallbackIdentifier]=l,this.myIFrame=pd.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){Ft("frame writing exception"),p.stack&&Ft(p.stack),Ft(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ft("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[c_]=this.myID,n[f_]=this.myPW,n[d_]=this.currentSerial;let l=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+m_+r.length<=h_;){const h=this.pendingSegs.shift();r=r+"&"+kS+u+"="+h.seg+"&"+VS+u+"="+h.ts+"&"+qS+u+"="+h.d,u++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},u=setTimeout(r,Math.floor(QS)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{Ft("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const XS=16384,KS=45e3;let Qo=null;typeof MozWebSocket<"u"?Qo=MozWebSocket:typeof WebSocket<"u"&&(Qo=WebSocket);class kn{constructor(n,l,r,u,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hr(this.connId),this.stats_=md(l),this.connURL=kn.connectionURL_(l,h,p,u,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,u,f){const h={};return h[$y]=hd,typeof location<"u"&&location.hostname&&i_.test(location.hostname)&&(h[t_]=n_),l&&(h[e_]=l),r&&(h[l_]=r),u&&(h[Kf]=u),f&&(h[a_]=f),u_(n,s_,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kl.set("previous_websocket_failure",!0);try{let r;Gb(),this.mySock=new Qo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){kn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Qo!==null&&!kn.forceDisallow_}static previouslyFailed(){return kl.isInMemoryStorage||kl.get("previous_websocket_failure")===!0}markConnectionHealthy(){kl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=tr(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(X(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Ot(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Wy(l,XS);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kn.responsesRequiredToBeHealthy=2;kn.healthyTimeout=3e4;class lr{static get ALL_TRANSPORTS(){return[La,kn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=kn&&kn.isAvailable();let r=l&&!kn.previouslyFailed();if(n.webSocketOnly&&(l||rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kn];else{const u=this.transports_=[];for(const f of lr.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);lr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lr.globalTransportInitialized_=!1;const ZS=6e4,PS=5e3,WS=10*1024,JS=100*1024,wf="t",Kg="d",$S="s",Zg="r",eC="e",Pg="o",Wg="a",Jg="n",$g="p",tC="h";class nC{constructor(n,l,r,u,f,h,p,_,d,x){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=_,this.onKill_=d,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hr("c:"+this.id+":"),this.transportManager_=new lr(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Ws(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(wf in n){const l=n[wf];l===Wg?this.upgradeIfSecondaryHealthy_():l===Zg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Pg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Ys("t",n),r=Ys("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$g,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Ys("t",n),r=Ys("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Ys(wf,n);if(Kg in n){const r=n[Kg];if(l===tC){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(l===Jg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===$S?this.onConnectionShutdown_(r):l===Zg?this.onReset_(r):l===eC?Xf("Server Error: "+r):l===Pg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),hd!==r&&rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Ws(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ZS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ws(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$g,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class p_{put(n,l,r,u){}merge(n,l,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}class g_{constructor(n){this.allowedEvents_=n,this.listeners_={},X(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const u=this.getInitialEvent(n);u&&l.apply(r,u)}off(n,l,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===l&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){X(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Fo extends g_{static getInstance(){return new Fo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!By()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return X(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const ey=32,ty=768;class Pe{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function Ue(){return new Pe("")}function be(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function rl(a){return a.pieces_.length-a.pieceNum_}function Je(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Pe(a.pieces_,n)}function y_(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function iC(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function __(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function v_(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Pe(n,0)}function Et(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Pe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&l.push(r[u])}return new Pe(l,0)}function Te(a){return a.pieceNum_>=a.pieces_.length}function an(a,n){const l=be(a),r=be(n);if(l===null)return n;if(l===r)return an(Je(a),Je(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function gd(a,n){if(rl(a)!==rl(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function Vn(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(rl(a)>rl(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class lC{constructor(n,l){this.errorPrefix_=l,this.parts_=__(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=su(this.parts_[r]);b_(this)}}function aC(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=su(n),b_(a)}function sC(a){const n=a.parts_.pop();a.byteLength_-=su(n),a.parts_.length>0&&(a.byteLength_-=1)}function b_(a){if(a.byteLength_>ty)throw new Error(a.errorPrefix_+"has a key path longer than "+ty+" bytes ("+a.byteLength_+").");if(a.parts_.length>ey)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ey+") or object contains a cycle "+Bl(a))}function Bl(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class yd extends g_{static getInstance(){return new yd}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return X(n==="visible","Unknown event type: "+n),[this.visible_]}}const Qs=1e3,rC=300*1e3,ny=30*1e3,oC=1.3,uC=3e4,cC="server_kill",iy=3;class Ci extends p_{constructor(n,l,r,u,f,h,p,_){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=Ci.nextPersistentConnectionId_++,this.log_=hr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qs,this.maxReconnectDelay_=rC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Fo.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const u=++this.requestNumber_,f={r:u,a:n,b:l};this.log_(Ot(f)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const l=new au,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?l.resolve(p):l.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),X(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),u=l._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const _=p.d,d=p.s;Ci.warnOnListenWarnings_(_,l),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",p),d!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(d,_))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&Ai(n,"w")){const r=Va(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Pb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ny)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=Zb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),X(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,l)}sendUnlisten_(n,l,r,u){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,u){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,l,r,u){this.putInternal("p",n,l,r,u)}merge(n,l,r,u){this.putInternal("m",n,l,r,u)}putInternal(n,l,r,u,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ot(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Xf("Unrecognized action received from server: "+Ot(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uC&&(this.reconnectDelay_=Qs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Ci.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const _=function(){p?p.close():(h=!0,r())},d=function(S){X(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(S)};this.realtime_={close:_,sendRequest:d};const x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,T]=await Promise.all([this.authTokenProvider_.getToken(x),this.appCheckTokenProvider_.getToken(x)]);h?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=T&&T.token,p=new nC(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,Q=>{rn(Q+" ("+this.repoInfo_.toString()+")"),this.interrupt(cC)},f))}catch(S){this.log_("Failed to get token: "+S),h||(this.repoInfo_.nodeAdmin&&rn(S),_())}}}interrupt(n){Ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Og(this.interruptReasons_)&&(this.reconnectDelay_=Qs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>dd(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,l){const r=new Pe(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,l){Ft("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iy&&(this.reconnectDelay_=ny,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){Ft("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+Xy.replace(/\./g,"-")]=1,By()?n["framework.cordova"]=1:qb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Fo.getInstance().currentlyOnline();return Og(this.interruptReasons_)&&n}}Ci.nextPersistentConnectionId_=0;Ci.nextConnectionId_=0;class Se{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new Se(n,l)}}class ru{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new Se(qa,n),u=new Se(qa,l);return this.compare(r,u)!==0}minPost(){return Se.MIN}}let Lo;class S_ extends ru{static get __EMPTY_NODE(){return Lo}static set __EMPTY_NODE(n){Lo=n}compare(n,l){return Xa(n.name,l.name)}isDefinedOn(n){throw Qa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return Se.MIN}maxPost(){return new Se(ql,Lo)}makePost(n,l){return X(typeof n=="string","KeyIndex indexValue must always be a string."),new Se(n,Lo)}toString(){return".key"}}const Ha=new S_;class Uo{constructor(n,l,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class wt{constructor(n,l,r,u,f){this.key=n,this.value=l,this.color=r??wt.RED,this.left=u??sn.EMPTY_NODE,this.right=f??sn.EMPTY_NODE}copy(n,l,r,u,f){return new wt(n??this.key,l??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,l,r),null):f===0?u=u.copy(null,l,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,l,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return sn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,u;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return sn.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}wt.RED=!0;wt.BLACK=!1;class fC{copy(n,l,r,u,f){return this}insert(n,l,r){return new wt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sn{constructor(n,l=sn.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new sn(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(n){return new sn(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,u=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Uo(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Uo(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Uo(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Uo(this.root_,null,this.comparator_,!0,n)}}sn.EMPTY_NODE=new fC;function dC(a,n){return Xa(a.name,n.name)}function _d(a,n){return Xa(a,n)}let Zf;function hC(a){Zf=a}const C_=function(a){return typeof a=="number"?"number:"+Jy(a):"string:"+a},E_=function(a){if(a.isLeafNode()){const n=a.val();X(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Ai(n,".sv"),"Priority must be a string or number.")}else X(a===Zf||a.isEmpty(),"priority of unexpected type.");X(a===Zf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ly;class Mt{static set __childrenNodeConstructor(n){ly=n}static get __childrenNodeConstructor(){return ly}constructor(n,l=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),E_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Mt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Te(n)?this:be(n)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=be(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(X(r!==".priority"||rl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Je(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+C_(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Jy(this.value_):n+=this.value_,this.lazyHash_=Zy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Mt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Mt.__childrenNodeConstructor?-1:(X(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,u=Mt.VALUE_TYPE_ORDER.indexOf(l),f=Mt.VALUE_TYPE_ORDER.indexOf(r);return X(u>=0,"Unknown leaf type: "+l),X(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let T_,x_;function mC(a){T_=a}function pC(a){x_=a}class gC extends ru{compare(n,l){const r=n.node.getPriority(),u=l.node.getPriority(),f=r.compareTo(u);return f===0?Xa(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(ql,new Mt("[PRIORITY-POST]",x_))}makePost(n,l){const r=T_(n);return new Se(l,new Mt("[PRIORITY-POST]",r))}toString(){return".priority"}}const ut=new gC;const yC=Math.log(2);class _C{constructor(n){const l=f=>parseInt(Math.log(f)/yC,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Xo=function(a,n,l,r){a.sort(n);const u=function(_,d){const x=d-_;let S,T;if(x===0)return null;if(x===1)return S=a[_],T=l?l(S):S,new wt(T,S.node,wt.BLACK,null,null);{const Q=parseInt(x/2,10)+_,q=u(_,Q),ie=u(Q+1,d);return S=a[Q],T=l?l(S):S,new wt(T,S.node,wt.BLACK,q,ie)}},f=function(_){let d=null,x=null,S=a.length;const T=function(q,ie){const De=S-q,we=S;S-=q;const $e=u(De+1,we),Oe=a[De],dt=l?l(Oe):Oe;Q(new wt(dt,Oe.node,ie,null,$e))},Q=function(q){d?(d.left=q,d=q):(x=q,d=q)};for(let q=0;q<_.count;++q){const ie=_.nextBitIsOne(),De=Math.pow(2,_.count-(q+1));ie?T(De,wt.BLACK):(T(De,wt.BLACK),T(De,wt.RED))}return x},h=new _C(a.length),p=f(h);return new sn(r||n,p)};let Of;const ja={};class Si{static get Default(){return X(ja&&ut,"ChildrenNode.ts has not been loaded"),Of=Of||new Si({".priority":ja},{".priority":ut}),Of}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Va(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof sn?l:null}hasIndex(n){return Ai(this.indexSet_,n.toString())}addIndex(n,l){X(n!==Ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=l.getIterator(Se.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;u?p=Xo(r,n.getCompare()):p=ja;const _=n.toString(),d={...this.indexSet_};d[_]=n;const x={...this.indexes_};return x[_]=p,new Si(x,d)}addToIndexes(n,l){const r=Vo(this.indexes_,(u,f)=>{const h=Va(this.indexSet_,f);if(X(h,"Missing index implementation for "+f),u===ja)if(h.isDefinedOn(n.node)){const p=[],_=l.getIterator(Se.Wrap);let d=_.getNext();for(;d;)d.name!==n.name&&p.push(d),d=_.getNext();return p.push(n),Xo(p,h.getCompare())}else return ja;else{const p=l.get(n.name);let _=u;return p&&(_=_.remove(new Se(n.name,p))),_.insert(n,n.node)}});return new Si(r,this.indexSet_)}removeFromIndexes(n,l){const r=Vo(this.indexes_,u=>{if(u===ja)return u;{const f=l.get(n.name);return f?u.remove(new Se(n.name,f)):u}});return new Si(r,this.indexSet_)}}let Fs;class ue{static get EMPTY_NODE(){return Fs||(Fs=new ue(new sn(_d),null,Si.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&E_(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fs}updatePriority(n){return this.children_.isEmpty()?this:new ue(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Fs:l}}getChild(n){const l=be(n);return l===null?this:this.getImmediateChild(l).getChild(Je(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(X(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new Se(n,l);let u,f;l.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Fs:this.priorityNode_;return new ue(u,h,f)}}updateChild(n,l){const r=be(n);if(r===null)return l;{X(be(n)!==".priority"||rl(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Je(n),l);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,u=0,f=!0;if(this.forEachChild(ut,(h,p)=>{l[h]=p.val(n),r++,f&&ue.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const p in l)h[p]=l[p];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+C_(this.getPriority().val())+":"),this.forEachChild(ut,(l,r)=>{const u=r.hash();u!==""&&(n+=":"+l+":"+u)}),this.lazyHash_=n===""?"":Zy(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new Se(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new Se(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new Se(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>l(u.name,u.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,Se.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,Se.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===mr?-1:0}withIndex(n){if(n===Ha||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new ue(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Ha||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(ut),u=l.getIterator(ut);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Ha?null:this.indexMap_.get(n.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vC extends ue{constructor(){super(new sn(_d),ue.EMPTY_NODE,Si.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ue.EMPTY_NODE}isEmpty(){return!1}}const mr=new vC;Object.defineProperties(Se,{MIN:{value:new Se(qa,ue.EMPTY_NODE)},MAX:{value:new Se(ql,mr)}});S_.__EMPTY_NODE=ue.EMPTY_NODE;Mt.__childrenNodeConstructor=ue;hC(mr);pC(mr);const bC=!0;function qt(a,n=null){if(a===null)return ue.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),X(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new Mt(l,qt(n))}if(!(a instanceof Array)&&bC){const l=[];let r=!1;if(on(a,(h,p)=>{if(h.substring(0,1)!=="."){const _=qt(p);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),l.push(new Se(h,_)))}}),l.length===0)return ue.EMPTY_NODE;const f=Xo(l,dC,h=>h.name,_d);if(r){const h=Xo(l,ut.getCompare());return new ue(f,qt(n),new Si({".priority":h},{".priority":ut}))}else return new ue(f,qt(n),Si.Default)}else{let l=ue.EMPTY_NODE;return on(a,(r,u)=>{if(Ai(a,r)&&r.substring(0,1)!=="."){const f=qt(u);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(qt(n))}}mC(qt);class SC extends ru{constructor(n){super(),this.indexPath_=n,X(!Te(n)&&be(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),u=this.extractChild(l.node),f=r.compareTo(u);return f===0?Xa(n.name,l.name):f}makePost(n,l){const r=qt(n),u=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new Se(l,u)}maxPost(){const n=ue.EMPTY_NODE.updateChild(this.indexPath_,mr);return new Se(ql,n)}toString(){return __(this.indexPath_,0).join("/")}}class CC extends ru{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Xa(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(n,l){const r=qt(n);return new Se(l,r)}toString(){return".value"}}const EC=new CC;function A_(a){return{type:"value",snapshotNode:a}}function Ga(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ar(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function sr(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function TC(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class vd{constructor(n){this.index_=n}updateChild(n,l,r,u,f,h){X(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(l);return p.getChild(u).equals(r.getChild(u))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(ar(l,p)):X(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(Ga(l,r)):h.trackChildChange(sr(l,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(ut,(u,f)=>{l.hasChild(u)||r.trackChildChange(ar(u,f))}),l.isLeafNode()||l.forEachChild(ut,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(sr(u,f,h))}else r.trackChildChange(Ga(u,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?ue.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rr{constructor(n){this.indexedFilter_=new vd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=rr.getStartPost_(n),this.endPost_=rr.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,u,f,h){return this.matches(new Se(l,r))||(r=ue.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,u,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=ue.EMPTY_NODE);let u=l.withIndex(this.index_);u=u.updatePriority(ue.EMPTY_NODE);const f=this;return l.forEachChild(ut,(h,p)=>{f.matches(new Se(h,p))||(u=u.updateImmediateChild(h,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class xC{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new rr(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,u,f,h){return this.rangedFilter_.matches(new Se(l,r))||(r=ue.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,u,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let u;if(l.isLeafNode()||l.isEmpty())u=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){u=ue.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))u=u.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{u=l.withIndex(this.index_),u=u.updatePriority(ue.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:u=u.updateImmediateChild(p.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,u,f){let h;if(this.reverse_){const S=this.index_.getCompare();h=(T,Q)=>S(Q,T)}else h=this.index_.getCompare();const p=n;X(p.numChildren()===this.limit_,"");const _=new Se(l,r),d=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),x=this.rangedFilter_.matches(_);if(p.hasChild(l)){const S=p.getImmediateChild(l);let T=u.getChildAfterChild(this.index_,d,this.reverse_);for(;T!=null&&(T.name===l||p.hasChild(T.name));)T=u.getChildAfterChild(this.index_,T,this.reverse_);const Q=T==null?1:h(T,_);if(x&&!r.isEmpty()&&Q>=0)return f?.trackChildChange(sr(l,r,S)),p.updateImmediateChild(l,r);{f?.trackChildChange(ar(l,S));const ie=p.updateImmediateChild(l,ue.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(f?.trackChildChange(Ga(T.name,T.node)),ie.updateImmediateChild(T.name,T.node)):ie}}else return r.isEmpty()?n:x&&h(d,_)>=0?(f!=null&&(f.trackChildChange(ar(d.name,d.node)),f.trackChildChange(Ga(l,r))),p.updateImmediateChild(l,r).updateImmediateChild(d.name,ue.EMPTY_NODE)):n}}class bd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qa}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ql}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ut}copy(){const n=new bd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function AC(a){return a.loadsAllData()?new vd(a.getIndex()):a.hasLimit()?new xC(a):new rr(a)}function ay(a){const n={};if(a.isDefault())return n;let l;if(a.index_===ut?l="$priority":a.index_===EC?l="$value":a.index_===Ha?l="$key":(X(a.index_ instanceof SC,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=Ot(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=Ot(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+Ot(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=Ot(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+Ot(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function sy(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==ut&&(n.i=a.index_.toString()),n}class Ko extends p_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(X(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=hr("p:rest:"),this.listens_={}}listen(n,l,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Ko.getListenId_(n,r),p={};this.listens_[h]=p;const _=ay(n._queryParams);this.restRequest_(f+".json",_,(d,x)=>{let S=x;if(d===404&&(S=null,d=null),d===null&&this.onDataUpdate_(f,S,!1,r),Va(this.listens_,h)===p){let T;d?d===401?T="permission_denied":T="rest_error:"+d:T="ok",u(T,null)}})}unlisten(n,l){const r=Ko.getListenId_(n,l);delete this.listens_[r]}get(n){const l=ay(n._queryParams),r=n._path.toString(),u=new au;return this.restRequest_(r+".json",l,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(l.auth=u.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Wb(l);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=tr(p.responseText)}catch{rn("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,_)}else p.status!==401&&p.status!==404&&rn("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}class NC{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function Zo(){return{value:null,children:new Map}}function N_(a,n,l){if(Te(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=be(n);a.children.has(r)||a.children.set(r,Zo());const u=a.children.get(r);n=Je(n),N_(u,n,l)}}function Pf(a,n,l){a.value!==null?l(n,a.value):RC(a,(r,u)=>{const f=new Pe(n.toString()+"/"+r);Pf(u,f,l)})}function RC(a,n){a.children.forEach((l,r)=>{n(r,l)})}class DC{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&on(this.last_,(r,u)=>{l[r]=l[r]-u}),this.last_=n,l}}const ry=10*1e3,MC=30*1e3,wC=300*1e3;class OC{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new DC(n);const r=ry+(MC-ry)*Math.random();Ws(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;on(n,(u,f)=>{f>0&&Ai(this.statsToReport_,u)&&(l[u]=f,r=!0)}),r&&this.server_.reportStats(l),Ws(this.reportStats_.bind(this),Math.floor(Math.random()*2*wC))}}var qn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qn||(qn={}));function R_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cd(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Po{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=qn.ACK_USER_WRITE,this.source=R_()}operationForChild(n){if(Te(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Pe(n));return new Po(Ue(),l,this.revert)}}else return X(be(this.path)===n,"operationForChild called for unrelated child."),new Po(Je(this.path),this.affectedTree,this.revert)}}class or{constructor(n,l){this.source=n,this.path=l,this.type=qn.LISTEN_COMPLETE}operationForChild(n){return Te(this.path)?new or(this.source,Ue()):new or(this.source,Je(this.path))}}class Gl{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=qn.OVERWRITE}operationForChild(n){return Te(this.path)?new Gl(this.source,Ue(),this.snap.getImmediateChild(n)):new Gl(this.source,Je(this.path),this.snap)}}class ur{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=qn.MERGE}operationForChild(n){if(Te(this.path)){const l=this.children.subtree(new Pe(n));return l.isEmpty()?null:l.value?new Gl(this.source,Ue(),l.value):new ur(this.source,Ue(),l)}else return X(be(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ur(this.source,Je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yl{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Te(n))return this.isFullyInitialized()&&!this.filtered_;const l=be(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class zC{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function jC(a,n,l,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(TC(h.childName,h.snapshotNode))}),Xs(a,u,"child_removed",n,r,l),Xs(a,u,"child_added",n,r,l),Xs(a,u,"child_moved",f,r,l),Xs(a,u,"child_changed",n,r,l),Xs(a,u,"value",n,r,l),u}function Xs(a,n,l,r,u,f){const h=r.filter(p=>p.type===l);h.sort((p,_)=>LC(a,p,_)),h.forEach(p=>{const _=IC(a,p,f);u.forEach(d=>{d.respondsTo(p.type)&&n.push(d.createEvent(_,a.query_))})})}function IC(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function LC(a,n,l){if(n.childName==null||l.childName==null)throw Qa("Should only compare child_ events.");const r=new Se(n.childName,n.snapshotNode),u=new Se(l.childName,l.snapshotNode);return a.index_.compare(r,u)}function ou(a,n){return{eventCache:a,serverCache:n}}function Js(a,n,l,r){return ou(new Yl(n,l,r),a.serverCache)}function D_(a,n,l,r){return ou(a.eventCache,new Yl(n,l,r))}function Wf(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Ql(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let zf;const UC=()=>(zf||(zf=new sn(CS)),zf);class it{static fromObject(n){let l=new it(null);return on(n,(r,u)=>{l=l.set(new Pe(r),u)}),l}constructor(n,l=UC()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:Ue(),value:this.value};if(Te(n))return null;{const r=be(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Je(n),l);return f!=null?{path:Et(new Pe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Te(n))return this;{const l=be(n),r=this.children.get(l);return r!==null?r.subtree(Je(n)):new it(null)}}set(n,l){if(Te(n))return new it(l,this.children);{const r=be(n),f=(this.children.get(r)||new it(null)).set(Je(n),l),h=this.children.insert(r,f);return new it(this.value,h)}}remove(n){if(Te(n))return this.children.isEmpty()?new it(null):new it(null,this.children);{const l=be(n),r=this.children.get(l);if(r){const u=r.remove(Je(n));let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),this.value===null&&f.isEmpty()?new it(null):new it(this.value,f)}else return this}}get(n){if(Te(n))return this.value;{const l=be(n),r=this.children.get(l);return r?r.get(Je(n)):null}}setTree(n,l){if(Te(n))return l;{const r=be(n),f=(this.children.get(r)||new it(null)).setTree(Je(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new it(this.value,h)}}fold(n){return this.fold_(Ue(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Et(n,u),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,Ue(),l)}findOnPath_(n,l,r){const u=this.value?r(l,this.value):!1;if(u)return u;if(Te(n))return null;{const f=be(n),h=this.children.get(f);return h?h.findOnPath_(Je(n),Et(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,Ue(),l)}foreachOnPath_(n,l,r){if(Te(n))return this;{this.value&&r(l,this.value);const u=be(n),f=this.children.get(u);return f?f.foreachOnPath_(Je(n),Et(l,u),r):new it(null)}}foreach(n){this.foreach_(Ue(),n)}foreach_(n,l){this.children.inorderTraversal((r,u)=>{u.foreach_(Et(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}class Gn{constructor(n){this.writeTree_=n}static empty(){return new Gn(new it(null))}}function $s(a,n,l){if(Te(n))return new Gn(new it(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=an(u,n);return f=f.updateChild(h,l),new Gn(a.writeTree_.set(u,f))}else{const u=new it(l),f=a.writeTree_.setTree(n,u);return new Gn(f)}}}function oy(a,n,l){let r=a;return on(l,(u,f)=>{r=$s(r,Et(n,u),f)}),r}function uy(a,n){if(Te(n))return Gn.empty();{const l=a.writeTree_.setTree(n,new it(null));return new Gn(l)}}function Jf(a,n){return Fl(a,n)!=null}function Fl(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(an(l.path,n)):null}function cy(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(ut,(r,u)=>{n.push(new Se(r,u))}):a.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new Se(r,u.value))}),n}function sl(a,n){if(Te(n))return a;{const l=Fl(a,n);return l!=null?new Gn(new it(l)):new Gn(a.writeTree_.subtree(n))}}function $f(a){return a.writeTree_.isEmpty()}function Ya(a,n){return M_(Ue(),a.writeTree_,n)}function M_(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(X(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=M_(Et(a,u),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(Et(a,".priority"),r)),l}}function Ed(a,n){return j_(n,a)}function BC(a,n,l,r,u){X(r>a.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:u}),u&&(a.visibleWrites=$s(a.visibleWrites,n,l)),a.lastWriteId=r}function HC(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function kC(a,n){const l=a.allWrites.findIndex(p=>p.writeId===n);X(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let u=r.visible,f=!1,h=a.allWrites.length-1;for(;u&&h>=0;){const p=a.allWrites[h];p.visible&&(h>=l&&VC(p,r.path)?u=!1:Vn(r.path,p.path)&&(f=!0)),h--}if(u){if(f)return qC(a),!0;if(r.snap)a.visibleWrites=uy(a.visibleWrites,r.path);else{const p=r.children;on(p,_=>{a.visibleWrites=uy(a.visibleWrites,Et(r.path,_))})}return!0}else return!1}function VC(a,n){if(a.snap)return Vn(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Vn(Et(a.path,l),n))return!0;return!1}function qC(a){a.visibleWrites=w_(a.allWrites,GC,Ue()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function GC(a){return a.visible}function w_(a,n,l){let r=Gn.empty();for(let u=0;u<a.length;++u){const f=a[u];if(n(f)){const h=f.path;let p;if(f.snap)Vn(l,h)?(p=an(l,h),r=$s(r,p,f.snap)):Vn(h,l)&&(p=an(h,l),r=$s(r,Ue(),f.snap.getChild(p)));else if(f.children){if(Vn(l,h))p=an(l,h),r=oy(r,p,f.children);else if(Vn(h,l))if(p=an(h,l),Te(p))r=oy(r,Ue(),f.children);else{const _=Va(f.children,be(p));if(_){const d=_.getChild(Je(p));r=$s(r,Ue(),d)}}}else throw Qa("WriteRecord should have .snap or .children")}}return r}function O_(a,n,l,r,u){if(!r&&!u){const f=Fl(a.visibleWrites,n);if(f!=null)return f;{const h=sl(a.visibleWrites,n);if($f(h))return l;if(l==null&&!Jf(h,Ue()))return null;{const p=l||ue.EMPTY_NODE;return Ya(h,p)}}}else{const f=sl(a.visibleWrites,n);if(!u&&$f(f))return l;if(!u&&l==null&&!Jf(f,Ue()))return null;{const h=function(d){return(d.visible||u)&&(!r||!~r.indexOf(d.writeId))&&(Vn(d.path,n)||Vn(n,d.path))},p=w_(a.allWrites,h,n),_=l||ue.EMPTY_NODE;return Ya(p,_)}}}function YC(a,n,l){let r=ue.EMPTY_NODE;const u=Fl(a.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(ut,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=sl(a.visibleWrites,n);return l.forEachChild(ut,(h,p)=>{const _=Ya(sl(f,new Pe(h)),p);r=r.updateImmediateChild(h,_)}),cy(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=sl(a.visibleWrites,n);return cy(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function QC(a,n,l,r,u){X(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Et(n,l);if(Jf(a.visibleWrites,f))return null;{const h=sl(a.visibleWrites,f);return $f(h)?u.getChild(l):Ya(h,u.getChild(l))}}function FC(a,n,l,r){const u=Et(n,l),f=Fl(a.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=sl(a.visibleWrites,u);return Ya(h,r.getNode().getImmediateChild(l))}else return null}function XC(a,n){return Fl(a.visibleWrites,n)}function KC(a,n,l,r,u,f,h){let p;const _=sl(a.visibleWrites,n),d=Fl(_,Ue());if(d!=null)p=d;else if(l!=null)p=Ya(_,l);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const x=[],S=h.getCompare(),T=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let Q=T.getNext();for(;Q&&x.length<u;)S(Q,r)!==0&&x.push(Q),Q=T.getNext();return x}else return[]}function ZC(){return{visibleWrites:Gn.empty(),allWrites:[],lastWriteId:-1}}function Wo(a,n,l,r){return O_(a.writeTree,a.treePath,n,l,r)}function Td(a,n){return YC(a.writeTree,a.treePath,n)}function fy(a,n,l,r){return QC(a.writeTree,a.treePath,n,l,r)}function Jo(a,n){return XC(a.writeTree,Et(a.treePath,n))}function PC(a,n,l,r,u,f){return KC(a.writeTree,a.treePath,n,l,r,u,f)}function xd(a,n,l){return FC(a.writeTree,a.treePath,n,l)}function z_(a,n){return j_(Et(a.treePath,n),a.writeTree)}function j_(a,n){return{treePath:a,writeTree:n}}class WC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;X(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),X(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,sr(r,n.snapshotNode,u.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,ar(r,u.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Ga(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,sr(r,n.snapshotNode,u.oldSnap));else throw Qa("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}class JC{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const I_=new JC;class Ad{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new Yl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xd(this.writes_,n,r)}}getChildAfterChild(n,l,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ql(this.viewCache_),f=PC(this.writes_,u,l,1,r,n);return f.length===0?null:f[0]}}function $C(a){return{filter:a}}function eE(a,n){X(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),X(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function tE(a,n,l,r,u){const f=new WC;let h,p;if(l.type===qn.OVERWRITE){const d=l;d.source.fromUser?h=ed(a,n,d.path,d.snap,r,u,f):(X(d.source.fromServer,"Unknown source."),p=d.source.tagged||n.serverCache.isFiltered()&&!Te(d.path),h=$o(a,n,d.path,d.snap,r,u,p,f))}else if(l.type===qn.MERGE){const d=l;d.source.fromUser?h=iE(a,n,d.path,d.children,r,u,f):(X(d.source.fromServer,"Unknown source."),p=d.source.tagged||n.serverCache.isFiltered(),h=td(a,n,d.path,d.children,r,u,p,f))}else if(l.type===qn.ACK_USER_WRITE){const d=l;d.revert?h=sE(a,n,d.path,r,u,f):h=lE(a,n,d.path,d.affectedTree,r,u,f)}else if(l.type===qn.LISTEN_COMPLETE)h=aE(a,n,l.path,r,f);else throw Qa("Unknown operation type: "+l.type);const _=f.getChanges();return nE(n,h,_),{viewCache:h,changes:_}}function nE(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Wf(a);(l.length>0||!a.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(A_(Wf(n)))}}function L_(a,n,l,r,u,f){const h=n.eventCache;if(Jo(r,l)!=null)return n;{let p,_;if(Te(l))if(X(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const d=Ql(n),x=d instanceof ue?d:ue.EMPTY_NODE,S=Td(r,x);p=a.filter.updateFullNode(n.eventCache.getNode(),S,f)}else{const d=Wo(r,Ql(n));p=a.filter.updateFullNode(n.eventCache.getNode(),d,f)}else{const d=be(l);if(d===".priority"){X(rl(l)===1,"Can't have a priority with additional path components");const x=h.getNode();_=n.serverCache.getNode();const S=fy(r,l,x,_);S!=null?p=a.filter.updatePriority(x,S):p=h.getNode()}else{const x=Je(l);let S;if(h.isCompleteForChild(d)){_=n.serverCache.getNode();const T=fy(r,l,h.getNode(),_);T!=null?S=h.getNode().getImmediateChild(d).updateChild(x,T):S=h.getNode().getImmediateChild(d)}else S=xd(r,d,n.serverCache);S!=null?p=a.filter.updateChild(h.getNode(),d,S,x,u,f):p=h.getNode()}}return Js(n,p,h.isFullyInitialized()||Te(l),a.filter.filtersNodes())}}function $o(a,n,l,r,u,f,h,p){const _=n.serverCache;let d;const x=h?a.filter:a.filter.getIndexedFilter();if(Te(l))d=x.updateFullNode(_.getNode(),r,null);else if(x.filtersNodes()&&!_.isFiltered()){const Q=_.getNode().updateChild(l,r);d=x.updateFullNode(_.getNode(),Q,null)}else{const Q=be(l);if(!_.isCompleteForPath(l)&&rl(l)>1)return n;const q=Je(l),De=_.getNode().getImmediateChild(Q).updateChild(q,r);Q===".priority"?d=x.updatePriority(_.getNode(),De):d=x.updateChild(_.getNode(),Q,De,q,I_,null)}const S=D_(n,d,_.isFullyInitialized()||Te(l),x.filtersNodes()),T=new Ad(u,S,f);return L_(a,S,l,u,T,p)}function ed(a,n,l,r,u,f,h){const p=n.eventCache;let _,d;const x=new Ad(u,n,f);if(Te(l))d=a.filter.updateFullNode(n.eventCache.getNode(),r,h),_=Js(n,d,!0,a.filter.filtersNodes());else{const S=be(l);if(S===".priority")d=a.filter.updatePriority(n.eventCache.getNode(),r),_=Js(n,d,p.isFullyInitialized(),p.isFiltered());else{const T=Je(l),Q=p.getNode().getImmediateChild(S);let q;if(Te(T))q=r;else{const ie=x.getCompleteChild(S);ie!=null?y_(T)===".priority"&&ie.getChild(v_(T)).isEmpty()?q=ie:q=ie.updateChild(T,r):q=ue.EMPTY_NODE}if(Q.equals(q))_=n;else{const ie=a.filter.updateChild(p.getNode(),S,q,T,x,h);_=Js(n,ie,p.isFullyInitialized(),a.filter.filtersNodes())}}}return _}function dy(a,n){return a.eventCache.isCompleteForChild(n)}function iE(a,n,l,r,u,f,h){let p=n;return r.foreach((_,d)=>{const x=Et(l,_);dy(n,be(x))&&(p=ed(a,p,x,d,u,f,h))}),r.foreach((_,d)=>{const x=Et(l,_);dy(n,be(x))||(p=ed(a,p,x,d,u,f,h))}),p}function hy(a,n,l){return l.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function td(a,n,l,r,u,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,d;Te(l)?d=r:d=new it(null).setTree(l,r);const x=n.serverCache.getNode();return d.children.inorderTraversal((S,T)=>{if(x.hasChild(S)){const Q=n.serverCache.getNode().getImmediateChild(S),q=hy(a,Q,T);_=$o(a,_,new Pe(S),q,u,f,h,p)}}),d.children.inorderTraversal((S,T)=>{const Q=!n.serverCache.isCompleteForChild(S)&&T.value===null;if(!x.hasChild(S)&&!Q){const q=n.serverCache.getNode().getImmediateChild(S),ie=hy(a,q,T);_=$o(a,_,new Pe(S),ie,u,f,h,p)}}),_}function lE(a,n,l,r,u,f,h){if(Jo(u,l)!=null)return n;const p=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(Te(l)&&_.isFullyInitialized()||_.isCompleteForPath(l))return $o(a,n,l,_.getNode().getChild(l),u,f,p,h);if(Te(l)){let d=new it(null);return _.getNode().forEachChild(Ha,(x,S)=>{d=d.set(new Pe(x),S)}),td(a,n,l,d,u,f,p,h)}else return n}else{let d=new it(null);return r.foreach((x,S)=>{const T=Et(l,x);_.isCompleteForPath(T)&&(d=d.set(x,_.getNode().getChild(T)))}),td(a,n,l,d,u,f,p,h)}}function aE(a,n,l,r,u){const f=n.serverCache,h=D_(n,f.getNode(),f.isFullyInitialized()||Te(l),f.isFiltered());return L_(a,h,l,r,I_,u)}function sE(a,n,l,r,u,f){let h;if(Jo(r,l)!=null)return n;{const p=new Ad(r,n,u),_=n.eventCache.getNode();let d;if(Te(l)||be(l)===".priority"){let x;if(n.serverCache.isFullyInitialized())x=Wo(r,Ql(n));else{const S=n.serverCache.getNode();X(S instanceof ue,"serverChildren would be complete if leaf node"),x=Td(r,S)}x=x,d=a.filter.updateFullNode(_,x,f)}else{const x=be(l);let S=xd(r,x,n.serverCache);S==null&&n.serverCache.isCompleteForChild(x)&&(S=_.getImmediateChild(x)),S!=null?d=a.filter.updateChild(_,x,S,Je(l),p,f):n.eventCache.getNode().hasChild(x)?d=a.filter.updateChild(_,x,ue.EMPTY_NODE,Je(l),p,f):d=_,d.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Wo(r,Ql(n)),h.isLeafNode()&&(d=a.filter.updateFullNode(d,h,f)))}return h=n.serverCache.isFullyInitialized()||Jo(r,Ue())!=null,Js(n,d,h,a.filter.filtersNodes())}}class rE{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new vd(r.getIndex()),f=AC(r);this.processor_=$C(f);const h=l.serverCache,p=l.eventCache,_=u.updateFullNode(ue.EMPTY_NODE,h.getNode(),null),d=f.updateFullNode(ue.EMPTY_NODE,p.getNode(),null),x=new Yl(_,h.isFullyInitialized(),u.filtersNodes()),S=new Yl(d,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=ou(S,x),this.eventGenerator_=new zC(this.query_)}get query(){return this.query_}}function oE(a){return a.viewCache_.serverCache.getNode()}function uE(a,n){const l=Ql(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!Te(n)&&!l.getImmediateChild(be(n)).isEmpty())?l.getChild(n):null}function my(a){return a.eventRegistrations_.length===0}function cE(a,n){a.eventRegistrations_.push(n)}function py(a,n,l){const r=[];if(l){X(n==null,"A cancel should cancel all event registrations.");const u=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=u}else a.eventRegistrations_=[];return r}function gy(a,n,l,r){n.type===qn.MERGE&&n.source.queryId!==null&&(X(Ql(a.viewCache_),"We should always have a full cache before handling merges"),X(Wf(a.viewCache_),"Missing event cache, even though we have a server cache"));const u=a.viewCache_,f=tE(a.processor_,u,n,l,r);return eE(a.processor_,f.viewCache),X(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,U_(a,f.changes,f.viewCache.eventCache.getNode(),null)}function fE(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(ut,(f,h)=>{r.push(Ga(f,h))}),l.isFullyInitialized()&&r.push(A_(l.getNode())),U_(a,r,l.getNode(),n)}function U_(a,n,l,r){const u=r?[r]:a.eventRegistrations_;return jC(a.eventGenerator_,n,l,u)}let eu;class dE{constructor(){this.views=new Map}}function hE(a){X(!eu,"__referenceConstructor has already been defined"),eu=a}function mE(){return X(eu,"Reference.ts has not been loaded"),eu}function pE(a){return a.views.size===0}function Nd(a,n,l,r){const u=n.source.queryId;if(u!==null){const f=a.views.get(u);return X(f!=null,"SyncTree gave us an op for an invalid query."),gy(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat(gy(h,n,l,r));return f}}function gE(a,n,l,r,u){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let p=Wo(l,u?r:null),_=!1;p?_=!0:r instanceof ue?(p=Td(l,r),_=!1):(p=ue.EMPTY_NODE,_=!1);const d=ou(new Yl(p,_,!1),new Yl(r,u,!1));return new rE(n,d)}return h}function yE(a,n,l,r,u,f){const h=gE(a,n,r,u,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),cE(h,l),fE(h,l)}function _E(a,n,l,r){const u=n._queryIdentifier,f=[];let h=[];const p=ol(a);if(u==="default")for(const[_,d]of a.views.entries())h=h.concat(py(d,l,r)),my(d)&&(a.views.delete(_),d.query._queryParams.loadsAllData()||f.push(d.query));else{const _=a.views.get(u);_&&(h=h.concat(py(_,l,r)),my(_)&&(a.views.delete(u),_.query._queryParams.loadsAllData()||f.push(_.query)))}return p&&!ol(a)&&f.push(new(mE())(n._repo,n._path)),{removed:f,events:h}}function B_(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function ka(a,n){let l=null;for(const r of a.views.values())l=l||uE(r,n);return l}function H_(a,n){if(n._queryParams.loadsAllData())return uu(a);{const r=n._queryIdentifier;return a.views.get(r)}}function k_(a,n){return H_(a,n)!=null}function ol(a){return uu(a)!=null}function uu(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let tu;function vE(a){X(!tu,"__referenceConstructor has already been defined"),tu=a}function bE(){return X(tu,"Reference.ts has not been loaded"),tu}let SE=1;class yy{constructor(n){this.listenProvider_=n,this.syncPointTree_=new it(null),this.pendingWriteTree_=ZC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function V_(a,n,l,r,u){return BC(a.pendingWriteTree_,n,l,r,u),u?pr(a,new Gl(R_(),n,l)):[]}function Vl(a,n,l=!1){const r=HC(a.pendingWriteTree_,n);if(kC(a.pendingWriteTree_,n)){let f=new it(null);return r.snap!=null?f=f.set(Ue(),!0):on(r.children,h=>{f=f.set(new Pe(h),!0)}),pr(a,new Po(r.path,f,l))}else return[]}function cu(a,n,l){return pr(a,new Gl(Sd(),n,l))}function CE(a,n,l){const r=it.fromObject(l);return pr(a,new ur(Sd(),n,r))}function EE(a,n){return pr(a,new or(Sd(),n))}function TE(a,n,l){const r=Dd(a,l);if(r){const u=Md(r),f=u.path,h=u.queryId,p=an(f,n),_=new or(Cd(h),p);return wd(a,f,_)}else return[]}function nd(a,n,l,r,u=!1){const f=n._path,h=a.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||k_(h,n))){const _=_E(h,n,l,r);pE(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const d=_.removed;if(p=_.events,!u){const x=d.findIndex(T=>T._queryParams.loadsAllData())!==-1,S=a.syncPointTree_.findOnPath(f,(T,Q)=>ol(Q));if(x&&!S){const T=a.syncPointTree_.subtree(f);if(!T.isEmpty()){const Q=NE(T);for(let q=0;q<Q.length;++q){const ie=Q[q],De=ie.query,we=Y_(a,ie);a.listenProvider_.startListening(er(De),nu(a,De),we.hashFn,we.onComplete)}}}!S&&d.length>0&&!r&&(x?a.listenProvider_.stopListening(er(n),null):d.forEach(T=>{const Q=a.queryToTagMap.get(fu(T));a.listenProvider_.stopListening(er(T),Q)}))}RE(a,d)}return p}function xE(a,n,l,r){const u=Dd(a,r);if(u!=null){const f=Md(u),h=f.path,p=f.queryId,_=an(h,n),d=new Gl(Cd(p),_,l);return wd(a,h,d)}else return[]}function AE(a,n,l,r){const u=Dd(a,r);if(u){const f=Md(u),h=f.path,p=f.queryId,_=an(h,n),d=it.fromObject(l),x=new ur(Cd(p),_,d);return wd(a,h,x)}else return[]}function _y(a,n,l,r=!1){const u=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(u,(T,Q)=>{const q=an(T,u);f=f||ka(Q,q),h=h||ol(Q)});let p=a.syncPointTree_.get(u);p?(h=h||ol(p),f=f||ka(p,Ue())):(p=new dE,a.syncPointTree_=a.syncPointTree_.set(u,p));let _;f!=null?_=!0:(_=!1,f=ue.EMPTY_NODE,a.syncPointTree_.subtree(u).foreachChild((Q,q)=>{const ie=ka(q,Ue());ie&&(f=f.updateImmediateChild(Q,ie))}));const d=k_(p,n);if(!d&&!n._queryParams.loadsAllData()){const T=fu(n);X(!a.queryToTagMap.has(T),"View does not exist, but we have a tag");const Q=DE();a.queryToTagMap.set(T,Q),a.tagToQueryMap.set(Q,T)}const x=Ed(a.pendingWriteTree_,u);let S=yE(p,n,l,x,f,_);if(!d&&!h&&!r){const T=H_(p,n);S=S.concat(ME(a,n,T))}return S}function Rd(a,n,l){const u=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,p)=>{const _=an(h,n),d=ka(p,_);if(d)return d});return O_(u,n,f,l,!0)}function pr(a,n){return q_(n,a.syncPointTree_,null,Ed(a.pendingWriteTree_,Ue()))}function q_(a,n,l,r){if(Te(a.path))return G_(a,n,l,r);{const u=n.get(Ue());l==null&&u!=null&&(l=ka(u,Ue()));let f=[];const h=be(a.path),p=a.operationForChild(h),_=n.children.get(h);if(_&&p){const d=l?l.getImmediateChild(h):null,x=z_(r,h);f=f.concat(q_(p,_,d,x))}return u&&(f=f.concat(Nd(u,a,r,l))),f}}function G_(a,n,l,r){const u=n.get(Ue());l==null&&u!=null&&(l=ka(u,Ue()));let f=[];return n.children.inorderTraversal((h,p)=>{const _=l?l.getImmediateChild(h):null,d=z_(r,h),x=a.operationForChild(h);x&&(f=f.concat(G_(x,p,_,d)))}),u&&(f=f.concat(Nd(u,a,r,l))),f}function Y_(a,n){const l=n.query,r=nu(a,l);return{hashFn:()=>(oE(n)||ue.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?TE(a,l._path,r):EE(a,l._path);{const f=xS(u,l);return nd(a,l,null,f)}}}}function nu(a,n){const l=fu(n);return a.queryToTagMap.get(l)}function fu(a){return a._path.toString()+"$"+a._queryIdentifier}function Dd(a,n){return a.tagToQueryMap.get(n)}function Md(a){const n=a.indexOf("$");return X(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Pe(a.substr(0,n))}}function wd(a,n,l){const r=a.syncPointTree_.get(n);X(r,"Missing sync point for query tag that we're tracking");const u=Ed(a.pendingWriteTree_,n);return Nd(r,l,u,null)}function NE(a){return a.fold((n,l,r)=>{if(l&&ol(l))return[uu(l)];{let u=[];return l&&(u=B_(l)),on(r,(f,h)=>{u=u.concat(h)}),u}})}function er(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(bE())(a._repo,a._path):a}function RE(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const u=fu(r),f=a.queryToTagMap.get(u);a.queryToTagMap.delete(u),a.tagToQueryMap.delete(f)}}}function DE(){return SE++}function ME(a,n,l){const r=n._path,u=nu(a,n),f=Y_(a,l),h=a.listenProvider_.startListening(er(n),u,f.hashFn,f.onComplete),p=a.syncPointTree_.subtree(r);if(u)X(!ol(p.value),"If we're adding a query, it shouldn't be shadowed");else{const _=p.fold((d,x,S)=>{if(!Te(d)&&x&&ol(x))return[uu(x).query];{let T=[];return x&&(T=T.concat(B_(x).map(Q=>Q.query))),on(S,(Q,q)=>{T=T.concat(q)}),T}});for(let d=0;d<_.length;++d){const x=_[d];a.listenProvider_.stopListening(er(x),nu(a,x))}}return h}class Od{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Od(l)}node(){return this.node_}}class zd{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Et(this.path_,n);return new zd(this.syncTree_,l)}node(){return Rd(this.syncTree_,this.path_)}}const wE=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},vy=function(a,n,l){if(!a||typeof a!="object")return a;if(X(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return OE(a[".sv"],n,l);if(typeof a[".sv"]=="object")return zE(a[".sv"],n);X(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},OE=function(a,n,l){switch(a){case"timestamp":return l.timestamp;default:X(!1,"Unexpected server value: "+a)}},zE=function(a,n,l){a.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&X(!1,"Unexpected increment value: "+r);const u=n.node();if(X(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},jE=function(a,n,l,r){return jd(n,new zd(l,a),r)},Q_=function(a,n,l){return jd(a,new Od(n),l)};function jd(a,n,l){const r=a.getPriority().val(),u=vy(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,p=vy(h.getValue(),n,l);return p!==h.getValue()||u!==h.getPriority().val()?new Mt(p,qt(u)):a}else{const h=a;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new Mt(u))),h.forEachChild(ut,(p,_)=>{const d=jd(_,n.getImmediateChild(p),l);d!==_&&(f=f.updateImmediateChild(p,d))}),f}}class Id{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Ld(a,n){let l=n instanceof Pe?n:new Pe(n),r=a,u=be(l);for(;u!==null;){const f=Va(r.node.children,u)||{children:{},childCount:0};r=new Id(u,r,f),l=Je(l),u=be(l)}return r}function Za(a){return a.node.value}function F_(a,n){a.node.value=n,id(a)}function X_(a){return a.node.childCount>0}function IE(a){return Za(a)===void 0&&!X_(a)}function du(a,n){on(a.node.children,(l,r)=>{n(new Id(l,a,r))})}function K_(a,n,l,r){l&&n(a),du(a,u=>{K_(u,n,!0)})}function LE(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function gr(a){return new Pe(a.parent===null?a.name:gr(a.parent)+"/"+a.name)}function id(a){a.parent!==null&&UE(a.parent,a.name,a)}function UE(a,n,l){const r=IE(l),u=Ai(a.node.children,n);r&&u?(delete a.node.children[n],a.node.childCount--,id(a)):!r&&!u&&(a.node.children[n]=l.node,a.node.childCount++,id(a))}const BE=/[\[\].#$\/\u0000-\u001F\u007F]/,HE=/[\[\].#$\u0000-\u001F\u007F]/,jf=10*1024*1024,Z_=function(a){return typeof a=="string"&&a.length!==0&&!BE.test(a)},P_=function(a){return typeof a=="string"&&a.length!==0&&!HE.test(a)},kE=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),P_(a)},W_=function(a,n,l,r){r&&n===void 0||Ud(cd(a,"value"),n,l)},Ud=function(a,n,l){const r=l instanceof Pe?new lC(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+Bl(r));if(typeof n=="function")throw new Error(a+"contains a function "+Bl(r)+" with contents = "+n.toString());if(Py(n))throw new Error(a+"contains "+n.toString()+" "+Bl(r));if(typeof n=="string"&&n.length>jf/3&&su(n)>jf)throw new Error(a+"contains a string greater than "+jf+" utf8 bytes "+Bl(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(on(n,(h,p)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Z_(h)))throw new Error(a+" contains an invalid key ("+h+") "+Bl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aC(r,h),Ud(a,p,r),sC(r)}),u&&f)throw new Error(a+' contains ".value" child '+Bl(r)+" in addition to actual children.")}},J_=function(a,n,l,r){if(!P_(l))throw new Error(cd(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},VE=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),J_(a,n,l)},$_=function(a,n){if(be(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},qE=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Z_(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!kE(l))throw new Error(cd(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class GE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bd(a,n){let l=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();l!==null&&!gd(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(u)}l&&a.eventLists_.push(l)}function ev(a,n,l){Bd(a,l),tv(a,r=>gd(r,n))}function xi(a,n,l){Bd(a,l),tv(a,r=>Vn(r,n)||Vn(n,r))}function tv(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const u=a.eventLists_[r];if(u){const f=u.path;n(f)?(YE(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function YE(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();Ps&&Ft("event: "+l.toString()),Ka(r)}}}const QE="repo_interrupt",FE=25;class XE{constructor(n,l,r,u){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new Id,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KE(a,n,l){if(a.stats_=md(a.repoInfo_),a.forceRestClient_||DS())a.server_=new Ko(a.repoInfo_,(r,u,f,h)=>{by(a,r,u,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Sy(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Ci(a.repoInfo_,n,(r,u,f,h)=>{by(a,r,u,f,h)},r=>{Sy(a,r)},r=>{ZE(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=jS(a.repoInfo_,()=>new OC(a.stats_,a.server_)),a.infoData_=new NC,a.infoSyncTree_=new yy({startListening:(r,u,f,h)=>{let p=[];const _=a.infoData_.getNode(r._path);return _.isEmpty()||(p=cu(a.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),kd(a,"connected",!1),a.serverSyncTree_=new yy({startListening:(r,u,f,h)=>(a.server_.listen(r,f,u,(p,_)=>{const d=h(p,_);xi(a.eventQueue_,r._path,d)}),[]),stopListening:(r,u)=>{a.server_.unlisten(r,u)}})}function nv(a){const l=a.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Hd(a){return wE({timestamp:nv(a)})}function by(a,n,l,r,u){a.dataUpdateCount++;const f=new Pe(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(u)if(r){const _=Vo(l,d=>qt(d));h=AE(a.serverSyncTree_,f,_,u)}else{const _=qt(l);h=xE(a.serverSyncTree_,f,_,u)}else if(r){const _=Vo(l,d=>qt(d));h=CE(a.serverSyncTree_,f,_)}else{const _=qt(l);h=cu(a.serverSyncTree_,f,_)}let p=f;h.length>0&&(p=hu(a,f)),xi(a.eventQueue_,p,h)}function Sy(a,n){kd(a,"connected",n),n===!1&&WE(a)}function ZE(a,n){on(n,(l,r)=>{kd(a,l,r)})}function kd(a,n,l){const r=new Pe("/.info/"+n),u=qt(l);a.infoData_.updateSnapshot(r,u);const f=cu(a.infoSyncTree_,r,u);xi(a.eventQueue_,r,f)}function iv(a){return a.nextWriteId_++}function PE(a,n,l,r,u){Vd(a,"set",{path:n.toString(),value:l,priority:r});const f=Hd(a),h=qt(l,r),p=Rd(a.serverSyncTree_,n),_=Q_(h,p,f),d=iv(a),x=V_(a.serverSyncTree_,n,_,d,!0);Bd(a.eventQueue_,x),a.server_.put(n.toString(),h.val(!0),(T,Q)=>{const q=T==="ok";q||rn("set at "+n+" failed: "+T);const ie=Vl(a.serverSyncTree_,d,!q);xi(a.eventQueue_,n,ie),eT(a,u,T,Q)});const S=ov(a,n);hu(a,S),xi(a.eventQueue_,S,[])}function WE(a){Vd(a,"onDisconnectEvents");const n=Hd(a),l=Zo();Pf(a.onDisconnect_,Ue(),(u,f)=>{const h=jE(u,f,a.serverSyncTree_,n);N_(l,u,h)});let r=[];Pf(l,Ue(),(u,f)=>{r=r.concat(cu(a.serverSyncTree_,u,f));const h=ov(a,u);hu(a,h)}),a.onDisconnect_=Zo(),xi(a.eventQueue_,Ue(),r)}function JE(a,n,l){let r;be(n._path)===".info"?r=_y(a.infoSyncTree_,n,l):r=_y(a.serverSyncTree_,n,l),ev(a.eventQueue_,n._path,r)}function ld(a,n,l){let r;be(n._path)===".info"?r=nd(a.infoSyncTree_,n,l):r=nd(a.serverSyncTree_,n,l),ev(a.eventQueue_,n._path,r)}function $E(a){a.persistentConnection_&&a.persistentConnection_.interrupt(QE)}function Vd(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),Ft(l,...n)}function eT(a,n,l,r){n&&Ka(()=>{if(l==="ok")n(null);else{const u=(l||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function lv(a,n,l){return Rd(a.serverSyncTree_,n,l)||ue.EMPTY_NODE}function qd(a,n=a.transactionQueueTree_){if(n||mu(a,n),Za(n)){const l=sv(a,n);X(l.length>0,"Sending zero length transaction queue"),l.every(u=>u.status===0)&&tT(a,gr(n),l)}else X_(n)&&du(n,l=>{qd(a,l)})}function tT(a,n,l){const r=l.map(d=>d.currentWriteId),u=lv(a,n,r);let f=u;const h=u.hash();for(let d=0;d<l.length;d++){const x=l[d];X(x.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const S=an(n,x.path);f=f.updateChild(S,x.currentOutputSnapshotRaw)}const p=f.val(!0),_=n;a.server_.put(_.toString(),p,d=>{Vd(a,"transaction put response",{path:_.toString(),status:d});let x=[];if(d==="ok"){const S=[];for(let T=0;T<l.length;T++)l[T].status=2,x=x.concat(Vl(a.serverSyncTree_,l[T].currentWriteId)),l[T].onComplete&&S.push(()=>l[T].onComplete(null,!0,l[T].currentOutputSnapshotResolved)),l[T].unwatcher();mu(a,Ld(a.transactionQueueTree_,n)),qd(a,a.transactionQueueTree_),xi(a.eventQueue_,n,x);for(let T=0;T<S.length;T++)Ka(S[T])}else{if(d==="datastale")for(let S=0;S<l.length;S++)l[S].status===3?l[S].status=4:l[S].status=0;else{rn("transaction at "+_.toString()+" failed: "+d);for(let S=0;S<l.length;S++)l[S].status=4,l[S].abortReason=d}hu(a,n)}},h)}function hu(a,n){const l=av(a,n),r=gr(l),u=sv(a,l);return nT(a,u,r),r}function nT(a,n,l){if(n.length===0)return;const r=[];let u=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const _=n[p],d=an(l,_.path);let x=!1,S;if(X(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)x=!0,S=_.abortReason,u=u.concat(Vl(a.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=FE)x=!0,S="maxretry",u=u.concat(Vl(a.serverSyncTree_,_.currentWriteId,!0));else{const T=lv(a,_.path,h);_.currentInputSnapshot=T;const Q=n[p].update(T.val());if(Q!==void 0){Ud("transaction failed: Data returned ",Q,_.path);let q=qt(Q);typeof Q=="object"&&Q!=null&&Ai(Q,".priority")||(q=q.updatePriority(T.getPriority()));const De=_.currentWriteId,we=Hd(a),$e=Q_(q,T,we);_.currentOutputSnapshotRaw=q,_.currentOutputSnapshotResolved=$e,_.currentWriteId=iv(a),h.splice(h.indexOf(De),1),u=u.concat(V_(a.serverSyncTree_,_.path,$e,_.currentWriteId,_.applyLocally)),u=u.concat(Vl(a.serverSyncTree_,De,!0))}else x=!0,S="nodata",u=u.concat(Vl(a.serverSyncTree_,_.currentWriteId,!0))}xi(a.eventQueue_,l,u),u=[],x&&(n[p].status=2,(function(T){setTimeout(T,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(S==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(S),!1,null))))}mu(a,a.transactionQueueTree_);for(let p=0;p<r.length;p++)Ka(r[p]);qd(a,a.transactionQueueTree_)}function av(a,n){let l,r=a.transactionQueueTree_;for(l=be(n);l!==null&&Za(r)===void 0;)r=Ld(r,l),n=Je(n),l=be(n);return r}function sv(a,n){const l=[];return rv(a,n,l),l.sort((r,u)=>r.order-u.order),l}function rv(a,n,l){const r=Za(n);if(r)for(let u=0;u<r.length;u++)l.push(r[u]);du(n,u=>{rv(a,u,l)})}function mu(a,n){const l=Za(n);if(l){let r=0;for(let u=0;u<l.length;u++)l[u].status!==2&&(l[r]=l[u],r++);l.length=r,F_(n,l.length>0?l:void 0)}du(n,r=>{mu(a,r)})}function ov(a,n){const l=gr(av(a,n)),r=Ld(a.transactionQueueTree_,n);return LE(r,u=>{If(a,u)}),If(a,r),K_(r,u=>{If(a,u)}),l}function If(a,n){const l=Za(n);if(l){const r=[];let u=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(X(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(X(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),u=u.concat(Vl(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?F_(n,void 0):l.length=f+1,xi(a.eventQueue_,gr(n),u);for(let h=0;h<r.length;h++)Ka(r[h])}}function iT(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let u=l[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function lT(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rn(`Invalid query segment '${l}' in query '${a}'`)}return n}const Cy=function(a,n){const l=aT(a),r=l.namespace;l.domain==="firebase.com"&&Ti(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||bS();const u=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new o_(l.host,l.secure,r,u,n,"",r!==l.subdomain),path:new Pe(l.pathString)}},aT=function(a){let n="",l="",r="",u="",f="",h=!0,p="https",_=443;if(typeof a=="string"){let d=a.indexOf("//");d>=0&&(p=a.substring(0,d-1),a=a.substring(d+2));let x=a.indexOf("/");x===-1&&(x=a.length);let S=a.indexOf("?");S===-1&&(S=a.length),n=a.substring(0,Math.min(x,S)),x<S&&(u=iT(a.substring(x,S)));const T=lT(a.substring(Math.min(a.length,S)));d=n.indexOf(":"),d>=0?(h=p==="https"||p==="wss",_=parseInt(n.substring(d+1),10)):d=n.length;const Q=n.slice(0,d);if(Q.toLowerCase()==="localhost")l="localhost";else if(Q.split(".").length<=2)l=Q;else{const q=n.indexOf(".");r=n.substring(0,q).toLowerCase(),l=n.substring(q+1),f=r}"ns"in T&&(f=T.ns)}return{host:n,port:_,domain:l,subdomain:r,secure:h,scheme:p,pathString:u,namespace:f}};const Ey="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sT=(function(){let a=0;const n=[];return function(l){const r=l===a;a=l;let u;const f=new Array(8);for(u=7;u>=0;u--)f[u]=Ey.charAt(l%64),l=Math.floor(l/64);X(l===0,"Cannot push at time == 0");let h=f.join("");if(r){for(u=11;u>=0&&n[u]===63;u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)h+=Ey.charAt(n[u]);return X(h.length===20,"nextPushId: Length should be 20."),h}})();class rT{constructor(n,l,r,u){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ot(this.snapshot.exportVal())}}class oT{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class uv{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return X(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Gd{constructor(n,l,r,u){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=u}get key(){return Te(this._path)?null:y_(this._path)}get ref(){return new ul(this._repo,this._path)}get _queryIdentifier(){const n=sy(this._queryParams),l=dd(n);return l==="{}"?"default":l}get _queryObject(){return sy(this._queryParams)}isEqual(n){if(n=Fa(n),!(n instanceof Gd))return!1;const l=this._repo===n._repo,r=gd(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return l&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+iC(this._path)}}class ul extends Gd{constructor(n,l){super(n,l,new bd,!1)}get parent(){const n=v_(this._path);return n===null?null:new ul(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class iu{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Pe(n),r=cr(this.ref,n);return new iu(this._node.getChild(l),r,ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new iu(u,cr(this.ref,r),ut)))}hasChild(n){const l=new Pe(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zl(a,n){return a=Fa(a),a._checkNotDeleted("ref"),n!==void 0?cr(a._root,n):a._root}function cr(a,n){return a=Fa(a),be(a._path)===null?VE("child","path",n):J_("child","path",n),new ul(a._repo,Et(a._path,n))}function uT(a,n){a=Fa(a),$_("push",a._path),W_("push",n,a._path,!0);const l=nv(a._repo),r=sT(l),u=cr(a,r),f=cr(a,r);let h;return n!=null?h=Ks(f,n).then(()=>f):h=Promise.resolve(f),u.then=h.then.bind(h),u.catch=h.then.bind(h,void 0),u}function Ks(a,n){a=Fa(a),$_("set",a._path),W_("set",n,a._path,!1);const l=new au;return PE(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}class pu{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new rT("value",this,new iu(n.snapshotNode,new ul(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new oT(this,n,l):null}matches(n){return n instanceof pu?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function cT(a,n,l,r,u){let f;if(typeof r=="object"&&(f=void 0,u=r),typeof r=="function"&&(f=r),u&&u.onlyOnce){const _=l,d=(x,S)=>{ld(a._repo,a,p),_(x,S)};d.userCallback=l.userCallback,d.context=l.context,l=d}const h=new uv(l,f||void 0),p=new pu(h);return JE(a._repo,a,p),()=>ld(a._repo,a,p)}function Lf(a,n,l,r){return cT(a,"value",n,l,r)}function Ty(a,n,l){let r=null;const u=l?new uv(l):null;r=new pu(u),ld(a._repo,a,r)}hE(ul);vE(ul);const fT="FIREBASE_DATABASE_EMULATOR_HOST",ad={};let dT=!1;function hT(a,n,l,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=ud(f);a.repoInfo_=new o_(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function mT(a,n,l,r,u){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=Cy(f,u),p=h.repoInfo,_;typeof process<"u"&&qg&&(_=qg[fT]),_?(f=`http://${_}?ns=${p.namespace}`,h=Cy(f,u),p=h.repoInfo):h.repoInfo.secure;const d=new wS(a.name,a.options,n);qE("Invalid Firebase Database URL",h),Te(h.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const x=gT(p,a,d,new MS(a,l));return new yT(x,a)}function pT(a,n){const l=ad[n];(!l||l[a.key]!==a)&&Ti(`Database ${n}(${a.repoInfo_}) has already been deleted.`),$E(a),delete l[a.key]}function gT(a,n,l,r){let u=ad[n.name];u||(u={},ad[n.name]=u);let f=u[a.toURLString()];return f&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new XE(a,dT,l,r),u[a.toURLString()]=f,f}class yT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ul(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ti("Cannot call "+n+" on a deleted database.")}}function _T(a=tS(),n){const l=P1(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=Ib("database");r&&vT(l,...r)}return l}function vT(a,n,l,r={}){a=Fa(a),a._checkNotDeleted("useEmulator");const u=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(u===a._repoInternal.repoInfo_.host&&qo(r,f.repoInfo_.emulatorOptions))return;Ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Ho(Ho.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:Ub(r.mockUserToken,a.app.options.projectId);h=new Ho(p)}ud(n)&&(Lb(n),kb("Database",!0)),hT(f,u,r,h)}function bT(a){mS(eS),Yo(new nr("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return mT(r,u,f,l)},"PUBLIC").setMultipleInstances(!0)),Ua(Gg,Yg,a),Ua(Gg,Yg,"esm2020")}const ST={".sv":"timestamp"};function CT(){return ST}Ci.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Ci.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};bT();const xy={apiKey:"AIzaSyDSl4Mo56zJeNdh9FcHsYMuT7zcyEtNeWE",authDomain:"impostor-arnau.firebaseapp.com",databaseURL:"https://impostor-arnau-default-rtdb.europe-west1.firebasedatabase.app",projectId:"impostor-arnau",storageBucket:"impostor-arnau.firebasestorage.app",messagingSenderId:"801468649921",appId:"1:801468649921:web:90912b2aaa1e7e84711f40"},Ay=xy.databaseURL?Yy(xy):null,qe=Ay?_T(Ay):null,ET=["Sergio Ramos, Fuerte","Andrs Iniesta, Silencioso","Gerard Piqu, Famoso","David Villa, Rpido","Iker Casillas, Seguro","Fernando Torres, Popular","Xavi Hernndez, Calmado","Cristiano Ronaldo, Ambicioso","Lionel Messi, Talentoso","Zinedine Zidane, Elegante","Luka Modric, Constante","Toni Kroos, Preciso","Karim Benzema, Eficaz","Robert Lewandowski, Determinante","Erling Haaland, Potente","Kylian Mbapp, Explosivo","Antoine Griezmann, Creativo","Kevin De Bruyne, Inteligente","Paul Pogba, Irregular","Gareth Bale, Velocidad","Eden Hazard, Tcnica","Marco Reus, Leal","Thomas Mller, Curioso","Harry Kane, Goles","Raheem Sterling, Ligero","Virgil van Dijk, Slido","Sadio Man, Intenso","Mohamed Salah, Determinado","Bruno Fernandes, Faltas","Marcus Rashford, Promesa","Sergio Busquets, Ordenado","Jordi Alba, Constante","lvaro Morata, Variable","Pedri Gonzlez, Prometedor","Gavi, Energa","Rodri Hernndez, Estable","Aymeric Laporte, Traidor","Thibaut Courtois, Gigante","Jan Oblak, Calma","Marc-Andr ter Stegen, Preciso","Manuel Neuer, Innovador","Phil Foden, gil","Jack Grealish, Estilo","Declan Rice, Firme","Federico Valverde, Completo","Lautaro Martnez, Instinto","Paulo Dybala, Hbil","Olivier Giroud, Experiencia","N'Golo Kant, Humilde","Joshua Kimmich, Disciplinado","Isco Alarcn, Tcnico","Nacho Fernndez, Discreto","Dani Carvajal, Firme","Sergio Reguiln, Dinmico","Koke Resurreccin, Constante","Sal guez, Inquieto","ngel Di Mara, Creativo","Gonzalo Higuan, Decidido","Jess Navas, Veterano","Csar Azpilicueta, Serio","Adama Traor, Fsico","Thiago Alcntara, Fluido","Pau Torres, Sereno","Joo Flix, Imprevisible","Ilkay Gndogan, Inteligente","Bernardo Silva, Sutil","Ruben Dias, Serio","Joo Cancelo, Activo","Achraf Hakimi, Rpido","Marquinhos, Responsable","Theo Hernndez, Ofensivo","Mike Maignan, Seguro","Franck Kessi, Fuerte","Nicolo Barella, Dinmico","Federico Chiesa, Semifinal","Ciro Immobile, Constante","Rafael Leo, Explosivo","Kai Havertz, Pelo","Jamal Musiala, Joven","Alphonso Davies, Rpido","Carles Puyol, Capitn","Ronaldinho, Magia","Ronaldo Nazrio, Explosivo","Luis Figo, Icono","Samuel Eto'o, Competitivo","Neymar Jr, Creativo","Vctor Valds, Serio","Dani Alves, Divertido","Roberto Carlos, Potente","Pepe, Intenso","Iago Aspas, Persistente","Joaqun Snchez, Divertido","Luis Enrique, Intenso","Xabi Alonso, Tranquilo","Vincius Jr, Rpido","Rodrygo Goes, Dinmico","Aurlien Tchouamni, Fuerte","Eduardo Camavinga, Verstil","der Milito, Seguro","Antonio Rdiger, Intenso","Brahim Daz, Creativo","Joselu Mato, LaLiga","Ferran Torres, Irregular","Lamine Yamal, Prometedor","Alejandro Balde, gil","Unai Simn, Seguro","Mikel Oyarzabal, Constante","Nico Williams, Explosivo","Iaki Williams, Rpido","Dani Olmo, Tcnico","Takefusa Kubo, Hbil","Alejandro Garnacho, Atrevido","Enzo Fernndez, Elegante","Julin lvarez, Persistente","Alexis Mac Allister, Preciso","Martin degaard, Creativo","Jude Bellingham, Elegancia","Khvicha Kvaratskhelia, Imaginativo","Florian Wirtz, Promesa"],TT=["Pizza, Popular","Hamburguesa, Completa","Sushi, Elegante","Paella, Tradicional","Tacos, Callejera","Pasta, Clsica","Ensalada, Ligera","Croquetas, Caseras","Empanada, Rellena","Burrito, Contundente","Curry, Especiado","Risotto, Cremoso","Lasagna, Capas","Kebab, Rpido","Gazpacho, Fro","Tortilla, Simple","Churros, Dulce","Donut, Redondo","Helado, Refrescante","Brownie, Denso","Tarta, Celebracin","Chocolate, Intenso","Queso, Curado","Pan, Bsico","Sopa, Reconfortante","Arroz, Acompaante","Pescado, Marino","Carne, Jugosa","Verduras, Saludable","Fruta, Natural","Huevos, Verstil","Patatas fritas, Crujientes","Nachos, Compartir","Sandwich, Prctico","Hot dog, Rpido","Pollo asado, Familiar","Barbacoa, Social","Albndigas, Caseras","Lentejas, Contundentes","Macarrones, Infantiles","Espaguetis, Largos","Filete, Sencillo","Pur de patatas, Suave","Salchichas, Simples","Jamn, Curado","Chorizo, Intenso","Tortilla francesa, Rpida","Huevos fritos, Tradicionales","Bocadillo, Informal","Pan con tomate, Local","Queso fresco, Suave","Yogur, Ligero","Flan, Clsico","Natillas, Caseras","Arroz con leche, Dulce","Bizcocho, Esponjoso","Magdalenas, Desayuno","Galletas, Crujientes","Cereales, Maana","Leche, Bsica","Mantequilla, Untable","Aceite de oliva, Fundamental","Sardinas, Baratas","Atn, Conserva","Croissant, De fuera","Empanadillas, Pequeas","Pechuga de pollo, Seca","Lomo, Fino"],xT=["Madrid, Capital","Barcelona, Turstica","Pars, Romntica","Londres, Histrica","Roma, Antigua","Berln, Moderna","Nueva York, Gigante","Los ngeles, Cine","Tokio, Tecnolgica","Pekn, Inmensa","Shanghi, Futuro","Dubi, Lujo","Estambul, Mezcla","Atenas, Clsica","Lisboa, Costera","Oporto, Tradicional","msterdam, Canales","Venecia, Agua","Miln, Moda","Florencia, Arte","Praga, Medieval","Viena, Elegante","Budapest, Histrica","Mosc, Fra","Buenos Aires, Cultural","So Paulo, Enorme","Ro de Janeiro, Fiesta","Mxico DF, Catica","Bogot, Altura","Lima, Costera","Miami, Playa","Las Vegas, Exceso","Chicago, Viento","Toronto, Multicultural","Vancouver, Natural","Sevilla, Calurosa","Valencia, Mediterrnea","Bilbao, Industrial","Mlaga, Costa","Granada, Histrica","Crdoba, Antigua","Zaragoza, Interior","Alicante, Playa","Palma de Mallorca, Isla","Ibiza, Fiesta","San Sebastin, Elegante","Toledo, Medieval","Salamanca, Universitaria","Tamurejo, Rural","Pars, Cara","Andorra la Vella, Fro","Fuerteventura, Desierto","Carcassonne, Medieval","Ciudad Real, Cultural","Tarragona, Romana","Girona, Norte","Hospitalet, Industrial","Cornell, Pequea","Canillo, Montaa","Pineda de Bages, Enana","Manresa, Profunda","Pineda de Mar, Playa","Sydney, Oceano","Toscana, Comida","San Francisco, Moderna","Los Angeles, Cine"];function Uf(a){return Array.isArray(a)?a.map(n=>{if(typeof n!="string")return console.error("El item no es una cadena:",n),{name:"Desconocido",clue:""};const[l,...r]=n.split(", ");return{name:l.trim(),clue:r.join(", ").trim()}}):(console.error("Los datos no son un array:",a),[])}const cv={futbol:{id:"futbol",name:"Ftbol",players:Uf(ET)},comida:{id:"comida",name:"Comida",players:Uf(TT)},ciudades:{id:"ciudades",name:"Ciudades",players:Uf(xT)}},AT=a=>{const n=cv[a];if(!n||n.players.length===0)return null;const l=Math.floor(Math.random()*n.players.length);return n.players[l]},Bf=a=>{try{const n=cv[a];return n&&Array.isArray(n.players)&&n.players.length>0}catch(n){return console.error(`Error al verificar jugadores para ${a}:`,n),!1}},jl={futbol:{id:"futbol",name:"Ftbol",hasPlayers:Bf("futbol")},comida:{id:"comida",name:"Comida",hasPlayers:Bf("comida")},ciudades:{id:"ciudades",name:"Ciudades",hasPlayers:Bf("ciudades")}},Ny=a=>AT(a),Hf=3,Ry=6,NT=()=>{const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],n=Math.floor(Math.random()*10),l=Math.floor(Math.random()*10);return`${a}${n}${l}`},kf=a=>a.trim().slice(0,18),Dy=a=>a.trim().slice(0,30),Hl=a=>a.players.filter(n=>n.alive),My=a=>{if(a.firstSpeakerIndex===void 0||a.firstSpeakerIndex<0||a.firstSpeakerIndex>=a.players.length)return a.players;const n=[],l=a.firstSpeakerIndex;for(let r=0;r<a.players.length;r++){const u=(l+r)%a.players.length;a.players[u]&&n.push(a.players[u])}return n},lu=(a,n)=>!a||!Array.isArray(a)?[]:a.filter(l=>l.round===n),Bo=(a,n)=>lu(a.clues,a.round).some(r=>r.playerId===n),Ia=a=>{const n=Hl(a),r=lu(a.clues,a.round).map(p=>p.playerId);if(n.length===0||r.length>=n.length)return-1;let u=a.currentTurnIndex;if(a.currentTurnIndex<0)if(a.firstSpeakerIndex!==void 0)if(a.players[a.firstSpeakerIndex]?.alive)u=a.firstSpeakerIndex;else{let p=a.firstSpeakerIndex,_=!1;for(let d=0;d<a.players.length;d++){const x=a.players[p];if(x&&x.alive){u=p,_=!0;break}p=(p+1)%a.players.length}_||(u=a.players.findIndex(d=>d.alive))}else u=a.players.findIndex(p=>p.alive);let f=0,h=u;for(;f<a.players.length;){f===0?h=u:h=(h+1)%a.players.length;const p=a.players[h];if(p&&p.alive&&!r.includes(p.id))return h;f+=1}return-1},RT=a=>{const n={};return Object.values(a).forEach(l=>{n[l]=(n[l]??0)+1}),n},Il=a=>{const n=RT(a.votes),l=Object.entries(n);if(l.length===0)return{targetId:null,tie:!1,tiedPlayers:[],voteCount:0};l.sort(([,p],[,_])=>_-p);const[r,u]=l[0],f=l.length>1&&l[1][1]===u,h=[];return f&&l.forEach(([p,_])=>{_===u&&h.push(p)}),{targetId:f?null:r,tie:f,tiedPlayers:h,voteCount:u}},DT=(a,n)=>{const[l,r]=J.useState(()=>window.localStorage.getItem(a)??n);return J.useEffect(()=>{window.localStorage.setItem(a,l)},[a,l]),[l,r]},MT=()=>{const[a,n]=DT("impostor-player-name",""),[l,r]=J.useState(!1),[u]=J.useState(()=>{const b=window.sessionStorage.getItem("impostor-player-id");if(b)return b;const M=crypto.randomUUID();return window.sessionStorage.setItem("impostor-player-id",M),M});J.useEffect(()=>{r(!0)},[]);const[f,h]=J.useState(null),[p,_]=J.useState(!1),[d,x]=J.useState(null),[S,T]=J.useState(!1),[Q,q]=J.useState(null),[ie,De]=J.useState(null),[we,$e]=J.useState(!0),[Oe,dt]=J.useState(!0),[Tt,xt]=J.useState(!1),[ce,At]=J.useState("visible"),[Xt,Yn]=J.useState(void 0),[Kt,Nt]=J.useState(void 0),[et,Pt]=J.useState(null),[zt,I]=J.useState(""),[K,ae]=J.useState(""),xe=J.useRef(""),[Be,E]=J.useState(null),[H,Z]=J.useState(null),[$,fe]=J.useState(null),[ge,Ae]=J.useState(null),[jt,lt]=J.useState(!1),[bt,cl]=J.useState([]),[fl,Xl]=J.useState(""),[Sn,dl]=J.useState(0),[Wt,yr]=J.useState(null),[hl,Jn]=J.useState("players"),[Kl,Ni]=J.useState(!1),[_r,Zl]=J.useState(!1),[Rt,Pa]=J.useState(null),[Pl,$n]=J.useState(!1),[ml,Ri]=J.useState(0),[un,Wl]=J.useState(!1),Cn=J.useRef(null),wn=J.useRef(null),It=J.useRef(null),On=J.useRef(null),Gt=J.useRef(null),Jl=J.useRef(null),$l=J.useRef(null),cn=J.useRef(null),ea=J.useRef(!1),zn=J.useRef(new Set),Yt=d?.players.find(b=>b.id===u),jn=d?Hl(d):[],Qn=d?lu(d.clues,d.round):[];J.useEffect(()=>{ae(""),xe.current=""},[d?.phase,d?.round,d?.currentTurnIndex]);const Lt=J.useCallback(()=>{h(null),x(null),T(!1),q(null),_(!1),ea.current=!1,zn.current.clear(),cn.current=null,De(null),$e(!0),dt(!0),xt(!1),At("visible"),Yn(void 0),Nt(void 0),Pt(null),I(""),ae(""),xe.current=""},[]),Wa=J.useCallback(b=>{if(!b)return null;const M=Array.isArray(b.players)?b.players:[],N=b.impostorId,O=M.map(U=>{const k=N?U.id===N:!1;return{...U,isImpostor:k}});if(N){const U=O.filter(k=>k.isImpostor).length;U!==1&&(console.warn(`Inconsistencia detectada en normalizeState: ${U} impostores encontrados. Corrigiendo...`),O.forEach(ee=>{ee.isImpostor=ee.id===N}),O.filter(ee=>ee.isImpostor).length!==1&&console.error(`Error crtico en normalizeState: No se pudo corregir. ImpostorId: ${N}, Jugadores: ${O.map(ee=>({id:ee.id,isImpostor:ee.isImpostor}))}`))}else O.forEach(U=>{U.isImpostor&&(console.warn(`Jugador ${U.id} marcado como impostor pero no hay impostorId. Corrigiendo...`),U.isImpostor=!1)});return{code:b.code||"",topic:b.topic||"",secretWord:b.secretWord||"",selectedPlayer:b.selectedPlayer,selectedPlayerClue:b.selectedPlayerClue,showClue:b.showClue??!0,allowVoteChange:b.allowVoteChange??!0,singleWordOnly:b.singleWordOnly??!1,voteDisplayMode:b.voteDisplayMode??"visible",confirmedVotes:b.confirmedVotes??[],timeLimit:b.timeLimit,votingTimeLimit:b.votingTimeLimit,hostId:b.hostId||"",impostorId:N,players:O,phase:b.phase||"lobby",currentTurnIndex:b.currentTurnIndex??-1,firstSpeakerIndex:b.firstSpeakerIndex,round:b.round??0,clues:Array.isArray(b.clues)?b.clues:[],votes:b.votes&&typeof b.votes=="object"?b.votes:{},tiebreaker:b.tiebreaker,elimination:b.elimination,winner:b.winner,updatedAt:b.updatedAt||Date.now()}},[]),vr=b=>{const M={...b};return Object.keys(M).forEach(N=>{M[N]===void 0&&delete M[N]}),M},Di=b=>{const M={...b};if(Array.isArray(M.players)&&(M.players=M.players.map(N=>vr(N))),Array.isArray(M.clues)&&(M.clues=M.clues.map(N=>{const O={...N};return Object.keys(O).forEach(U=>{O[U]===void 0&&delete O[U]}),O})),M.votes&&typeof M.votes=="object"){const N={};Object.keys(M.votes).forEach(O=>{M.votes[O]!==void 0&&(N[O]=M.votes[O])}),M.votes=N}return Object.keys(M).forEach(N=>{M[N]===void 0&&delete M[N]}),M},In=J.useCallback(b=>{if(!qe||!f||!p){cn.current=b;return}const M={...b,updatedAt:Date.now()};cn.current=M;const N=Di(M),O=zl(qe,`rooms/${f}/state`);Ks(O,N).catch(U=>{console.error("Error enviando estado a Firebase:",U),console.error("Estado que caus el error:",N),cn.current=M})},[p,f]),ve=J.useCallback(b=>{x(M=>{if(!M)return M;const O={...b(M),updatedAt:Date.now()};if(p&&qe&&f){const U=zl(qe,`rooms/${f}/state`),k=Di(O);Ks(U,k).catch(ee=>{console.error("Error actualizando estado en Firebase:",ee),console.error("Estado que caus el error:",k)}),cn.current=O}return O})},[p,f,qe]);J.useEffect(()=>{if(d?.phase!=="tiebreaker"||!d.tiebreaker){Pa(null),It.current=null;return}const b=`${d.round}-${d.tiebreaker.tiedPlayers.sort().join(",")}`;It.current!==b&&(It.current=b,Pa(10));const M=setInterval(()=>{Pa(N=>N===null||N<=0?(clearInterval(M),p&&ve(O=>{if(O.phase!=="tiebreaker")return O;const{targetId:U,tie:k}=Il(O);return k||!U?{...O,votes:{},confirmedVotes:[],players:O.players.map(ee=>{const{vote:Y,...G}=ee;return G}),phase:"reveal",tiebreaker:void 0,elimination:void 0}:Ll(O,U,O.players)}),0):N-1)},1e3);return()=>{clearInterval(M)}},[d?.phase,d?.round,d?.tiebreaker?.tiedPlayers,p,ve]),J.useEffect(()=>{if(!d||d.phase!=="clue"||!d.timeLimit){Z(null),Cn.current=null;return}const b=d.currentTurnIndex>=0?d.players[d.currentTurnIndex]:null;if(!b){Z(null),Cn.current=null;return}if(Bo(d,b.id)){Z(null),(Cn.current?.playerId!==b.id||Cn.current?.round!==d.round)&&(Cn.current=null);return}if(Cn.current?.playerId===b.id&&Cn.current?.round===d.round)return;Z(d.timeLimit);const N=b.id,O=d.round,U=setInterval(()=>{Z(k=>{if(k===null||k<=1){clearInterval(U);const ee=xe.current;if(N===u&&ee.trim()&&(Ut(ee),ae(""),xe.current=""),p&&k!==null&&k<=1){if(Cn.current?.playerId===N&&Cn.current?.round===O)return 0;setTimeout(()=>{ve(Y=>{if(Y.phase!=="clue")return Y;const G=Y.currentTurnIndex;if(G<0)return Y;const j=Y.players[G];if(!j||!j.alive||j.id!==N)return Y;if(Bo(Y,j.id)){const me=Ia(Y);return{...Y,currentTurnIndex:me}}Cn.current={playerId:j.id,round:Y.round};const P={id:crypto.randomUUID(),playerId:j.id,word:"[SIN RESPUESTA]",round:Y.round,createdAt:Date.now()},F=Y.players.map((me,ze)=>ze===G?{...me,clue:"[SIN RESPUESTA]"}:me),se={...Y,clues:[...Y.clues,P],players:F},ye=Ia(se);return{...se,currentTurnIndex:ye}})},500)}return 0}return k-1})},1e3);return()=>{clearInterval(U),Z(null)}},[d?.phase,d?.currentTurnIndex,d?.timeLimit,d?.clues,d?.round,p,ve]);const fn=J.useCallback((b,M)=>{if(!qe||!f)return;const N=zl(qe,`rooms/${f}/events`);uT(N,{type:b,payload:M,timestamp:CT(),playerId:u}).catch(O=>{console.error("Error enviando evento",b,O)})},[f,u]);J.useEffect(()=>{if(!qe||!f)return console.log("Listener no activado:",{database:!!qe,roomCode:f}),()=>{};console.log("Activando listener para sala:",f,"isHost:",p);const b=zl(qe,`rooms/${f}/state`);On.current=b;const M=Lf(b,N=>{const O=N.val();if(console.log("Listener de Firebase activado. Estado recibido:",O?"existe":"null","isHost:",p),!O&&!p&&f){q("El anfitrin ha finalizado la sesin"),setTimeout(()=>{Lt()},2e3);return}const U=Wa(O);console.log("Estado normalizado:",U?`fase: ${U.phase}, jugadores: ${U.players.length}`:"null"),x(k=>{if(p&&k)return U&&U.updatedAt>k.updatedAt?(T(!0),U):(T(!0),k);if(p&&cn.current)return U&&U.updatedAt>cn.current.updatedAt?(T(!0),U):(T(!0),cn.current);if(!p){if(U)return console.log("Actualizando gameState desde Firebase (no host):",{phase:U.phase,players:U.players.length,playerInState:U.players.some(ee=>ee.id===u)}),T(!0),q(null),U;if(k)return T(!0),k}return U&&!k?(console.log("Estableciendo gameState inicial desde Firebase:",{phase:U.phase,players:U.players.length}),T(!0),q(null),U):k&&(T(!0),k)})});return Jl.current=M,()=>{Jl.current&&(Ty(b,"value",Jl.current),Jl.current=null),On.current=null,T(!1)}},[qe,f,p]),J.useEffect(()=>{if(!qe||!f)return()=>{};const b=zl(qe,`rooms/${f}/events`);Gt.current=b;const M=Lf(b,N=>{const O=N.val();O&&Object.entries(O).forEach(([U,k])=>{if(!k)return;const ee=`${U}-${k.type}-${k.playerId}-${k.timestamp||""}`;if(!zn.current.has(ee)){if(zn.current.add(ee),zn.current.size>100){const Y=zn.current.values().next().value;Y&&zn.current.delete(Y)}if(!(k.playerId===u&&k.type!=="JOIN_REQUEST"&&k.type!=="READY_FOR_ROUND"&&k.type!=="SUBMIT_CLUE"&&k.type!=="SUBMIT_VOTE"&&k.type!=="CONFIRM_VOTE"))switch(k.type){case"SUBMIT_CLUE":{if(!p)return;const{playerId:Y,word:G}=k.payload;ve(j=>{if(j.phase!=="clue")return j;const W=j.currentTurnIndex;if(W<0)return j;const P=j.players[W];if(!P||P.id!==Y||!P.alive)return j;const F=Dy(G);if(!F||Bo(j,Y))return j;const ye={id:crypto.randomUUID(),playerId:Y,word:F,round:j.round,createdAt:Date.now()},me=j.players.map((de,Fe)=>Fe===W?{...de,clue:F}:de),ze={...j,clues:[...j.clues,ye],players:me},mt=Ia(ze);return{...ze,currentTurnIndex:mt}});break}case"SUBMIT_VOTE":{if(!p)return;const{voterId:Y,targetId:G}=k.payload;ve(j=>{if(j.phase!=="voting"&&j.phase!=="tiebreaker")return j;const W=j.players.find(le=>le.id===Y&&le.alive),P=j.players.find(le=>le.id===G&&le.alive);if(!W||!P||Y===G||j.phase==="tiebreaker"&&j.tiebreaker&&(j.tiebreaker.tiedPlayers.includes(Y)||!j.tiebreaker.tiedPlayers.includes(G)))return j;const F={...j.votes,[Y]:G},se=j.players.map(le=>le.id===Y?{...le,vote:G}:le),ye=Hl(j).length,me=j.phase==="tiebreaker"&&j.tiebreaker?ye-j.tiebreaker.tiedPlayers.length:ye;let ze=!1;if(j.allowVoteChange?ze=Object.keys(F).length>=me&&(j.confirmedVotes?.length??0)>=me:ze=Object.keys(F).length>=me,!ze)return{...j,votes:F,players:se};if(j.phase==="tiebreaker"){const{targetId:le,tie:Xe}=Il({...j,votes:F});return Xe||!le?{...j,votes:{},confirmedVotes:[],players:se.map(Ke=>{const{vote:St,...hn}=Ke;return hn}),phase:"reveal",tiebreaker:void 0,elimination:void 0}:Ll(j,le,se)}const{targetId:mt,tie:de,tiedPlayers:Fe,voteCount:He}=Il({...j,votes:F});if(de||!mt){const le={},Xe=se.map(Ke=>{const St=Ke.vote,hn=Array.isArray(Fe)?Fe:[],Xn=St&&hn.includes(St)?St:void 0;return!hn.includes(Ke.id)&&Xn&&(le[Ke.id]=Xn),{...Ke,vote:Xn}});return{...j,votes:le,confirmedVotes:[],players:Xe,phase:"tiebreaker",tiebreaker:{tiedPlayers:[...Fe],voteCount:He,previousVotes:F},elimination:void 0}}return Ll(j,mt,se)});break}case"CLEAR_VOTE":{if(!p)return;const{playerId:Y}=k.payload;ve(G=>{if(G.phase!=="voting"&&G.phase!=="tiebreaker"||!G.votes[Y]||G.confirmedVotes?.includes(Y))return G;const j={...G.votes};delete j[Y];const W=G.players.map(P=>{if(P.id===Y){const{vote:F,...se}=P;return se}return P});return{...G,votes:j,players:W}});break}case"CONFIRM_VOTE":{if(!p)return;const{playerId:Y}=k.payload;ve(G=>{if(G.phase!=="voting"&&G.phase!=="tiebreaker"||!G.votes[Y]||G.confirmedVotes?.includes(Y))return G;const j=[...G.confirmedVotes||[],Y],P=Hl(G).length,F=G.phase==="tiebreaker"&&G.tiebreaker?P-G.tiebreaker.tiedPlayers.length:P;if(G.allowVoteChange&&Object.keys(G.votes).length>=F&&j.length>=F){if(G.phase==="tiebreaker"){const{targetId:de,tie:Fe}=Il(G);return Fe||!de?{...G,votes:{},confirmedVotes:[],players:G.players.map(He=>{const{vote:le,...Xe}=He;return Xe}),phase:"reveal",tiebreaker:void 0,elimination:void 0}:Ll({...G,confirmedVotes:j},de,G.players)}const{targetId:ye,tie:me,tiedPlayers:ze,voteCount:mt}=Il(G);if(me||!ye){const de={},Fe=G.players.map(He=>{const le=He.vote,Xe=Array.isArray(ze)?ze:[],Ke=le&&Xe.includes(le)?le:void 0;return!Xe.includes(He.id)&&Ke&&(de[He.id]=Ke),{...He,vote:Ke}});return{...G,votes:de,confirmedVotes:[],players:Fe,phase:"tiebreaker",tiebreaker:{tiedPlayers:[...ze],voteCount:mt,previousVotes:G.votes},elimination:void 0}}return Ll({...G,confirmedVotes:j},ye,G.players)}return{...G,confirmedVotes:j}});break}case"READY_FOR_ROUND":{if(!p)return;const{playerId:Y,ready:G}=k.payload;ve(j=>{if(j.phase!=="wordReveal")return j;const W=j.players.map(P=>P.id===Y?{...P,readyForRound:G}:P);return{...j,players:W}});break}case"PLAYER_LEAVE":{if(!p)return;const{playerId:Y}=k.payload;ve(G=>{if(!G.players.some(P=>P.id===Y))return G;const j=G.players.filter(P=>P.id!==Y);let W={...G,players:j};if(G.phase==="clue"){const P=j.length?Ia({...G,players:j}):-1;W={...W,currentTurnIndex:P}}return W});break}}}})});return $l.current=M,()=>{$l.current&&(Ty(b,"value",$l.current),$l.current=null),Gt.current=null}},[qe,f,p,d,ve,u,a,Lt,fn,S,In]),J.useEffect(()=>{S&&cn.current&&p&&qe&&f&&In(cn.current)},[S,p,qe,f,In]);const br=J.useCallback(()=>{if(!qe){q("Configura las variables de entorno de Firebase antes de crear una sala.");return}const b=kf(a);if(!b){q("Introduce un nombre antes de crear una sala.");return}const M=NT(),N={id:u,name:b,isHost:!0,isImpostor:!1,alive:!0,readyForRound:!1};De(null),$e(!0),Yn(void 0),Nt(void 0),Pt(null);const O={code:M,topic:"",secretWord:"",selectedPlayer:void 0,selectedPlayerClue:void 0,showClue:!0,allowVoteChange:!0,singleWordOnly:!1,voteDisplayMode:"visible",hostId:u,impostorId:void 0,players:[N],phase:"lobby",currentTurnIndex:-1,firstSpeakerIndex:void 0,round:0,clues:[],votes:{},confirmedVotes:[],elimination:void 0,winner:void 0,updatedAt:Date.now()};x(O),cn.current=O,_(!0),h(M),q(null),setTimeout(()=>{qe&&In(O)},300)},[u,a,qe,In]),Sr=J.useCallback(async()=>{if(!qe){q("Configura Firebase antes de unirte a una sala.");return}const b=kf(a);if(!b){q("Introduce un nombre antes de unirte.");return}const M=zt.trim().toUpperCase();if(M.length!==3||!/^[A-Z][0-9]{2}$/.test(M)){q("Introduce un cdigo de sala vlido (1 letra + 2 nmeros, ej: A12).");return}_(!1),h(M),q("Unindose a la sala...");const N=zl(qe,`rooms/${M}/state`);let O=null;const U=await new Promise((k,ee)=>{O=Lf(N,Y=>{O&&(O(),O=null);const G=Y.val();console.log("Estado de la sala ledo:",G?"existe":"no existe"),k(G)},Y=>{console.error("Error al leer el estado de la sala:",Y),O&&(O(),O=null),ee(Y)},{onlyOnce:!0}),setTimeout(()=>{O&&(O(),O=null),ee(new Error("Timeout al leer el estado de la sala (5 segundos)"))},5e3)}).catch(k=>{throw O&&(O(),O=null),k});try{if(!U){q("La sala no existe."),Lt();return}const k=Wa(U);if(!k){q("Error al leer el estado de la sala."),Lt();return}if(k.players.some(W=>W.id===u)){q(null);return}if(k.players.length>=Ry){q("La sala est completa."),Lt();return}if(k.players.some(W=>W.name.toLowerCase()===b.toLowerCase())){q("El nombre ya est en uso."),Lt();return}const Y={id:u,name:b,isHost:!1,isImpostor:!1,alive:!0,readyForRound:!1},G={...k,players:[...k.players,Y],updatedAt:Date.now()},j=Di(G);console.log("Escribiendo estado actualizado en Firebase...",{roomCode:M,players:j.players?.length,phase:j.phase});try{await Ks(N,j),console.log("Estado escrito correctamente. El listener debera actualizar gameState automticamente.")}catch(W){throw console.error("Error al escribir en Firebase:",W),W}}catch(k){console.error("Error al unirse a la sala:",k);const ee=k?.message||"Error desconocido";ee.includes("permission")||ee.includes("Permission")?q("Error de permisos en Firebase. Verifica las reglas de seguridad."):ee.includes("Timeout")?q("Timeout: La sala no responde. Verifica que la sala existe y que Firebase est configurado correctamente."):q(`Error al unirse a la sala: ${ee}`),Lt()}},[zt,a,qe,u,Lt,Wa,Di]),Mi=J.useCallback(()=>{if(f)if(Lt(),p){if(!window.confirm("Cerrar sala? Esto expulsar a todos los jugadores."))return;if(qe&&f){const b=zl(qe,`rooms/${f}/state`);Ks(b,null).catch(M=>{console.error("Error eliminando sala:",M)})}}else qe&&f&&fn("PLAYER_LEAVE",{playerId:u})},[p,qe,u,Lt,f,fn]),Ja=J.useCallback(()=>{if(!d||!p)return;if(!ie){q("Selecciona una temtica antes de comenzar.");return}if(d.players.length<Hf){q(`Se necesitan al menos ${Hf} jugadores para empezar.`);return}const b=jl[ie],M=Ny(ie);if(!M){q("No hay jugadores disponibles para esta temtica.");return}ve(N=>{if(N.players.length===0)return N;const O=N.players.map(P=>{const{clue:F,vote:se,...ye}=P;return{...ye,alive:!0,isImpostor:!1,readyForRound:!1}}),U=Math.floor(Math.random()*O.length),k=O[U].id,ee=O.map((P,F)=>F===U?{...P,isImpostor:!0}:{...P,isImpostor:!1}),Y=ee.filter(P=>P.isImpostor).length;if(Y!==1){console.error("Error crtico: No se pudo asignar exactamente 1 impostor. Contador:",Y);const P=ee.map((se,ye)=>({...se,isImpostor:ye===U}));if(P.filter(se=>se.isImpostor).length!==1)return console.error("Error crtico: No se pudo corregir la asignacin del impostor"),N;O.length=0,O.push(...P)}else O.length=0,O.push(...ee);const G=O.map((P,F)=>P.alive?F:-1).filter(P=>P!==-1),j=Math.floor(Math.random()*G.length),W=G[j];return{...N,topic:b.name,secretWord:M.name,selectedPlayer:M.name,selectedPlayerClue:M.clue,showClue:we,allowVoteChange:Oe,singleWordOnly:Tt,voteDisplayMode:ce,timeLimit:Xt,votingTimeLimit:Kt,players:O,impostorId:k,phase:"wordReveal",currentTurnIndex:W,firstSpeakerIndex:W,round:1,clues:[],votes:{},elimination:void 0,winner:void 0}}),q("")},[d,p,ie,we,Oe,Tt,ce,Xt,Kt,ve]);J.useEffect(()=>{d&&p&&(dt(d.allowVoteChange??!0),xt(d.singleWordOnly??!1),At(d.voteDisplayMode??"visible"))},[d?.allowVoteChange,d?.singleWordOnly,d?.voteDisplayMode,p]);const $a=J.useCallback(()=>{!d||!p||ve(b=>{const M=b.firstSpeakerIndex!==void 0?b.firstSpeakerIndex:b.currentTurnIndex>=0?b.currentTurnIndex:void 0;return{...b,phase:"clue",currentTurnIndex:Ia(b),firstSpeakerIndex:M}})},[d,p,ve]);J.useEffect(()=>{if(!d||d.phase!=="wordReveal"){E(null);return}E(10);const b=setInterval(()=>{E(M=>M===null||M<=1?(clearInterval(b),p&&$a(),null):M-1)},1e3);return()=>{clearInterval(b),E(null)}},[d?.phase,d?.round,p,$a]);const es=J.useCallback(()=>{if(!d||!p)return;const b=Hl(d).length;if(Qn.length<b){q("An faltan pistas de algunos jugadores.");return}ve(N=>({...N,phase:"voting",votes:{},confirmedVotes:[],players:N.players.map(O=>{const{vote:U,...k}=O;return k}),currentTurnIndex:-1}))},[Qn.length,d,p,ve]),Fn=J.useCallback(()=>{p&&ve(b=>{if(b.phase!=="voting")return b;const{targetId:M,tie:N,tiedPlayers:O,voteCount:U}=Il(b);if(N||!M){const k={},ee=b.players.map(Y=>{const G=Y.vote,j=Array.isArray(O)?O:[],W=G&&j.includes(G)?G:void 0;return!j.includes(Y.id)&&W&&(k[Y.id]=W),{...Y,vote:W}});return{...b,votes:k,confirmedVotes:[],players:ee,phase:"tiebreaker",tiebreaker:{tiedPlayers:[...O],voteCount:U,previousVotes:b.votes},elimination:void 0}}return Ll(b,M,b.players)})},[p,ve]);J.useEffect(()=>{if(!d||d.phase!=="voting"||!d.votingTimeLimit){fe(null),wn.current=null;return}if(wn.current?.phase===d.phase&&wn.current?.round===d.round)return;wn.current={phase:d.phase,round:d.round},fe(d.votingTimeLimit);const b=setInterval(()=>{fe(M=>M===null||M<=1?(clearInterval(b),wn.current=null,p&&M!==null&&M<=1&&ve(N=>{if(N.phase!=="voting")return N;const O=Hl(N),U={...N.votes};let k=[...N.confirmedVotes||[]];O.forEach(W=>{if(!U[W.id]){const P=O.filter(F=>F.id!==W.id);if(P.length>0){const F=P[Math.floor(Math.random()*P.length)];U[W.id]=F.id}}N.allowVoteChange&&U[W.id]&&!k.includes(W.id)&&k.push(W.id)});const{targetId:ee,tie:Y,tiedPlayers:G,voteCount:j}=Il({...N,votes:U});return Y||!ee?{...N,votes:{},confirmedVotes:[],players:N.players.map(W=>{const P=W.vote,F=Array.isArray(G)?G:[],se=P&&F.includes(P)?P:void 0,{vote:ye,...me}=W;return{...me,vote:se}}),phase:"tiebreaker",tiebreaker:{tiedPlayers:[...G],voteCount:j,previousVotes:U},elimination:void 0}:Ll({...N,votes:U,confirmedVotes:k},ee,N.players)}),0):M-1)},1e3);return()=>{clearInterval(b)}},[d?.phase,d?.round,d?.votingTimeLimit,p,Fn,ve]),J.useEffect(()=>{if(!d||d.phase!=="clue"){Ae(null);return}const b=Hl(d),M=lu(d.clues,d.round);if(!(b.length>0&&b.every(U=>M.some(k=>k.playerId===U.id)))){Ae(null);return}Ae(5);const O=setInterval(()=>{Ae(U=>U===null||U<=1?(clearInterval(O),p&&U!==null&&U<=1&&es(),0):U-1)},1e3);return()=>{clearInterval(O),Ae(null)}},[d?.phase,d?.clues,d?.round,d?.players,p,es]);const st=J.useCallback(()=>{!d||!p||d.phase==="reveal"&&ve(b=>{if(b.winner)return{...b,phase:"lobby",votes:{},confirmedVotes:[],elimination:void 0,players:b.players.map(U=>{const{clue:k,vote:ee,...Y}=U;return{...Y,readyForRound:!1}})};const M=b.players.map(U=>{const{clue:k,vote:ee,...Y}=U;return{...Y,readyForRound:!1}}),N={...b,phase:"clue",round:b.round+1,players:M,votes:{},confirmedVotes:[],elimination:void 0},O=Ia({...N,currentTurnIndex:-1});return{...N,currentTurnIndex:O}})},[d,p,ve]);J.useEffect(()=>(d?.phase==="reveal"&&d.elimination?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d?.phase,d?.elimination]),J.useEffect(()=>{if(d?.phase!=="reveal"){Ri(0),Wl(!1);return}if(Ri(0),Wl(!1),d.elimination){const b=d.players.find(G=>G.id===d.elimination?.targetId),M=b&&d.elimination.wasImpostor?"era el impostor":b?"era inocente":"";if(!M||!b)return;const N=d.winner!==void 0;let O=0,U=null;const k=90;let ee=performance.now();const Y=G=>{const j=G-ee,W=Math.floor(j/k);if(W>O&&W<=M.length&&(O=W,Ri(O)),O>=M.length){Ri(M.length),setTimeout(()=>{Wl(!0),!N&&p&&setTimeout(()=>{st()},3e3)},1e3);return}U=requestAnimationFrame(Y)};return U=requestAnimationFrame(Y),()=>{U!==null&&cancelAnimationFrame(U)}}else{const b="No se ha eliminado a nadie",M=d.winner!==void 0;let N=0,O=null;const U=90;let k=performance.now();const ee=Y=>{const G=Y-k,j=Math.floor(G/U);if(j>N&&j<=b.length&&(N=j,Ri(N)),N>=b.length){Ri(b.length),setTimeout(()=>{Wl(!0),!M&&p&&setTimeout(()=>{st()},3e3)},1e3);return}O=requestAnimationFrame(ee)};return O=requestAnimationFrame(ee),()=>{O!==null&&cancelAnimationFrame(O)}}},[d?.phase,d?.elimination,d?.players,d?.winner,p,st]);const Ut=J.useCallback(b=>{const M=Dy(b);M&&fn("SUBMIT_CLUE",{playerId:u,word:M})},[u,fn]),ei=J.useCallback(b=>{if(u===b){q("No puedes votar a ti mismo.");return}if(!d?.confirmedVotes?.includes(u)&&!(!d?.allowVoteChange&&d?.votes[u])){if(d?.allowVoteChange&&d?.votes[u]===b){fn("CLEAR_VOTE",{playerId:u});return}fn("SUBMIT_VOTE",{voterId:u,targetId:b})}},[u,fn,d?.votes,d?.allowVoteChange,d?.confirmedVotes]),ta=J.useCallback(()=>{if(!d?.votes[u]){q("Debes votar antes de confirmar.");return}d?.confirmedVotes?.includes(u)||fn("CONFIRM_VOTE",{playerId:u})},[u,fn,d?.votes,d?.confirmedVotes]),Cr=b=>{Pt(et===b?null:b)},na=J.useCallback(b=>{et==="turno"?(Yn(b),p&&d&&ve&&ve(M=>({...M,timeLimit:b}))):et==="votaciones"&&(Nt(b),p&&d&&ve&&ve(M=>({...M,votingTimeLimit:b})))},[et,p,d,ve]),pl=()=>{if(et==="turno")return Xt;if(et==="votaciones")return Kt},wi=b=>b===void 0?" (sin lmite)":` (${b}s)`,ts=()=>g.jsxs("div",{className:"card",children:[g.jsx("h1",{children:"Impostor Online"}),g.jsx("div",{className:"logo-container",children:g.jsx("img",{src:"/impostor-logo-3d.png",alt:"Impostor Logo",className:"logo-3d"})}),g.jsx("p",{className:"subtitle",children:"3 a 6 jugadores"}),g.jsx("div",{className:"field-centered",children:g.jsx("input",{value:a,onChange:b=>n(b.target.value),placeholder:"Tu nombre",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true"})}),g.jsx("div",{className:"divider"}),g.jsxs("div",{className:"action-buttons",children:[g.jsx("button",{type:"button",className:"primary",onClick:br,disabled:!a.trim()||!qe,children:"Crear sala"}),g.jsxs("div",{className:"join-section",children:[g.jsx("div",{id:"room-code-input",className:"join-input code-editable",contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":"cdigo",onInput:b=>{const M=b.currentTarget;let N=M.textContent||"",O="";for(let U=0;U<N.length&&O.length<3;U++){const k=N[U];O.length===0?/[A-Za-z]/.test(k)&&(O+=k.toUpperCase()):/[0-9]/.test(k)&&(O+=k)}M.textContent=O,I(O),setTimeout(()=>{const U=document.createRange(),k=window.getSelection();U.selectNodeContents(M),U.collapse(!1),k?.removeAllRanges(),k?.addRange(U)},0)},onKeyDown:b=>{b.stopPropagation();const M=b.currentTarget,N=M.textContent||"";if(!["Backspace","Delete","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Enter"].includes(b.key)){if(N.length>=3){b.preventDefault();return}if(N.length===0){if(/[A-Za-z]/.test(b.key)){b.preventDefault();const O=b.key.toUpperCase();M.textContent=O,I(O),setTimeout(()=>{const U=document.createRange(),k=window.getSelection();U.selectNodeContents(M),U.collapse(!1),k?.removeAllRanges(),k?.addRange(U)},0)}else b.preventDefault();return}if(N.length>=1){if(/[0-9]/.test(b.key))return;b.preventDefault()}}},onPaste:b=>{b.preventDefault();const M=(b.clipboardData||window.clipboardData).getData("text");let N="";for(let O=0;O<M.length&&N.length<3;O++){const U=M[O];N.length===0?/[A-Za-z]/.test(U)&&(N+=U.toUpperCase()):/[0-9]/.test(U)&&(N+=U)}b.currentTarget.textContent=N,I(N),setTimeout(()=>{const O=b.currentTarget,U=document.createRange(),k=window.getSelection();U.selectNodeContents(O),U.collapse(!1),k?.removeAllRanges(),k?.addRange(U)},0)},style:{textTransform:"uppercase"},onFocus:b=>{b.stopPropagation(),setTimeout(()=>{const M=b.currentTarget,N=document.createRange(),O=window.getSelection();M.textContent&&(N.selectNodeContents(M),N.collapse(!1),O?.removeAllRanges(),O?.addRange(N))},0)},onMouseDown:b=>{b.stopPropagation()},onClick:b=>{b.stopPropagation(),setTimeout(()=>{const M=b.currentTarget,N=document.createRange(),O=window.getSelection();M.textContent&&(N.selectNodeContents(M),N.collapse(!1),O?.removeAllRanges(),O?.addRange(N))},0)}}),g.jsx("input",{type:"hidden",id:"room-code-hidden",value:zt,readOnly:!0,tabIndex:-1,style:{position:"absolute",left:"-9999px",opacity:0,pointerEvents:"none"}}),g.jsx("button",{type:"button",className:"secondary join-button",onClick:Sr,disabled:!a.trim()||zt.trim().length!==3||!/^[A-Z][0-9]{2}$/.test(zt.trim().toUpperCase()),children:"Unirse"})]}),g.jsx("button",{type:"button",className:"secondary",onClick:()=>lt(!0),disabled:!a.trim(),children:"Jugar en este dispositivo"})]}),!qe&&g.jsx("p",{className:"warning",children:"Configura las variables de entorno de Firebase (VITE_FIREBASE_*) para usar el modo online."}),g.jsx("div",{className:"credits",children:g.jsxs("div",{className:"credits-links",children:[g.jsx("a",{href:"https://github.com/arnau-sala/",target:"_blank",rel:"noopener noreferrer",className:"credit-link",children:"GitHub"}),g.jsx("a",{href:"https://instagram.com/arnausaala",onClick:b=>{const M=navigator.userAgent||navigator.vendor||window.opera,N=/android/i.test(M),O=/iPad|iPhone|iPod/.test(M)&&!window.MSStream;let U="";const k="https://instagram.com/arnausaala";if(N)U="intent://instagram.com/_u/arnausaala/#Intent;package=com.instagram.android;scheme=https;end";else if(O)U="instagram://user?username=arnausaala";else return;const ee=document.createElement("iframe");ee.style.display="none",ee.src=U,document.body.appendChild(ee),setTimeout(()=>{document.body.removeChild(ee),window.open(k,"_blank","noopener,noreferrer")},1e3),b.preventDefault()},target:"_blank",rel:"noopener noreferrer",className:"credit-link",children:"Instagram"}),g.jsx("a",{href:"mailto:arnausalaaraujo@gmail.com?subject=[De Impostor]",className:"credit-link",children:"Email"}),g.jsx("a",{href:"https://github.com/arnau-sala/impostor/issues/new",target:"_blank",rel:"noopener noreferrer",className:"credit-link",children:"Feedback"})]})})]}),ti=()=>{const b=kf(fl);if(b){if(bt.length>=6){q("Mximo 6 jugadores.");return}if(bt.some(M=>M.toLowerCase()===b.toLowerCase())){q("Ese nombre ya est en la lista.");return}cl([...bt,b]),Xl("")}},Oi=b=>{cl(bt.filter((M,N)=>N!==b))},gl=()=>{if(bt.length<3){q("Se necesitan al menos 3 jugadores.");return}Jn("config"),q(null)},zi=()=>{if(!ie){q("Selecciona una temtica.");return}const b=jl[ie],M=Ny(ie);if(!M){q("No hay jugadores disponibles para esta temtica.");return}const N=bt.map((ee,Y)=>({id:`local-${Y}-${Date.now()}`,name:ee,isImpostor:!1})),O=Math.floor(Math.random()*N.length),U=N[O].id;N[O].isImpostor=!0;const k=Math.floor(Math.random()*N.length);yr({topic:b.name,secretWord:M.name,selectedPlayerClue:M.clue,showClue:we,impostorId:U,players:N,firstSpeakerIndex:k}),dl(0),Jn("reveal"),q(null)},ht=()=>{Sn<bt.length-1?(dl(Sn+1),Ni(!1),Zl(!1)):(Jn("game"),Ni(!1),Zl(!1))},Er=()=>{Xl(""),dl(0),yr(null),Jn("config"),De(null),$e(!0),Ni(!1),Zl(!1),q(null)},Tr=()=>g.jsxs("div",{className:"card",children:[g.jsxs("header",{className:"header",children:[g.jsx("h2",{children:"Jugadores"}),g.jsx("button",{type:"button",className:"close-button",onClick:()=>lt(!1),"aria-label":"Cerrar",children:""})]}),g.jsx("p",{style:{textAlign:"center",color:"#a5b4fc",marginBottom:"20px",marginTop:"40px"},children:"Introduce los nombres de los jugadores (3-6)"}),g.jsxs("div",{style:{marginBottom:"12px",display:"flex",gap:"8px",alignItems:"center"},children:[g.jsx("input",{value:fl,onChange:b=>Xl(b.target.value),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),ti())},placeholder:" Nombre del jugador",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:20,style:{height:"28px",padding:"4px 8px",fontSize:"0.9rem",flex:1}}),g.jsx("button",{type:"button",className:"button",onClick:ti,disabled:!fl.trim()||bt.length>=6,style:{minHeight:"54px",height:"54px",padding:"2px 8px",fontSize:"0.75rem",minWidth:"120px",width:"120px",color:"666"},children:"Aadir"})]}),bt.length>0&&g.jsxs("section",{style:{marginBottom:"20px"},children:[g.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"12px",color:"#e0e7ff"},children:["Lista de jugadores (",bt.length,"/6)"]}),g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:bt.map((b,M)=>g.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",marginBottom:"6px",backgroundColor:"rgba(139, 92, 246, 0.1)",borderRadius:"6px",border:"1px solid rgba(139, 92, 246, 0.2)",position:"relative"},children:[g.jsx("span",{style:{color:"#e0e7ff",fontWeight:500},children:b}),g.jsx("button",{type:"button",onClick:()=>Oi(M),style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"1.2rem",lineHeight:1,padding:"2px",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background-color 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)"},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="transparent"},children:""})]},M))})]}),g.jsx("footer",{className:"footer",children:g.jsx("button",{type:"button",className:"button primary",onClick:gl,disabled:bt.length<3,children:"Empezar partida"})})]}),ni=()=>g.jsxs("div",{className:"card",children:[g.jsxs("header",{className:"header",children:[g.jsx("h2",{children:"Configuracin de la partida"}),g.jsx("button",{type:"button",className:"close-button",onClick:()=>Jn("players"),"aria-label":"Volver",children:""})]}),g.jsxs("section",{style:{marginBottom:"24px"},children:[g.jsx("h3",{style:{fontSize:"1rem",marginBottom:"12px",color:"#e0e7ff",marginTop:"20px"},children:"Temtica"}),g.jsx("div",{className:"topic-buttons",children:Object.values(jl).map(b=>g.jsxs("button",{type:"button",className:`topic-button ${ie===b.id?"selected":""}`,onClick:()=>De(b.id),disabled:!b.hasPlayers,children:[g.jsx("span",{className:"topic-icon",children:g.jsx("img",{src:`/${b.id}.png`,alt:b.name,className:"topic-icon-img"})}),g.jsx("span",{className:"topic-name",children:b.name})]},b.id))})]}),g.jsxs("section",{style:{marginBottom:"24px"},children:[g.jsx("h3",{style:{fontSize:"1rem",marginBottom:"12px",color:"#e0e7ff"},children:"Pista"}),g.jsxs("div",{style:{display:"flex",gap:"12px"},children:[g.jsx("button",{type:"button",className:`button ${we?"primary":""}`,onClick:()=>$e(!0),style:{flex:1},children:"S"}),g.jsx("button",{type:"button",className:`button ${we?"":"primary"}`,onClick:()=>$e(!1),style:{flex:1},children:"No"})]})]}),g.jsx("footer",{className:"footer",children:g.jsx("button",{type:"button",className:"button primary",onClick:zi,disabled:!ie,children:"Empezar partida"})})]}),ji=()=>{if(!Wt)return null;const b=Wt.players[Sn],M=b.id===Wt.impostorId,N=Sn===bt.length-1;return g.jsxs("div",{className:"card",children:[g.jsx("header",{className:"header",style:{justifyContent:"center",marginTop:"20px"},children:g.jsx("h2",{children:b.name})}),g.jsxs("section",{className:"reveal",style:{minHeight:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[g.jsx("p",{style:{fontSize:"1.2rem",color:"#a5b4fc",textAlign:"center",marginBottom:"20px"},children:"Haz clic para ver la palabra"}),g.jsx("div",{style:{width:"300px",height:"300px",borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",userSelect:"none",touchAction:"manipulation",marginTop:"20px"},onClick:()=>{_r||Zl(!0),Ni(!Kl)},children:Kl?M?g.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"2px solid rgba(239, 68, 68, 0.3)"},children:[g.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.1rem"},children:Wt.showClue&&Wt.selectedPlayerClue?g.jsxs(g.Fragment,{children:["Pista: ",g.jsx("span",{style:{fontWeight:"normal",fontSize:"0.9em"},children:Wt.selectedPlayerClue})]}):"No hay pista"}),g.jsx("p",{className:"keyword",style:{fontSize:"1.8rem",margin:0},children:"IMPOSTOR"})]}):g.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"12px",backgroundColor:"rgba(139, 92, 246, 0.1)",border:"2px solid rgba(139, 92, 246, 0.3)"},children:[g.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.1rem"},children:"Jugador secreto"}),g.jsx("p",{className:"keyword",style:{fontSize:"1.8rem",margin:0},children:Wt.secretWord})]}):g.jsx("div",{style:{width:"100%",height:"100%",border:"2px dashed rgba(139, 92, 246, 0.4)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(139, 92, 246, 0.05)"},children:g.jsx("span",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"Haz clic aqu"})})})]}),_r&&g.jsx("footer",{className:"footer",children:g.jsx("button",{type:"button",className:"button primary",onClick:ht,children:N?"Jugar":"Siguiente jugador"})})]})},gu=()=>{if(!Wt)return null;const b=Wt.players[Wt.firstSpeakerIndex];return g.jsxs("div",{className:"card",children:[g.jsx("header",{className:"header",style:{justifyContent:"center"},children:g.jsx("h2",{children:"Empieza la partida!"})}),g.jsxs("section",{style:{textAlign:"center",padding:"40px 20px"},children:[g.jsx("p",{style:{fontSize:"1.2rem",color:"#a5b4fc",marginBottom:"20px"},children:"El primer jugador en hablar es:"}),g.jsx("h2",{style:{fontSize:"2rem",color:"#e0e7ff",marginBottom:"30px"},children:b.name}),g.jsx("p",{style:{fontSize:"1rem",color:"#6b7280"},children:"Los jugadores se encargarn de gestionar los turnos y las votaciones."})]}),g.jsx("footer",{className:"footer",children:g.jsx("button",{type:"button",className:"button primary",onClick:Er,children:"Nueva partida"})})]})},xr=()=>{if(!d)return g.jsxs("div",{className:"card",children:[g.jsx("header",{className:"header",children:g.jsx("h2",{children:"Cargando sala..."})}),g.jsx("p",{className:"waiting",children:"Preparando la sala..."})]});const M=d.players.find(N=>N.id===d.hostId)?.id===u;return g.jsxs("div",{className:"card",children:[g.jsx("header",{className:"header",children:g.jsx("button",{type:"button",className:"close-button",onClick:Mi,"aria-label":"Cerrar",children:""})}),g.jsxs("section",{className:"room-code-section",children:[g.jsx("p",{className:"room-code-label",children:"Cdigo de sala"}),g.jsx("div",{className:"room-code-display",children:d.code}),M&&g.jsx("p",{className:"room-code-hint",children:"Comparte este cdigo para invitar a tus amigos"})]}),g.jsxs("section",{className:"players",children:[g.jsxs("h3",{children:["Jugadores (",d.players.length,"/",Ry,")"]}),g.jsx("ul",{className:"non-interactive",children:d.players.map(N=>g.jsxs("li",{children:[g.jsx("span",{children:N.name}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[N.id===u&&g.jsx("span",{className:"badge badge-you",children:"T"}),N.id===d.hostId&&g.jsx("span",{className:"badge",children:"Anfitrin"})]})]},N.id))})]}),M?g.jsxs("section",{className:"host-panel",children:[g.jsxs("label",{className:"field",children:[g.jsx("span",{children:"Temtica"}),g.jsx("div",{className:"topic-buttons",children:Object.values(jl).map(N=>g.jsxs("button",{type:"button",className:`topic-button ${ie===N.id?"selected":""}`,onClick:()=>{const O=N.id;De(O),p&&d&&ve&&ve(U=>({...U,topic:N.name}))},disabled:!N.hasPlayers,children:[g.jsx("span",{className:"topic-icon",children:g.jsx("img",{src:`/${N.id}.png`,alt:N.name,className:"topic-icon-img"})}),g.jsx("span",{className:"topic-name",children:N.name})]},N.id))})]}),g.jsxs("label",{className:"field personalization-field",children:[g.jsx("span",{children:"PERSONALIZACIN"}),g.jsxs("div",{className:"personalization-grid",children:[g.jsxs("div",{className:`personalization-button ${we?"active":"inactive"}`,onClick:()=>{const N=!we;$e(N),p&&d&&ve&&ve(O=>({...O,showClue:N}))},children:[g.jsx("div",{className:"personalization-icon",children:g.jsx("img",{src:we?"/pista.png":"/sinPista.png",alt:we?"Pista activada":"Pista desactivada",className:"personalization-icon-img"})}),g.jsx("span",{className:"personalization-label",children:we?"Pista":"Sin pista"})]}),g.jsxs("div",{className:`personalization-button ${Oe?"active":"inactive"}`,onClick:()=>{const N=!Oe;dt(N),p&&d&&ve&&ve(O=>({...O,allowVoteChange:N}))},children:[g.jsx("div",{className:"personalization-icon",children:g.jsx("img",{src:Oe?"/cambioVoto.png":"/sinCambioVoto.png",alt:Oe?"Cambiar voto activado":"Cambiar voto desactivado",className:"personalization-icon-img"})}),g.jsx("span",{className:"personalization-label",children:Oe?"Cambiar voto":"Sin cambio"})]}),g.jsxs("div",{className:`personalization-button ${Tt?"inactive":"active"}`,onClick:()=>{const N=!Tt;xt(N),p&&d&&ve&&ve(O=>({...O,singleWordOnly:N}))},children:[g.jsx("div",{className:"personalization-icon",children:g.jsx("img",{src:Tt?"/soloUnaPalabra.png":"/masDeUnaPalabra.png",alt:Tt?"Una palabra":"Palabras",className:"personalization-icon-img"})}),g.jsx("span",{className:"personalization-label",children:Tt?"Una palabra":"Palabras"})]}),g.jsxs("div",{className:`personalization-button ${ce!=="hidden"?"active":"inactive"}`,onClick:()=>{const N=ce==="hidden"?"count":ce==="count"?"visible":"hidden";At(N),p&&d&&ve&&ve(O=>({...O,voteDisplayMode:N}))},children:[g.jsx("div",{className:"personalization-icon",children:g.jsx("img",{src:ce==="hidden"?"/votosOcultos.png":ce==="count"?"/recuentoVisible.png":"/votosVisibles.png",alt:ce==="hidden"?"Votos ocultos":ce==="count"?"Recuento":"Votos visibles",className:"personalization-icon-img"})}),g.jsx("span",{className:"personalization-label",children:ce==="hidden"?"Votos ocultos":ce==="count"?"Recuento":"Votos visibles"})]})]})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:"Tiempo"}),g.jsxs("div",{className:"time-tabs","data-active":et||"none",children:[g.jsx("div",{className:"time-tab-container",children:g.jsxs("button",{type:"button",className:`time-tab ${et==="turno"?"active":""}`,onClick:()=>Cr("turno"),children:["Turno",wi(Xt)]})}),g.jsx("div",{className:"time-tab-container",children:g.jsxs("button",{type:"button",className:`time-tab ${et==="votaciones"?"active":""}`,onClick:()=>Cr("votaciones"),children:["Votaciones",wi(Kt)]})})]}),g.jsxs("div",{className:"time-buttons",children:[g.jsx("button",{type:"button",className:`time-button ${et!==null&&pl()===void 0?"selected":""}`,onClick:()=>na(void 0),disabled:et===null,children:"Sin lmite"}),g.jsx("button",{type:"button",className:`time-button ${et!==null&&pl()===15?"selected":""}`,onClick:()=>na(15),disabled:et===null,children:"15s"}),g.jsx("button",{type:"button",className:`time-button ${et!==null&&pl()===30?"selected":""}`,onClick:()=>na(30),disabled:et===null,children:"30s"}),g.jsx("button",{type:"button",className:`time-button ${et!==null&&pl()===60?"selected":""}`,onClick:()=>na(60),disabled:et===null,children:"60s"})]})]}),g.jsx("button",{type:"button",className:"primary",onClick:Ja,disabled:d.players.length<Hf||!ie||!jl[ie]?.hasPlayers,children:"Empezar partida"})]}):g.jsxs("section",{className:"guest-summary",children:[g.jsx("h3",{children:"Configuracin de la partida"}),g.jsxs("div",{className:"summary-container",children:[g.jsx("div",{className:"summary-topic-card",children:d.topic&&Object.values(jl).find(N=>N.name===d.topic)?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"summary-topic-icon",children:g.jsx("img",{src:`/${Object.values(jl).find(N=>N.name===d.topic).id}.png`,alt:d.topic,className:"summary-topic-icon-img"})}),g.jsx("span",{className:"summary-topic-name",children:d.topic})]}):g.jsx("span",{className:"summary-topic-name summary-topic-name-centered",children:"Categora no seleccionada"})}),g.jsxs("div",{className:"summary-options-grid",children:[g.jsxs("div",{className:"summary-option-card",children:[g.jsx("div",{className:"summary-option-icon",children:g.jsx("img",{src:d.showClue?"/pista.png":"/sinPista.png",alt:d.showClue?"Pista activada":"Pista desactivada",className:"summary-option-icon-img"})}),g.jsx("span",{className:"summary-option-label",children:d.showClue?"Con pista":"Sin pista"})]}),g.jsxs("div",{className:"summary-option-card",children:[g.jsx("div",{className:"summary-option-icon",children:g.jsx("img",{src:d.allowVoteChange?"/cambioVoto.png":"/sinCambioVoto.png",alt:d.allowVoteChange?"Cambiar voto activado":"Cambiar voto desactivado",className:"summary-option-icon-img"})}),g.jsx("span",{className:"summary-option-label",children:d.allowVoteChange?"Cambiar voto":"Sin cambio"})]}),g.jsxs("div",{className:"summary-option-card",children:[g.jsx("div",{className:"summary-option-icon",children:g.jsx("img",{src:d.singleWordOnly?"/soloUnaPalabra.png":"/masDeUnaPalabra.png",alt:d.singleWordOnly?"Una palabra":"Palabras",className:"summary-option-icon-img"})}),g.jsx("span",{className:"summary-option-label",children:d.singleWordOnly?"Una palabra":"Palabras"})]}),g.jsxs("div",{className:"summary-option-card",children:[g.jsx("div",{className:"summary-option-icon",children:g.jsx("img",{src:d.voteDisplayMode==="hidden"?"/votosOcultos.png":d.voteDisplayMode==="count"?"/recuentoVisible.png":"/votosVisibles.png",alt:d.voteDisplayMode==="hidden"?"Votos ocultos":d.voteDisplayMode==="count"?"Recuento":"Votos visibles",className:"summary-option-icon-img"})}),g.jsx("span",{className:"summary-option-label",children:d.voteDisplayMode==="hidden"?"Votos ocultos":d.voteDisplayMode==="count"?"Recuento":"Votos visibles"})]}),g.jsxs("div",{className:"summary-option-card time-card",children:[g.jsx("div",{className:"summary-option-icon",children:g.jsx("img",{src:"/turno.png",alt:"Turno",className:"summary-option-icon-img"})}),g.jsx("span",{className:"summary-option-label",children:d.timeLimit!==void 0?`${d.timeLimit}s`:"Sin lmite"})]}),g.jsxs("div",{className:"summary-option-card time-card",children:[g.jsx("div",{className:"summary-option-icon",children:g.jsx("img",{src:"/votacion.png",alt:"Votacin",className:"summary-option-icon-img"})}),g.jsx("span",{className:"summary-option-label",children:d.votingTimeLimit!==void 0?`${d.votingTimeLimit}s`:"Sin lmite"})]})]})]}),g.jsx("p",{className:"waiting",children:"Esperando a que el anfitrin inicie la partida"})]})]})},Ar=()=>{if(!d||!Yt)return null;const b=My(d),M=d.impostorId?Yt.id===d.impostorId:!1;return g.jsxs("div",{className:"card",children:[g.jsx("header",{className:"header",children:g.jsx("button",{type:"button",className:"close-button",onClick:Mi,"aria-label":"Cerrar",children:""})}),g.jsxs("section",{className:"reveal",children:[g.jsxs("p",{className:"topic",children:["Temtica: ",g.jsx("strong",{children:d.topic})]}),M?g.jsxs("div",{className:"impostor-card",children:[g.jsx("h3",{children:d.showClue&&d.selectedPlayerClue?g.jsxs(g.Fragment,{children:["Pista: ",g.jsx("span",{style:{fontWeight:"normal",fontSize:"0.9em"},children:d.selectedPlayerClue})]}):"No hay pista"}),g.jsx("p",{className:"keyword",children:"IMPOSTOR"})]}):g.jsxs("div",{className:"keyword-card",children:[g.jsx("h3",{children:"Jugador secreto"}),g.jsx("p",{className:"keyword",children:d.secretWord})]}),Be!==null&&g.jsxs("div",{className:"countdown-container",children:[g.jsx("p",{className:"countdown-label",children:"Empezando en..."}),g.jsx("div",{className:"countdown-number",children:Be})]}),g.jsxs("div",{className:"player-order-container",children:[g.jsx("p",{className:"player-order-label",children:"Orden de turnos:"}),g.jsx("div",{className:"player-order-list",children:b.map((N,O)=>g.jsxs("div",{className:"player-order-item",children:[g.jsxs("span",{className:"player-order-number",children:[O+1,"."]}),g.jsx("span",{className:"player-order-name",children:N.name}),N.id===u&&g.jsx("span",{className:"badge badge-you",children:"T"})]},N.id))})]})]})]})},yu=()=>{if(!d||!Yt)return null;const b=d.currentTurnIndex>=0?d.players[d.currentTurnIndex]:null,M=b?.id===u,N=F=>{F.preventDefault(),Ut(K),ae(""),xe.current=""},O=(F,se)=>{const ye=F/se;if(ye>.5)return"linear-gradient(90deg, rgba(139, 92, 246, 0.8) 0%, rgba(99, 102, 241, 0.8) 50%, rgba(139, 92, 246, 0.8) 100%)";{const me=1-ye*2,ze=Math.round(139+100*me),mt=Math.round(92+-24*me),de=Math.round(246+-178*me);return`linear-gradient(90deg, rgba(${ze}, ${mt}, ${de}, 0.8) 0%, rgba(${Math.round(ze*.7)}, ${Math.round(mt*.7)}, ${Math.round(de*.7)}, 0.8) 50%, rgba(${ze}, ${mt}, ${de}, 0.8) 100%)`}},k=My(d).filter(F=>F.alive),ee=new Map(Qn.map(F=>[F.playerId,F.word])),Y=d.clues.filter(F=>F.round<d.round),G=new Map;Y.forEach(F=>{G.has(F.playerId)||G.set(F.playerId,[]),G.get(F.playerId).push({word:F.word,round:F.round,createdAt:F.createdAt})}),G.forEach(F=>{F.sort((se,ye)=>se.round-ye.round||se.createdAt-ye.createdAt)});const j=F=>{const se=ee.get(F);return se||"-"},W=F=>(G.get(F)||[]).map(ye=>ye.word),P=d.players.filter(F=>F.isImpostor).length;return g.jsxs("div",{className:"card",children:[g.jsxs("header",{className:"header",children:[g.jsxs("div",{children:[g.jsxs("h2",{children:["Ronda ",d.round]}),g.jsxs("p",{className:"subtitle",children:["Tema: ",d.topic]})]}),g.jsx("button",{type:"button",className:"close-button",onClick:Mi,"aria-label":"Cerrar",children:""})]}),g.jsxs("div",{className:"game-info-bar",style:{marginBottom:"4px"},children:[g.jsxs("div",{className:"info-item",children:[g.jsx("span",{className:"info-label",children:"Impostores:"}),g.jsx("span",{className:"info-value",children:P})]}),g.jsx("div",{className:"info-divider"}),g.jsxs("div",{className:"info-item",children:[g.jsx("span",{className:"info-label",children:"Pista:"}),g.jsx("span",{className:"info-value",children:d.showClue?"S":"No"})]}),g.jsx("div",{className:"info-divider"}),g.jsxs("div",{className:"info-item",children:[g.jsx("span",{className:"info-label",children:"Respuestas:"}),g.jsx("span",{className:"info-value",children:d.timeLimit?`${d.timeLimit}s`:"Sin lmite"})]})]}),g.jsx("div",{className:"game-info-bar",style:{cursor:"pointer",userSelect:"none",touchAction:"manipulation",background:Pl?"rgba(139, 92, 246, 0.15)":"rgba(139, 92, 246, 0.06)",borderColor:Pl?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.15)",transition:"background 0.2s ease, border-color 0.2s ease",margin:"0 0 12px 0"},onMouseDown:()=>$n(!0),onMouseUp:()=>$n(!1),onMouseLeave:()=>$n(!1),onTouchStart:()=>$n(!0),onTouchEnd:()=>$n(!1),onTouchCancel:()=>$n(!1),children:g.jsx("div",{className:"info-item",style:{flex:1,justifyContent:"center"},children:Pl?g.jsx("span",{className:"info-value",style:{fontSize:"0.8rem"},children:Yt.isImpostor||d.impostorId&&Yt.id===d.impostorId?`IMPOSTOR${d.showClue&&d.selectedPlayerClue?` (${d.selectedPlayerClue})`:""}`:d.secretWord}):g.jsx("span",{className:"info-label",style:{fontSize:"0.8rem"},children:"Mantn presionado para mostrar jugador"})})}),g.jsx("h3",{style:{textAlign:"center",margin:"16px 0 12px 0",color:"#e0e7ff"},children:"Respuestas"}),g.jsx("section",{className:"clues",children:g.jsx("ul",{children:k.map(F=>{const se=F.id===u,ye=j(F.id),me=W(F.id);return g.jsxs("li",{children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[g.jsx("span",{className:"author",children:F.name}),se&&g.jsx("span",{className:"badge badge-you",children:"T"}),me.length>0&&g.jsx("span",{style:{fontSize:"0.85rem",color:"#a5b4fc",marginLeft:"auto",fontStyle:"italic"},children:me.join(", ")})]}),g.jsx("span",{className:"word",children:ye})]},F.id)})})}),b?M?g.jsxs("section",{className:"turn",children:[g.jsxs("p",{children:["Turno de ",g.jsx("strong",{children:b.name})]}),d.timeLimit&&H!==null&&!Bo(d,b.id)&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx("div",{className:"turn-timer-bar",style:{flex:1},children:g.jsx("div",{className:"turn-timer-progress",style:{width:`${H/d.timeLimit*100}%`,transition:"width 1s linear, background 0.5s ease",background:O(H,d.timeLimit)}})}),g.jsxs("span",{style:{color:"#a78bfa",fontSize:"0.9rem",fontWeight:600,minWidth:"30px",textAlign:"right"},children:[H,"s"]})]}),g.jsxs("form",{className:"form-inline",onSubmit:N,children:[g.jsxs("div",{style:{position:"relative",flex:1,minWidth:0},children:[g.jsx("input",{autoFocus:!0,value:K,onChange:F=>{const se=F.target.value;se.length<=30&&(d?.singleWordOnly?se.trim().split(/\s+/).length<=1&&(ae(se),xe.current=se):(ae(se),xe.current=se))},placeholder:"Tu pista",autoComplete:"off","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",maxLength:30,style:{paddingRight:"50px"}}),K.length>20&&g.jsxs("span",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"0.75rem",color:"#9ca3af",pointerEvents:"none",lineHeight:"1.2"},children:[K.length,"/30"]})]}),g.jsx("button",{type:"submit",className:"primary",disabled:!K.trim(),children:"Enviar"})]})]}):g.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[g.jsxs("p",{style:{margin:"0 0 8px 0",color:"#e0e7ff",fontSize:"1rem"},children:["Turno de ",g.jsx("strong",{children:b.name})]}),g.jsx("p",{style:{margin:0,color:"#a5b4fc",fontSize:"0.9rem"},children:"Esperando su respuesta"})]}):null,ge!==null&&ge>0&&g.jsxs("div",{className:"countdown-container",children:[g.jsx("p",{className:"countdown-label",children:"Abriendo votaciones en..."}),g.jsx("div",{className:"countdown-number",children:ge})]})]})},ia=()=>{if(!d||!Yt)return null;const b=d.clues.filter(j=>j.round<=d.round),M=new Map;b.forEach(j=>{M.has(j.playerId)||M.set(j.playerId,[]),M.get(j.playerId).push({word:j.word,round:j.round,createdAt:j.createdAt})}),M.forEach(j=>{j.sort((W,P)=>W.round-P.round||W.createdAt-P.createdAt)});const N=[...Qn].sort((j,W)=>j.createdAt-W.createdAt),O=N.map(j=>{const W=jn.find(ye=>ye.id===j.playerId);if(!W)return null;const P=M.get(W.id)||[],F=P[P.length-1]?.word||"-",se=P.slice(0,-1);return{player:W,clue:F,allWords:P,previousWords:se,createdAt:j.createdAt}}).filter(j=>j!==null),U=jn.filter(j=>!N.some(W=>W.playerId===j.id)).map(j=>{const W=M.get(j.id)||[],P=W[W.length-1]?.word||"-",F=W.slice(0,-1);return{player:j,clue:P,allWords:W,previousWords:F,createdAt:1/0}}),k=[...O,...U].sort((j,W)=>j.createdAt-W.createdAt),ee=!!d.votes[u],Y=j=>Object.entries(d.votes).filter(([,W])=>W===j).map(([W])=>{const P=d.players.find(F=>F.id===W);return P?P.name:W}),G=(j,W)=>{const P=j/W;if(P>.5)return"linear-gradient(90deg, rgba(139, 92, 246, 0.8) 0%, rgba(139, 92, 246, 0.6) 50%, rgba(139, 92, 246, 0.8) 100%)";{const F=1-P*2,se=Math.round(139+81*F),ye=Math.round(92+-54*F),me=Math.round(246+-208*F);return`linear-gradient(90deg, rgba(${se}, ${ye}, ${me}, 0.8) 0%, rgba(${Math.round(se*.7)}, ${Math.round(ye*.7)}, ${Math.round(me*.7)}, 0.8) 50%, rgba(${se}, ${ye}, ${me}, 0.8) 100%)`}};return g.jsxs("div",{className:"card",children:[g.jsxs("header",{className:"header",children:[g.jsx("h2",{children:"Votacin"}),g.jsx("button",{type:"button",className:"close-button",onClick:Mi,"aria-label":"Cerrar",children:""})]}),d.votingTimeLimit&&$!==null&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",margin:"16px 0 24px 0"},children:[g.jsx("div",{className:"turn-timer-bar",style:{flex:1},children:g.jsx("div",{className:"turn-timer-progress",style:{width:`${$/d.votingTimeLimit*100}%`,transition:"width 1s linear, background 0.5s ease",background:G($,d.votingTimeLimit)}})}),g.jsxs("span",{style:{color:"#a78bfa",fontSize:"0.9rem",fontWeight:600,minWidth:"30px",textAlign:"right"},children:[$,"s"]})]}),g.jsx("section",{className:"vote-grid",style:{marginTop:d.votingTimeLimit&&$!==null?"0":"24px"},children:k.map(({player:j,clue:W,allWords:P,previousWords:F})=>{const se=j.id===u,ye=Object.values(d.votes).filter(Xe=>Xe===j.id).length,me=Y(j.id),ze=Yt.vote===j.id,mt=d.confirmedVotes?.includes(u)??!1,de=!d.allowVoteChange&&ee&&!ze||mt&&!ze,Fe=d.voteDisplayMode!=="hidden",He=d.voteDisplayMode==="visible",le=Fe;return g.jsxs("button",{type:"button",className:`vote-card${ze?" selected":""}${se?" disabled":""}${de?" locked":""}`,onClick:()=>!se&&!de&&ei(j.id),disabled:se||de,style:{display:le?"grid":"flex",gridTemplateColumns:le?"1fr 1fr":void 0,gridTemplateRows:le?"auto auto":void 0,flexDirection:le?void 0:"row",alignItems:le?"start":"center",justifyContent:le?"stretch":"center",gap:le?"8px 12px":"16px",padding:"12px 16px",textAlign:le?"left":"center",alignContent:le?"stretch":void 0},children:[g.jsx("div",{style:{fontSize:"1.05rem",fontWeight:600,color:"#e0e7ff",gridColumn:le?"1":void 0,gridRow:le?"1":void 0},children:j.name}),Fe&&g.jsx("div",{style:{gridColumn:le?"2":void 0,gridRow:le?"1":void 0,textAlign:"right",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",gap:"2px"},children:g.jsx("div",{style:{fontSize:"2rem",color:"#a78bfa",fontWeight:700,lineHeight:"1"},children:ye})}),g.jsx("div",{style:{fontSize:"0.9rem",color:"#a5b4fc",gridColumn:le?"1":void 0,gridRow:le?"2":void 0,textAlign:le?"left":"center",display:"flex",flexDirection:"column",gap:"4px"},children:(()=>{const Xe=F||[],St=(P&&P.length>0?P[P.length-1]:null)?.word||W;return Xe.length===0?g.jsx("span",{children:St}):g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[Xe.length>0&&g.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[g.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:500,whiteSpace:"nowrap"},children:"Anteriores:"}),g.jsx("span",{style:{fontSize:"0.85rem",color:"#a5b4fc",fontWeight:400},children:Xe.map(hn=>hn.word).join(", ")})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[g.jsx("span",{style:{fontSize:"0.75rem",color:"#a78bfa",fontWeight:600,whiteSpace:"nowrap"},children:"ltima:"}),g.jsx("span",{style:{fontSize:"1rem",color:"#e0e7ff",fontWeight:700},children:St})]})]})})()}),He&&g.jsx("div",{style:{gridColumn:le?"2":void 0,gridRow:le?"2":void 0,textAlign:le?"right":"center",fontSize:"0.7rem",color:"#9ca3af",lineHeight:"1.2",maxWidth:"120px",wordBreak:"break-word",marginLeft:le?"auto":void 0},children:me.length>0?me.join(", "):"Sin votos"})]},j.id)})}),d.allowVoteChange&&g.jsxs("div",{style:{marginTop:"24px",display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[g.jsx("button",{type:"button",className:"button primary",onClick:ta,disabled:!ee||(d.confirmedVotes?.includes(u)??!1),style:{opacity:!ee||(d.confirmedVotes?.includes(u)??!1)?.5:1,cursor:!ee||(d.confirmedVotes?.includes(u)??!1)?"not-allowed":"pointer"},children:d.confirmedVotes?.includes(u)?"Voto confirmado":"Confirmar voto"}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"#a5b4fc",textAlign:"center"},children:[d.confirmedVotes?.length??0," votacin",d.confirmedVotes?.length!==1?"es":""," confirmada",(d.confirmedVotes?.length??0)!==1?"s":""]})]})]})},la=()=>{if(!d||!Yt||!d.tiebreaker)return null;const{tiedPlayers:b,voteCount:M,previousVotes:N}=d.tiebreaker,O=b.includes(u),U=b.map(de=>d.players.find(Fe=>Fe.id===de)?.name).filter(Boolean),k=U.length===2?`${U[0]} y ${U[1]} han empatado con ${M} ${M===1?"voto":"votos"}`:U.length===3?`${U[0]}, ${U[1]} y ${U[2]} han empatado con ${M} ${M===1?"voto":"votos"}`:`${U.join(", ")} han empatado con ${M} ${M===1?"voto":"votos"}`,ee=jn.filter(de=>b.includes(de.id)),Y=[...Qn].sort((de,Fe)=>de.createdAt-Fe.createdAt),G=new Map(Y.map(de=>[de.playerId,de])),j=(de,Fe=!1)=>{const He=Fe?N:d.votes;return Object.entries(He).filter(([,le])=>le===de).map(([le])=>{const Xe=d.players.find(Ke=>Ke.id===le);return Xe?Xe.name:le})},W=(de,Fe)=>{const He=de/Fe;if(He>.5)return"linear-gradient(90deg, rgba(139, 92, 246, 0.8) 0%, rgba(139, 92, 246, 0.6) 50%, rgba(139, 92, 246, 0.8) 100%)";{const le=1-He*2,Xe=Math.round(139+81*le),Ke=Math.round(92+-54*le),St=Math.round(246+-208*le);return`linear-gradient(90deg, rgba(${Xe}, ${Ke}, ${St}, 0.8) 0%, rgba(${Math.round(Xe*.7)}, ${Math.round(Ke*.7)}, ${Math.round(St*.7)}, 0.8) 50%, rgba(${Xe}, ${Ke}, ${St}, 0.8) 100%)`}},P=!!d.votes[u],F=N[u],se=d.voteDisplayMode!=="hidden",ye=d.voteDisplayMode==="visible",me=d.votes[u]||Yt.vote,ze=d.confirmedVotes?.includes(u)??!1,mt=!O;return g.jsxs("div",{className:"card",children:[g.jsx("header",{className:"header",children:g.jsx("h2",{children:"Desempate"})}),g.jsxs("section",{style:{textAlign:"center",padding:"16px 0",borderBottom:"1px solid rgba(139, 92, 246, 0.2)"},children:[g.jsx("p",{style:{fontSize:"1.1rem",color:"#e0e7ff",fontWeight:600},children:k}),O&&g.jsx("p",{style:{fontSize:"0.95rem",color:"#a5b4fc",marginTop:"8px"},children:"Ests empatado. Los dems jugadores votarn para decidir."})]}),Rt!==null&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",margin:"16px 0 24px 0"},children:[g.jsx("div",{className:"turn-timer-bar",style:{flex:1},children:g.jsx("div",{className:"turn-timer-progress",style:{width:`${Rt/10*100}%`,transition:"width 1s linear, background 0.5s ease",background:W(Rt,10)}})}),g.jsxs("span",{style:{color:"#a78bfa",fontSize:"0.9rem",fontWeight:600,minWidth:"30px",textAlign:"right"},children:[Rt,"s"]})]}),g.jsx("section",{className:"vote-grid",children:ee.map(de=>{const Fe=G.get(de.id)?.word||"-",He=me===de.id,le=Object.keys(d.votes).length>0,Xe=le?Object.values(d.votes).filter(li=>li===de.id).length:Object.values(N).filter(li=>li===de.id).length,Ke=j(de.id,!le),hn=!(d.allowVoteChange||!P)&&P&&!He||ze&&!He,Xn=!mt||hn,pt=se;return g.jsxs("button",{type:"button",className:`vote-card${He?" selected":""}${hn?" locked":""}${mt?"":" disabled"}`,onClick:()=>mt&&!hn&&ei(de.id),disabled:Xn,style:{display:pt?"grid":"flex",gridTemplateColumns:pt?"1fr 1fr":void 0,gridTemplateRows:pt?"auto auto":void 0,flexDirection:pt?void 0:"row",alignItems:pt?"start":"center",justifyContent:pt?"stretch":"center",gap:pt?"8px 12px":"16px",padding:"12px 16px",textAlign:pt?"left":"center",alignContent:pt?"stretch":void 0,border:F===de.id?"2px solid #a78bfa":void 0,opacity:mt?1:.6,cursor:Xn?"not-allowed":"pointer"},children:[g.jsxs("div",{style:{fontSize:"1.05rem",fontWeight:600,color:"#e0e7ff",gridColumn:pt?"1":void 0,gridRow:pt?"1":void 0},children:[de.name,F===de.id&&g.jsx("span",{style:{marginLeft:"6px",fontSize:"0.85rem",color:"#a78bfa"},children:"(anterior)"})]}),se&&g.jsxs("div",{style:{gridColumn:pt?"2":void 0,gridRow:pt?"1":void 0,textAlign:"right",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",gap:"2px"},children:[g.jsx("div",{style:{fontSize:"2rem",color:"#a78bfa",fontWeight:700,lineHeight:"1"},children:Xe}),ye&&Ke.length>0&&g.jsx("div",{style:{fontSize:"0.75rem",color:"#c4b5fd",textAlign:"right",maxWidth:"100px"},children:Ke.join(", ")})]}),g.jsx("div",{style:{gridColumn:pt?"1 / -1":void 0,gridRow:pt?"2":void 0,fontSize:"0.9rem",color:"#a5b4fc",marginTop:pt?"4px":"8px",textAlign:pt?"left":"center"},children:Fe})]},de.id)})}),d.allowVoteChange&&mt&&g.jsxs("footer",{className:"footer",style:{marginTop:"24px"},children:[g.jsx("button",{type:"button",className:"button primary",onClick:ta,disabled:!P||ze,style:{opacity:!P||ze?.5:1,cursor:!P||ze?"not-allowed":"pointer"},children:ze?"Voto confirmado":"Confirmar voto"}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"#a5b4fc",textAlign:"center",marginTop:"12px"},children:[d.confirmedVotes?.length??0," votacin",d.confirmedVotes?.length!==1?"es":""," confirmada",(d.confirmedVotes?.length??0)!==1?"s":""]})]})]})},Ln=()=>{if(!d)return null;if(d.elimination){const Y=d.players.find(me=>me.id===d.elimination?.targetId),G=d.winner!==void 0,j=Y?.name??"Jugador desconocido",P=(d.elimination.wasImpostor?"era el impostor":"era inocente").slice(0,ml),F=d.round+1,se=d.players.find(me=>me.isImpostor),ye=d.players.filter(me=>!me.isImpostor);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`card reveal-animation-container ${un?"blur-out":""}`,style:{transition:un?"filter 0.8s ease-out, opacity 0.8s ease-out":"none",filter:un?"blur(15px)":"blur(0px)",opacity:un?.3:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",maxHeight:"100vh",padding:"40px 20px",overflow:"hidden",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%"},children:g.jsxs("section",{className:"reveal-result",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",width:"100%"},children:[g.jsx("h2",{className:"eliminated-name",style:{fontSize:"32px",fontWeight:700,marginBottom:"32px",color:"#ffffff",textAlign:"center",width:"100%"},children:j}),g.jsx("p",{className:"reveal-text-animated",style:{fontSize:"24px",fontWeight:600,minHeight:"40px",textAlign:"center",color:"#ffffff",fontFamily:'"Inter", "Segoe UI", system-ui, -apple-system, sans-serif',width:"100%"},children:P})]})}),un&&g.jsx("div",{className:"result-screen-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(10, 14, 39, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px",animation:"fadeInBlur 0.5s ease-in"},children:g.jsxs("div",{className:"result-content",style:{textAlign:"center",animation:"slideInUp 0.6s ease-out"},children:[G?d.winner==="impostor"?g.jsxs(g.Fragment,{children:[g.jsx("h2",{style:{fontSize:"36px",fontWeight:700,color:"#ef4444",marginBottom:"24px"},children:"Ganador"}),se&&g.jsx("p",{style:{fontSize:"28px",fontWeight:600,color:"#ffffff",marginTop:"16px"},children:se.name})]}):g.jsxs(g.Fragment,{children:[g.jsx("h2",{style:{fontSize:"36px",fontWeight:700,color:"#10b981",marginBottom:"24px"},children:"Ganadores"}),g.jsx("div",{style:{marginTop:"16px"},children:ye.map((me,ze)=>g.jsx("p",{style:{fontSize:"24px",fontWeight:600,color:"#ffffff",marginBottom:ze<ye.length-1?"12px":"0"},children:me.name},me.id))})]}):g.jsxs(g.Fragment,{children:[g.jsxs("h2",{style:{fontSize:"36px",fontWeight:700,color:"#ffffff",marginBottom:"24px"},children:["Ronda ",F]}),g.jsx("p",{style:{color:"#a5b4fc",fontSize:"16px",marginTop:"16px"},children:"La partida contina..."})]}),G&&g.jsxs("div",{style:{marginTop:"40px"},children:[!p&&g.jsx("p",{style:{color:"#a5b4fc",fontSize:"16px",animation:"fadeIn 0.8s ease-in 0.3s both"},children:"Esperando al anfitrin..."}),p&&g.jsx("button",{type:"button",className:"button primary",onClick:st,style:{marginTop:"24px",animation:"fadeIn 0.8s ease-in 0.3s both"},children:"Nueva partida"})]})]})})]})}const b=d.winner!==void 0,M="Empate",O="No se ha eliminado a nadie".slice(0,ml),U=d.round+1,k=d.players.find(Y=>Y.isImpostor),ee=d.players.filter(Y=>!Y.isImpostor);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`card reveal-animation-container ${un?"blur-out":""}`,style:{transition:un?"filter 0.8s ease-out, opacity 0.8s ease-out":"none",filter:un?"blur(15px)":"blur(0px)",opacity:un?.3:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",maxHeight:"100vh",padding:"40px 20px",overflow:"hidden",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%"},children:g.jsxs("section",{className:"reveal-result",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",width:"100%"},children:[g.jsx("h2",{className:"eliminated-name",style:{fontSize:"32px",fontWeight:700,marginBottom:"32px",color:"#ffffff",textAlign:"center",width:"100%"},children:M}),g.jsx("p",{className:"reveal-text-animated",style:{fontSize:"24px",fontWeight:600,minHeight:"40px",textAlign:"center",color:"#ffffff",fontFamily:'"Inter", "Segoe UI", system-ui, -apple-system, sans-serif',width:"100%"},children:O})]})}),un&&g.jsx("div",{className:"result-screen-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(10, 14, 39, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px",animation:"fadeInBlur 0.5s ease-in"},children:g.jsxs("div",{className:"result-content",style:{textAlign:"center",animation:"slideInUp 0.6s ease-out"},children:[b?d.winner==="impostor"?g.jsxs(g.Fragment,{children:[g.jsx("h2",{style:{fontSize:"36px",fontWeight:700,color:"#ef4444",marginBottom:"24px"},children:"Ganador"}),k&&g.jsx("p",{style:{fontSize:"28px",fontWeight:600,color:"#ffffff",marginTop:"16px"},children:k.name})]}):g.jsxs(g.Fragment,{children:[g.jsx("h2",{style:{fontSize:"36px",fontWeight:700,color:"#10b981",marginBottom:"24px"},children:"Ganadores"}),g.jsx("div",{style:{marginTop:"16px"},children:ee.map((Y,G)=>g.jsx("p",{style:{fontSize:"24px",fontWeight:600,color:"#ffffff",marginBottom:G<ee.length-1?"12px":"0"},children:Y.name},Y.id))})]}):g.jsxs(g.Fragment,{children:[g.jsxs("h2",{style:{fontSize:"36px",fontWeight:700,color:"#ffffff",marginBottom:"24px"},children:["Ronda ",U]}),g.jsx("p",{style:{color:"#a5b4fc",fontSize:"16px",marginTop:"16px"},children:"La partida contina..."})]}),b&&g.jsxs("div",{style:{marginTop:"40px"},children:[!p&&g.jsx("p",{style:{color:"#a5b4fc",fontSize:"16px",animation:"fadeIn 0.8s ease-in 0.3s both"},children:"Esperando al anfitrin..."}),p&&g.jsx("button",{type:"button",className:"button primary",onClick:st,style:{marginTop:"24px",animation:"fadeIn 0.8s ease-in 0.3s both"},children:"Nueva partida"})]})]})})]})};if(!qe&&f&&!p)return g.jsx("main",{className:"app",children:g.jsxs("div",{className:"card",children:[g.jsx("h2",{children:"Modo Demo"}),g.jsx("p",{children:"En modo demo solo puedes jugar como anfitrin. Para jugar con otros jugadores, configura Firebase o Supabase."}),g.jsx("button",{type:"button",className:"primary",onClick:Lt,children:"Volver al inicio"})]})});const ii=d?.phase??(f?"lobby":"home");if(!l)return g.jsx("main",{className:"app",children:g.jsxs("div",{className:"card",children:[g.jsx("h2",{children:"Cargando..."}),g.jsx("p",{className:"waiting",children:"Inicializando aplicacin..."})]})});try{return g.jsxs("main",{className:"app",children:[jt&&!f?g.jsxs(g.Fragment,{children:[hl==="players"&&Tr(),hl==="config"&&ni(),hl==="reveal"&&ji(),hl==="game"&&gu()]}):f?null:ts(),f&&(!d||ii==="lobby")?xr():null,f&&d&&ii==="wordReveal"?Ar():null,f&&d&&ii==="clue"?yu():null,f&&d&&ii==="voting"?ia():null,f&&d&&ii==="tiebreaker"?la():null,f&&d&&ii==="reveal"?Ln():null,Q&&g.jsx("div",{className:"status",children:Q}),f&&d&&Yt&&!Yt.alive&&d.phase!=="reveal"&&d.winner===void 0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,border:"4px solid rgba(239, 68, 68, 0.6)",zIndex:9998,pointerEvents:"none",boxShadow:"inset 0 0 0 4px rgba(239, 68, 68, 0.3)"}}),g.jsx("div",{style:{position:"fixed",top:"16px",left:"16px",zIndex:9999,pointerEvents:"none"},children:g.jsx("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.2)",border:"2px solid rgba(239, 68, 68, 0.6)",borderRadius:"8px",padding:"12px 20px",textAlign:"center",backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:g.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#ef4444",margin:0,textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:"ELIMINADO"})})})]})]})}catch(b){return console.error("Error al renderizar App:",b),g.jsx("main",{className:"app",children:g.jsxs("div",{className:"card",children:[g.jsx("h2",{style:{color:"#ef4444",marginBottom:"16px"},children:"Error al cargar la aplicacin"}),g.jsx("p",{style:{color:"#e0e7ff",marginBottom:"12px"},children:"Ha ocurrido un error. Por favor, recarga la pgina."}),g.jsxs("pre",{style:{background:"rgba(239, 68, 68, 0.1)",padding:"12px",borderRadius:"8px",fontSize:"12px",color:"#fca5a5",overflow:"auto",textAlign:"left"},children:[b instanceof Error?b.message:String(b),b instanceof Error&&b.stack?`

${b.stack}`:""]})]})})}},Ll=(a,n,l)=>{const r=l.map(x=>x.id===n?{...x,alive:!1}:x),u=r.find(x=>x.id===n),f=r.some(x=>x.isImpostor&&x.alive),h=r.filter(x=>x.alive).length;if(!u)return{...a,phase:"reveal",votes:{},confirmedVotes:[],elimination:void 0,currentTurnIndex:-1};const p=f&&h<=2,_=!f;let d;return p?d="impostor":_&&(d="civilians"),{...a,players:r,phase:"reveal",votes:{},confirmedVotes:[],elimination:{targetId:n,wasImpostor:!!u.isImpostor},winner:d,currentTurnIndex:-1}},sd=document.getElementById("app");if(!sd)throw new Error("No se encontr el elemento #app");try{Tb.createRoot(sd).render(g.jsx(gb.StrictMode,{children:g.jsx(MT,{})}))}catch(a){console.error("Error al renderizar la aplicacin:",a),sd.innerHTML=`
    <div style="padding: 24px; color: white; text-align: center; background: rgba(15, 23, 42, 0.92); border-radius: 20px; margin: 24px;">
      <h1>Error al cargar la aplicacin</h1>
      <p>Por favor, recarga la pgina.</p>
      <pre style="background: rgba(255,0,0,0.2); padding: 12px; border-radius: 8px; margin-top: 16px; text-align: left; overflow-x: auto; font-size: 12px;">
        ${a instanceof Error?a.message:String(a)}
      </pre>
    </div>
  `}
//# sourceMappingURL=index-M7b57bkj.js.map
